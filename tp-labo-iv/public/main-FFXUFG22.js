var dS=Object.create;var ch=Object.defineProperty,hS=Object.defineProperties,fS=Object.getOwnPropertyDescriptor,pS=Object.getOwnPropertyDescriptors,gS=Object.getOwnPropertyNames,I_=Object.getOwnPropertySymbols,E_=Object.getPrototypeOf,D_=Object.prototype.hasOwnProperty,mS=Object.prototype.propertyIsEnumerable,yS=Reflect.get;var w_=(t,e,n)=>e in t?ch(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,O=(t,e)=>{for(var n in e||={})D_.call(e,n)&&w_(t,n,e[n]);if(I_)for(var n of I_(e))mS.call(e,n)&&w_(t,n,e[n]);return t},re=(t,e)=>hS(t,pS(e));var vS=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var _S=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of gS(e))!D_.call(t,i)&&i!==n&&ch(t,i,{get:()=>e[i],enumerable:!(r=fS(e,i))||r.enumerable});return t};var C_=(t,e,n)=>(n=t!=null?dS(E_(t)):{},_S(e||!t||!t.__esModule?ch(n,"default",{value:t,enumerable:!0}):n,t));var Wn=(t,e,n)=>yS(E_(t),n,e);var w=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{c(n.next(u))}catch(l){i(l)}},o=u=>{try{c(n.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);c((n=n.apply(t,e)).next())});var mv=vS((A0,Nd)=>{"use strict";(function(t,e){typeof Nd=="object"&&Nd.exports?Nd.exports=e():t.Toastify=e()})(A0,function(t){var e=function(s){return new e.lib.init(s)},n="1.12.0";e.defaults={oldestFirst:!0,text:"Toastify is awesome!",node:void 0,duration:3e3,selector:void 0,callback:function(){},destination:void 0,newWindow:!1,close:!1,gravity:"toastify-top",positionLeft:!1,position:"",backgroundColor:"",avatar:"",className:"",stopOnFocus:!0,onClick:function(){},offset:{x:0,y:0},escapeMarkup:!0,ariaLive:"polite",style:{background:""}},e.lib=e.prototype={toastify:n,constructor:e,init:function(s){return s||(s={}),this.options={},this.toastElement=null,this.options.text=s.text||e.defaults.text,this.options.node=s.node||e.defaults.node,this.options.duration=s.duration===0?0:s.duration||e.defaults.duration,this.options.selector=s.selector||e.defaults.selector,this.options.callback=s.callback||e.defaults.callback,this.options.destination=s.destination||e.defaults.destination,this.options.newWindow=s.newWindow||e.defaults.newWindow,this.options.close=s.close||e.defaults.close,this.options.gravity=s.gravity==="bottom"?"toastify-bottom":e.defaults.gravity,this.options.positionLeft=s.positionLeft||e.defaults.positionLeft,this.options.position=s.position||e.defaults.position,this.options.backgroundColor=s.backgroundColor||e.defaults.backgroundColor,this.options.avatar=s.avatar||e.defaults.avatar,this.options.className=s.className||e.defaults.className,this.options.stopOnFocus=s.stopOnFocus===void 0?e.defaults.stopOnFocus:s.stopOnFocus,this.options.onClick=s.onClick||e.defaults.onClick,this.options.offset=s.offset||e.defaults.offset,this.options.escapeMarkup=s.escapeMarkup!==void 0?s.escapeMarkup:e.defaults.escapeMarkup,this.options.ariaLive=s.ariaLive||e.defaults.ariaLive,this.options.style=s.style||e.defaults.style,s.backgroundColor&&(this.options.style.background=s.backgroundColor),this},buildToast:function(){if(!this.options)throw"Toastify is not initialized";var s=document.createElement("div");s.className="toastify on "+this.options.className,this.options.position?s.className+=" toastify-"+this.options.position:this.options.positionLeft===!0?(s.className+=" toastify-left",console.warn("Property `positionLeft` will be depreciated in further versions. Please use `position` instead.")):s.className+=" toastify-right",s.className+=" "+this.options.gravity,this.options.backgroundColor&&console.warn('DEPRECATION NOTICE: "backgroundColor" is being deprecated. Please use the "style.background" property.');for(var o in this.options.style)s.style[o]=this.options.style[o];if(this.options.ariaLive&&s.setAttribute("aria-live",this.options.ariaLive),this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)s.appendChild(this.options.node);else if(this.options.escapeMarkup?s.innerText=this.options.text:s.innerHTML=this.options.text,this.options.avatar!==""){var c=document.createElement("img");c.src=this.options.avatar,c.className="toastify-avatar",this.options.position=="left"||this.options.positionLeft===!0?s.appendChild(c):s.insertAdjacentElement("afterbegin",c)}if(this.options.close===!0){var u=document.createElement("button");u.type="button",u.setAttribute("aria-label","Close"),u.className="toast-close",u.innerHTML="&#10006;",u.addEventListener("click",(function(M){M.stopPropagation(),this.removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue)}).bind(this));var l=window.innerWidth>0?window.innerWidth:screen.width;(this.options.position=="left"||this.options.positionLeft===!0)&&l>360?s.insertAdjacentElement("afterbegin",u):s.appendChild(u)}if(this.options.stopOnFocus&&this.options.duration>0){var f=this;s.addEventListener("mouseover",function(M){window.clearTimeout(s.timeOutValue)}),s.addEventListener("mouseleave",function(){s.timeOutValue=window.setTimeout(function(){f.removeElement(s)},f.options.duration)})}if(typeof this.options.destination<"u"&&s.addEventListener("click",(function(M){M.stopPropagation(),this.options.newWindow===!0?window.open(this.options.destination,"_blank"):window.location=this.options.destination}).bind(this)),typeof this.options.onClick=="function"&&typeof this.options.destination>"u"&&s.addEventListener("click",(function(M){M.stopPropagation(),this.options.onClick()}).bind(this)),typeof this.options.offset=="object"){var g=r("x",this.options),_=r("y",this.options),I=this.options.position=="left"?g:"-"+g,A=this.options.gravity=="toastify-top"?_:"-"+_;s.style.transform="translate("+I+","+A+")"}return s},showToast:function(){this.toastElement=this.buildToast();var s;if(typeof this.options.selector=="string"?s=document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||typeof ShadowRoot<"u"&&this.options.selector instanceof ShadowRoot?s=this.options.selector:s=document.body,!s)throw"Root element is not defined";var o=e.defaults.oldestFirst?s.firstChild:s.lastChild;return s.insertBefore(this.toastElement,o),e.reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout((function(){this.removeElement(this.toastElement)}).bind(this),this.options.duration)),this},hideToast:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this.removeElement(this.toastElement)},removeElement:function(s){s.className=s.className.replace(" on",""),window.setTimeout((function(){this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),s.parentNode&&s.parentNode.removeChild(s),this.options.callback.call(s),e.reposition()}).bind(this),400)}},e.reposition=function(){for(var s={top:15,bottom:15},o={top:15,bottom:15},c={top:15,bottom:15},u=document.getElementsByClassName("toastify"),l,f=0;f<u.length;f++){i(u[f],"toastify-top")===!0?l="toastify-top":l="toastify-bottom";var g=u[f].offsetHeight;l=l.substr(9,l.length-1);var _=15,I=window.innerWidth>0?window.innerWidth:screen.width;I<=360?(u[f].style[l]=c[l]+"px",c[l]+=g+_):i(u[f],"toastify-left")===!0?(u[f].style[l]=s[l]+"px",s[l]+=g+_):(u[f].style[l]=o[l]+"px",o[l]+=g+_)}return this};function r(s,o){return o.offset[s]?isNaN(o.offset[s])?o.offset[s]:o.offset[s]+"px":"0px"}function i(s,o){return!s||typeof o!="string"?!1:!!(s.className&&s.className.trim().split(/\s+/gi).indexOf(o)>-1)}return e.lib.init.prototype=e.lib,e})});function b_(t,e){return Object.is(t,e)}var ke=null,mc=!1,yc=1,gn=Symbol("SIGNAL");function ae(t){let e=ke;return ke=t,e}function T_(){return ke}var Eo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function dh(t){if(mc)throw new Error("");if(ke===null)return;ke.consumerOnSignalRead(t);let e=ke.nextProducerIndex++;if(wc(ke),e<ke.producerNode.length&&ke.producerNode[e]!==t&&wo(ke)){let n=ke.producerNode[e];Ic(n,ke.producerIndexOfThis[e])}ke.producerNode[e]!==t&&(ke.producerNode[e]=t,ke.producerIndexOfThis[e]=wo(ke)?M_(t,ke,e):0),ke.producerLastReadVersion[e]=t.version}function IS(){yc++}function S_(t){if(!(wo(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===yc)){if(!t.producerMustRecompute(t)&&!fh(t)){t.dirty=!1,t.lastCleanEpoch=yc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=yc}}function A_(t){if(t.liveConsumerNode===void 0)return;let e=mc;mc=!0;try{for(let n of t.liveConsumerNode)n.dirty||wS(n)}finally{mc=e}}function R_(){return ke?.consumerAllowSignalWrites!==!1}function wS(t){t.dirty=!0,A_(t),t.consumerMarkedDirty?.(t)}function _c(t){return t&&(t.nextProducerIndex=0),ae(t)}function hh(t,e){if(ae(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(wo(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Ic(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function fh(t){wc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(S_(n),r!==n.version))return!0}return!1}function ph(t){if(wc(t),wo(t))for(let e=0;e<t.producerNode.length;e++)Ic(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function M_(t,e,n){if(N_(t),t.liveConsumerNode.length===0&&x_(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=M_(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Ic(t,e){if(N_(t),t.liveConsumerNode.length===1&&x_(t))for(let r=0;r<t.producerNode.length;r++)Ic(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];wc(i),i.producerIndexOfThis[r]=e}}function wo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function wc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function N_(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function x_(t){return t.producerNode!==void 0}function P_(t){let e=Object.create(ES);e.computation=t;let n=()=>{if(S_(e),dh(e),e.value===vc)throw e.error;return e.value};return n[gn]=e,n}var uh=Symbol("UNSET"),lh=Symbol("COMPUTING"),vc=Symbol("ERRORED"),ES=re(O({},Eo),{value:uh,dirty:!0,error:null,equal:b_,producerMustRecompute(t){return t.value===uh||t.value===lh},producerRecomputeValue(t){if(t.value===lh)throw new Error("Detected cycle in computations.");let e=t.value;t.value=lh;let n=_c(t),r;try{r=t.computation()}catch(i){r=vc,t.error=i}finally{hh(t,n)}if(e!==uh&&e!==vc&&r!==vc&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function DS(){throw new Error}var O_=DS;function k_(){O_()}function F_(t){O_=t}var CS=null;function L_(t){let e=Object.create(j_);e.value=t;let n=()=>(dh(e),e.value);return n[gn]=e,n}function gh(t,e){R_()||k_(),t.equal(t.value,e)||(t.value=e,bS(t))}function V_(t,e){R_()||k_(),gh(t,e(t.value))}var j_=re(O({},Eo),{equal:b_,value:void 0});function bS(t){t.version++,IS(),A_(t),CS?.()}function K(t){return typeof t=="function"}function Ti(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ec=Ti(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Rr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Te=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(K(r))try{r()}catch(s){e=s instanceof Ec?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{U_(s)}catch(o){e=e??[],o instanceof Ec?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Ec(e)}}add(e){var n;if(e&&e!==this)if(this.closed)U_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Rr(n,e)}remove(e){let{_finalizers:n}=this;n&&Rr(n,e),e instanceof t&&e._removeParent(this)}};Te.EMPTY=(()=>{let t=new Te;return t.closed=!0,t})();var mh=Te.EMPTY;function Dc(t){return t instanceof Te||t&&"closed"in t&&K(t.remove)&&K(t.add)&&K(t.unsubscribe)}function U_(t){K(t)?t():t.unsubscribe()}var kt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Si={setTimeout(t,e,...n){let{delegate:r}=Si;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Si;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Cc(t){Si.setTimeout(()=>{let{onUnhandledError:e}=kt;if(e)e(t);else throw t})}function Do(){}var B_=yh("C",void 0,void 0);function $_(t){return yh("E",void 0,t)}function H_(t){return yh("N",t,void 0)}function yh(t,e,n){return{kind:t,value:e,error:n}}var Mr=null;function Ai(t){if(kt.useDeprecatedSynchronousErrorHandling){let e=!Mr;if(e&&(Mr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Mr;if(Mr=null,n)throw r}}else t()}function q_(t){kt.useDeprecatedSynchronousErrorHandling&&Mr&&(Mr.errorThrown=!0,Mr.error=t)}var Nr=class extends Te{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Dc(e)&&e.add(this)):this.destination=AS}static create(e,n,r){return new Ri(e,n,r)}next(e){this.isStopped?_h(H_(e),this):this._next(e)}error(e){this.isStopped?_h($_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?_h(B_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},TS=Function.prototype.bind;function vh(t,e){return TS.call(t,e)}var Ih=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){bc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){bc(r)}else bc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){bc(n)}}},Ri=class extends Nr{constructor(e,n,r){super();let i;if(K(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&kt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&vh(e.next,s),error:e.error&&vh(e.error,s),complete:e.complete&&vh(e.complete,s)}):i=e}this.destination=new Ih(i)}};function bc(t){kt.useDeprecatedSynchronousErrorHandling?q_(t):Cc(t)}function SS(t){throw t}function _h(t,e){let{onStoppedNotification:n}=kt;n&&Si.setTimeout(()=>n(t,e))}var AS={closed:!0,next:Do,error:SS,complete:Do};var Mi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function yt(t){return t}function wh(...t){return Eh(t)}function Eh(t){return t.length===0?yt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ue=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=MS(n)?n:new Ri(n,r,i);return Ai(()=>{let{operator:o,source:c}=this;s.add(o?o.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=z_(r),new r((i,s)=>{let o=new Ri({next:c=>{try{n(c)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Mi](){return this}pipe(...n){return Eh(n)(this)}toPromise(n){return n=z_(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function z_(t){var e;return(e=t??kt.Promise)!==null&&e!==void 0?e:Promise}function RS(t){return t&&K(t.next)&&K(t.error)&&K(t.complete)}function MS(t){return t&&t instanceof Nr||RS(t)&&Dc(t)}function Dh(t){return K(t?.lift)}function le(t){return e=>{if(Dh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ie(t,e,n,r,i){return new Ch(t,e,n,r,i)}var Ch=class extends Nr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ni(){return le((t,e)=>{let n=null;t._refCount++;let r=ie(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var xi=class extends ue{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Dh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Te;let n=this.getSubject();e.add(this.source.subscribe(ie(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Te.EMPTY)}return e}refCount(){return Ni()(this)}};var G_=Ti(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ue=(()=>{class t extends ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Tc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new G_}next(n){Ai(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ai(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ai(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?mh:(this.currentObservers=null,s.push(n),new Te(()=>{this.currentObservers=null,Rr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new ue;return n.source=this,n}}return t.create=(e,n)=>new Tc(e,n),t})(),Tc=class extends Ue{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:mh}};var We=class extends Ue{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var bh={now(){return(bh.delegate||Date).now()},delegate:void 0};var Sc=class extends Te{constructor(e,n){super()}schedule(e,n=0){return this}};var Co={setInterval(t,e,...n){let{delegate:r}=Co;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Co;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Pi=class extends Sc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Co.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Co.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Rr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Oi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Oi.now=bh.now;var ki=class extends Oi{constructor(e,n=Oi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Th=new ki(Pi);var Ac=class extends Pi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Rc=class extends ki{};var Sh=new Rc(Ac);var vt=new ue(t=>t.complete());function W_(t){return t&&K(t.schedule)}function K_(t){return t[t.length-1]}function Mc(t){return K(K_(t))?t.pop():void 0}function Kn(t){return W_(K_(t))?t.pop():void 0}function Ah(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Y_(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(f){try{l(r.next(f))}catch(g){o(g)}}function u(f){try{l(r.throw(f))}catch(g){o(g)}}function l(f){f.done?s(f.value):i(f.value).then(c,u)}l((r=r.apply(t,e||[])).next())})}function Q_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function xr(t){return this instanceof xr?(this.v=t,this):new xr(t)}function Z_(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(I){return function(A){return Promise.resolve(A).then(I,g)}}function c(I,A){r[I]&&(i[I]=function(M){return new Promise(function(x,V){s.push([I,M,x,V])>1||u(I,M)})},A&&(i[I]=A(i[I])))}function u(I,A){try{l(r[I](A))}catch(M){_(s[0][3],M)}}function l(I){I.value instanceof xr?Promise.resolve(I.value.v).then(f,g):_(s[0][2],I)}function f(I){u("next",I)}function g(I){u("throw",I)}function _(I,A){I(A),s.shift(),s.length&&u(s[0][0],s[0][1])}}function J_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Q_=="function"?Q_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(c,u){o=t[s](o),i(c,u,o.done,o.value)})}}function i(s,o,c,u){Promise.resolve(u).then(function(l){s({value:l,done:c})},o)}}var Nc=t=>t&&typeof t.length=="number"&&typeof t!="function";function xc(t){return K(t?.then)}function Pc(t){return K(t[Mi])}function Oc(t){return Symbol.asyncIterator&&K(t?.[Symbol.asyncIterator])}function kc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function NS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Fc=NS();function Lc(t){return K(t?.[Fc])}function Vc(t){return Z_(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield xr(n.read());if(i)return yield xr(void 0);yield yield xr(r)}}finally{n.releaseLock()}})}function jc(t){return K(t?.getReader)}function Me(t){if(t instanceof ue)return t;if(t!=null){if(Pc(t))return xS(t);if(Nc(t))return PS(t);if(xc(t))return OS(t);if(Oc(t))return X_(t);if(Lc(t))return kS(t);if(jc(t))return FS(t)}throw kc(t)}function xS(t){return new ue(e=>{let n=t[Mi]();if(K(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function PS(t){return new ue(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function OS(t){return new ue(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Cc)})}function kS(t){return new ue(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function X_(t){return new ue(e=>{LS(t,e).catch(n=>e.error(n))})}function FS(t){return X_(Vc(t))}function LS(t,e){var n,r,i,s;return Y_(this,void 0,void 0,function*(){try{for(n=J_(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function ct(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Qn(t,e=0){return le((n,r)=>{n.subscribe(ie(r,i=>ct(r,t,()=>r.next(i),e),()=>ct(r,t,()=>r.complete(),e),i=>ct(r,t,()=>r.error(i),e)))})}function Yn(t,e=0){return le((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function eI(t,e){return Me(t).pipe(Yn(e),Qn(e))}function tI(t,e){return Me(t).pipe(Yn(e),Qn(e))}function nI(t,e){return new ue(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function rI(t,e){return new ue(n=>{let r;return ct(n,e,()=>{r=t[Fc](),ct(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>K(r?.return)&&r.return()})}function Uc(t,e){if(!t)throw new Error("Iterable cannot be null");return new ue(n=>{ct(n,e,()=>{let r=t[Symbol.asyncIterator]();ct(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function iI(t,e){return Uc(Vc(t),e)}function sI(t,e){if(t!=null){if(Pc(t))return eI(t,e);if(Nc(t))return nI(t,e);if(xc(t))return tI(t,e);if(Oc(t))return Uc(t,e);if(Lc(t))return rI(t,e);if(jc(t))return iI(t,e)}throw kc(t)}function Ae(t,e){return e?sI(t,e):Me(t)}function Q(...t){let e=Kn(t);return Ae(t,e)}function Fi(t,e){let n=K(t)?t:()=>t,r=i=>i.error(n());return new ue(e?i=>e.schedule(r,0,i):r)}function Rh(t){return!!t&&(t instanceof ue||K(t.lift)&&K(t.subscribe))}var mn=Ti(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ne(t,e){return le((n,r)=>{let i=0;n.subscribe(ie(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:VS}=Array;function jS(t,e){return VS(e)?t(...e):t(e)}function Bc(t){return ne(e=>jS(t,e))}var{isArray:US}=Array,{getPrototypeOf:BS,prototype:$S,keys:HS}=Object;function $c(t){if(t.length===1){let e=t[0];if(US(e))return{args:e,keys:null};if(qS(e)){let n=HS(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function qS(t){return t&&typeof t=="object"&&BS(t)===$S}function Hc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function qc(...t){let e=Kn(t),n=Mc(t),{args:r,keys:i}=$c(t);if(r.length===0)return Ae([],e);let s=new ue(zS(r,e,i?o=>Hc(i,o):yt));return n?s.pipe(Bc(n)):s}function zS(t,e,n=yt){return r=>{oI(e,()=>{let{length:i}=t,s=new Array(i),o=i,c=i;for(let u=0;u<i;u++)oI(e,()=>{let l=Ae(t[u],e),f=!1;l.subscribe(ie(r,g=>{s[u]=g,f||(f=!0,c--),c||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function oI(t,e,n){t?ct(n,t,e):e()}function aI(t,e,n,r,i,s,o,c){let u=[],l=0,f=0,g=!1,_=()=>{g&&!u.length&&!l&&e.complete()},I=M=>l<r?A(M):u.push(M),A=M=>{s&&e.next(M),l++;let x=!1;Me(n(M,f++)).subscribe(ie(e,V=>{i?.(V),s?I(V):e.next(V)},()=>{x=!0},void 0,()=>{if(x)try{for(l--;u.length&&l<r;){let V=u.shift();o?ct(e,o,()=>A(V)):A(V)}_()}catch(V){e.error(V)}}))};return t.subscribe(ie(e,I,()=>{g=!0,_()})),()=>{c?.()}}function Fe(t,e,n=1/0){return K(e)?Fe((r,i)=>ne((s,o)=>e(r,s,i,o))(Me(t(r,i))),n):(typeof e=="number"&&(n=e),le((r,i)=>aI(r,i,t,n)))}function Mh(t=1/0){return Fe(yt,t)}function cI(){return Mh(1)}function Li(...t){return cI()(Ae(t,Kn(t)))}function zc(t){return new ue(e=>{Me(t()).subscribe(e)})}function Nh(...t){let e=Mc(t),{args:n,keys:r}=$c(t),i=new ue(s=>{let{length:o}=n;if(!o){s.complete();return}let c=new Array(o),u=o,l=o;for(let f=0;f<o;f++){let g=!1;Me(n[f]).subscribe(ie(s,_=>{g||(g=!0,l--),c[f]=_},()=>u--,void 0,()=>{(!u||!g)&&(l||s.next(r?Hc(r,c):c),s.complete())}))}});return e?i.pipe(Bc(e)):i}function Ft(t,e){return le((n,r)=>{let i=0;n.subscribe(ie(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Zn(t){return le((e,n)=>{let r=null,i=!1,s;r=e.subscribe(ie(n,void 0,void 0,o=>{s=Me(t(o,Zn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function uI(t,e,n,r,i){return(s,o)=>{let c=n,u=e,l=0;s.subscribe(ie(o,f=>{let g=l++;u=c?t(u,f,g):(c=!0,f),r&&o.next(u)},i&&(()=>{c&&o.next(u),o.complete()})))}}function Vi(t,e){return K(e)?Fe(t,e,1):Fe(t,1)}function Jn(t){return le((e,n)=>{let r=!1;e.subscribe(ie(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function yn(t){return t<=0?()=>vt:le((e,n)=>{let r=0;e.subscribe(ie(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function xh(t){return ne(()=>t)}function Gc(t=GS){return le((e,n)=>{let r=!1;e.subscribe(ie(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function GS(){return new mn}function bo(t){return le((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Gt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ft((i,s)=>t(i,s,r)):yt,yn(1),n?Jn(e):Gc(()=>new mn))}function ji(t){return t<=0?()=>vt:le((e,n)=>{let r=[];e.subscribe(ie(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Ph(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ft((i,s)=>t(i,s,r)):yt,ji(1),n?Jn(e):Gc(()=>new mn))}function Oh(t,e){return le(uI(t,e,arguments.length>=2,!0))}function kh(...t){let e=Kn(t);return le((n,r)=>{(e?Li(t,n,e):Li(t,n)).subscribe(r)})}function Lt(t,e){return le((n,r)=>{let i=null,s=0,o=!1,c=()=>o&&!i&&r.complete();n.subscribe(ie(r,u=>{i?.unsubscribe();let l=0,f=s++;Me(t(u,f)).subscribe(i=ie(r,g=>r.next(e?e(u,g,f,l++):g),()=>{i=null,c()}))},()=>{o=!0,c()}))})}function Fh(t){return le((e,n)=>{Me(t).subscribe(ie(n,()=>n.complete(),Do)),!n.closed&&e.subscribe(n)})}function Le(t,e,n){let r=K(t)||e||n?{next:t,error:e,complete:n}:t;return r?le((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let c=!0;i.subscribe(ie(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):yt}var WI="https://g.co/ng/security#xss",$=class extends Error{constructor(e,n){super(Ff(e,n)),this.code=e}};function Ff(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Fo(t){return{toString:t}.toString()}var Wc="__parameters__";function WS(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function KS(t,e,n){return Fo(()=>{let r=WS(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return c.annotation=o,c;function c(u,l,f){let g=u.hasOwnProperty(Wc)?u[Wc]:Object.defineProperty(u,Wc,{value:[]})[Wc];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Yh=globalThis;function _e(t){for(let e in t)if(t[e]===_e)return e;throw Error("Could not find renamed property on target object.")}function QS(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ut(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ut).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function lI(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var YS=_e({__forward_ref__:_e});function Hr(t){return t.__forward_ref__=Hr,t.toString=function(){return ut(this())},t}function it(t){return KI(t)?t():t}function KI(t){return typeof t=="function"&&t.hasOwnProperty(YS)&&t.__forward_ref__===Hr}function q(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function is(t){return{providers:t.providers||[],imports:t.imports||[]}}function Su(t){return dI(t,YI)||dI(t,ZI)}function QI(t){return Su(t)!==null}function dI(t,e){return t.hasOwnProperty(e)?t[e]:null}function ZS(t){let e=t&&(t[YI]||t[ZI]);return e||null}function hI(t){return t&&(t.hasOwnProperty(fI)||t.hasOwnProperty(JS))?t[fI]:null}var YI=_e({\u0275prov:_e}),fI=_e({\u0275inj:_e}),ZI=_e({ngInjectableDef:_e}),JS=_e({ngInjectorDef:_e}),B=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=q({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function JI(t){return t&&!!t.\u0275providers}var XS=_e({\u0275cmp:_e}),eA=_e({\u0275dir:_e}),tA=_e({\u0275pipe:_e}),nA=_e({\u0275mod:_e}),ru=_e({\u0275fac:_e}),Ao=_e({__NG_ELEMENT_ID__:_e}),pI=_e({__NG_ENV_ID__:_e});function Au(t){return typeof t=="string"?t:t==null?"":String(t)}function rA(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Au(t)}function iA(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new $(-200,t)}function Lf(t,e){throw new $(-201,!1)}var J=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(J||{}),Zh;function XI(){return Zh}function Tt(t){let e=Zh;return Zh=t,e}function ew(t,e,n){let r=Su(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&J.Optional)return null;if(e!==void 0)return e;Lf(t,"Injector")}var sA={},Ro=sA,Jh="__NG_DI_FLAG__",iu="ngTempTokenPath",oA="ngTokenPath",aA=/\n/gm,cA="\u0275",gI="__source",Hi;function uA(){return Hi}function Xn(t){let e=Hi;return Hi=t,e}function lA(t,e=J.Default){if(Hi===void 0)throw new $(-203,!1);return Hi===null?ew(t,void 0,e):Hi.get(t,e&J.Optional?null:void 0,e)}function ee(t,e=J.Default){return(XI()||lA)(it(t),e)}function k(t,e=J.Default){return ee(t,Ru(e))}function Ru(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Xh(t){let e=[];for(let n=0;n<t.length;n++){let r=it(t[n]);if(Array.isArray(r)){if(r.length===0)throw new $(900,!1);let i,s=J.Default;for(let o=0;o<r.length;o++){let c=r[o],u=hA(c);typeof u=="number"?u===-1?i=c.token:s|=u:i=c}e.push(ee(i,s))}else e.push(ee(r))}return e}function dA(t,e){return t[Jh]=e,t.prototype[Jh]=e,t}function hA(t){return t[Jh]}function fA(t,e,n,r){let i=t[iu];throw e[gI]&&i.unshift(e[gI]),t.message=pA(`
`+t.message,i,n,r),t[oA]=i,t[iu]=null,t}function pA(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==cA?t.slice(2):t;let i=ut(e);if(Array.isArray(e))i=e.map(ut).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let c=e[o];s.push(o+":"+(typeof c=="string"?JSON.stringify(c):ut(c)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(aA,`
  `)}`}var dt=dA(KS("Optional"),8);function zi(t,e){let n=t.hasOwnProperty(ru);return n?t[ru]:null}function Vf(t,e){t.forEach(n=>Array.isArray(n)?Vf(n,e):e(n))}function tw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function su(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function gA(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function mA(t,e,n){let r=Lo(t,e);return r>=0?t[r|1]=n:(r=~r,gA(t,r,e,n)),r}function Lh(t,e){let n=Lo(t,e);if(n>=0)return t[n|1]}function Lo(t,e){return yA(t,e,1)}function yA(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Gi={},St=[],Wi=new B(""),nw=new B("",-1),rw=new B(""),ou=class{get(e,n=Ro){if(n===Ro){let r=new Error(`NullInjectorError: No provider for ${ut(e)}!`);throw r.name="NullInjectorError",r}return n}},iw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(iw||{}),Qt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Qt||{}),nr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(nr||{});function vA(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function ef(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],c=n[r++];t.setAttribute(e,o,c,s)}else{let s=i,o=n[++r];_A(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function sw(t){return t===3||t===4||t===6}function _A(t){return t.charCodeAt(0)===64}function Mo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?mI(t,n,i,null,e[++r]):mI(t,n,i,null,null))}}return t}function mI(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let c=t[s++];if(typeof c=="number"){if(c===e){o=-1;break}else if(c>e){o=s-1;break}}}for(;s<t.length;){let c=t[s];if(typeof c=="number")break;if(c===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var ow="ng-template";function IA(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&vA(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(jf(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function jf(t){return t.type===4&&t.value!==ow}function wA(t,e,n){let r=t.type===4&&!n?ow:t.value;return e===r}function EA(t,e,n){let r=4,i=t.attrs,s=i!==null?bA(i):0,o=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!o&&!Vt(r)&&!Vt(u))return!1;if(o&&Vt(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!wA(t,u,n)||u===""&&e.length===1){if(Vt(r))return!1;o=!0}}else if(r&8){if(i===null||!IA(t,i,u,n)){if(Vt(r))return!1;o=!0}}else{let l=e[++c],f=DA(u,i,jf(t),n);if(f===-1){if(Vt(r))return!1;o=!0;continue}if(l!==""){let g;if(f>s?g="":g=i[f+1].toLowerCase(),r&2&&l!==g){if(Vt(r))return!1;o=!0}}}}return Vt(r)||o}function Vt(t){return(t&1)===0}function DA(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return TA(e,t)}function CA(t,e,n=!1){for(let r=0;r<e.length;r++)if(EA(t,e[r],n))return!0;return!1}function bA(t){for(let e=0;e<t.length;e++){let n=t[e];if(sw(n))return e}return t.length}function TA(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function yI(t,e){return t?":not("+e.trim()+")":e}function SA(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let c=t[++n];i+="["+o+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Vt(o)&&(e+=yI(s,i),i=""),r=o,s=s||!Vt(r);n++}return i!==""&&(e+=yI(s,i)),e}function AA(t){return t.map(SA).join(",")}function RA(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Vt(i))break;i=s}r++}return{attrs:e,classes:n}}function ht(t){return Fo(()=>{let e=dw(t),n=re(O({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===iw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Qt.Emulated,styles:t.styles||St,_:null,schemas:t.schemas||null,tView:null,id:""});hw(n);let r=t.dependencies;return n.directiveDefs=_I(r,!1),n.pipeDefs=_I(r,!0),n.id=xA(n),n})}function MA(t){return Fr(t)||aw(t)}function NA(t){return t!==null}function ss(t){return Fo(()=>({type:t.type,bootstrap:t.bootstrap||St,declarations:t.declarations||St,imports:t.imports||St,exports:t.exports||St,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function vI(t,e){if(t==null)return Gi;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,c=nr.None;Array.isArray(i)?(c=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=c!==nr.None?[r,c]:r,e[s]=o):n[s]=r}return n}function ot(t){return Fo(()=>{let e=dw(t);return hw(e),e})}function Fr(t){return t[XS]||null}function aw(t){return t[eA]||null}function cw(t){return t[tA]||null}function uw(t){let e=Fr(t)||aw(t)||cw(t);return e!==null?e.standalone:!1}function lw(t,e){let n=t[nA]||null;if(!n&&e===!0)throw new Error(`Type ${ut(t)} does not have '\u0275mod' property.`);return n}function dw(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Gi,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||St,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:vI(t.inputs,e),outputs:vI(t.outputs),debugInfo:null}}function hw(t){t.features?.forEach(e=>e(t))}function _I(t,e){if(!t)return null;let n=e?cw:MA;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(NA)}function xA(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function en(t){return{\u0275providers:t}}function PA(...t){return{\u0275providers:fw(!0,t),\u0275fromNgModule:!0}}function fw(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Vf(e,o=>{let c=o;tf(c,s,[],r)&&(i||=[],i.push(c))}),i!==void 0&&pw(i,s),n}function pw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Uf(i,s=>{e(s,r)})}}function tf(t,e,n,r){if(t=it(t),!t)return!1;let i=null,s=hI(t),o=!s&&Fr(t);if(!s&&!o){let u=t.ngModule;if(s=hI(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let c=r.has(i);if(o){if(c)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)tf(l,e,n,r)}}else if(s){if(s.imports!=null&&!c){r.add(i);let l;try{Vf(s.imports,f=>{tf(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&pw(l,e)}if(!c){let l=zi(i)||(()=>new i);e({provide:i,useFactory:l,deps:St},i),e({provide:rw,useValue:i,multi:!0},i),e({provide:Wi,useValue:()=>ee(i),multi:!0},i)}let u=s.providers;if(u!=null&&!c){let l=t;Uf(u,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Uf(t,e){for(let n of t)JI(n)&&(n=n.\u0275providers),Array.isArray(n)?Uf(n,e):e(n)}var OA=_e({provide:String,useValue:_e});function gw(t){return t!==null&&typeof t=="object"&&OA in t}function kA(t){return!!(t&&t.useExisting)}function FA(t){return!!(t&&t.useFactory)}function Ki(t){return typeof t=="function"}function LA(t){return!!t.useClass}var Mu=new B(""),Jc={},VA={},Vh;function Bf(){return Vh===void 0&&(Vh=new ou),Vh}var Rt=class{},No=class extends Rt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,rf(e,o=>this.processProvider(o)),this.records.set(nw,Ui(void 0,this)),i.has("environment")&&this.records.set(Rt,Ui(void 0,this));let s=this.records.get(Mu);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(rw,St,J.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ae(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ae(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Xn(this),r=Tt(void 0),i;try{return e()}finally{Xn(n),Tt(r)}}get(e,n=Ro,r=J.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(pI))return e[pI](this);r=Ru(r);let i,s=Xn(this),o=Tt(void 0);try{if(!(r&J.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=HA(e)&&Su(e);l&&this.injectableDefInScope(l)?u=Ui(nf(e),Jc):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&J.Self?Bf():this.parent;return n=r&J.Optional&&n===Ro?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[iu]=c[iu]||[]).unshift(ut(e)),s)throw c;return fA(c,e,"R3InjectorError",this.source)}else throw c}finally{Tt(o),Xn(s)}}resolveInjectorInitializers(){let e=ae(null),n=Xn(this),r=Tt(void 0),i;try{let s=this.get(Wi,St,J.Self);for(let o of s)o()}finally{Xn(n),Tt(r),ae(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ut(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $(205,!1)}processProvider(e){e=it(e);let n=Ki(e)?e:it(e&&e.provide),r=UA(e);if(!Ki(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Ui(void 0,Jc,!0),i.factory=()=>Xh(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ae(null);try{return n.value===Jc&&(n.value=VA,n.value=n.factory()),typeof n.value=="object"&&n.value&&$A(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ae(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=it(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function nf(t){let e=Su(t),n=e!==null?e.factory:zi(t);if(n!==null)return n;if(t instanceof B)throw new $(204,!1);if(t instanceof Function)return jA(t);throw new $(204,!1)}function jA(t){if(t.length>0)throw new $(204,!1);let n=ZS(t);return n!==null?()=>n.factory(t):()=>new t}function UA(t){if(gw(t))return Ui(void 0,t.useValue);{let e=mw(t);return Ui(e,Jc)}}function mw(t,e,n){let r;if(Ki(t)){let i=it(t);return zi(i)||nf(i)}else if(gw(t))r=()=>it(t.useValue);else if(FA(t))r=()=>t.useFactory(...Xh(t.deps||[]));else if(kA(t))r=()=>ee(it(t.useExisting));else{let i=it(t&&(t.useClass||t.provide));if(BA(t))r=()=>new i(...Xh(t.deps));else return zi(i)||nf(i)}return r}function Ui(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function BA(t){return!!t.deps}function $A(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function HA(t){return typeof t=="function"||typeof t=="object"&&t instanceof B}function rf(t,e){for(let n of t)Array.isArray(n)?rf(n,e):n&&JI(n)?rf(n.\u0275providers,e):e(n)}function wn(t,e){t instanceof No&&t.assertNotDestroyed();let n,r=Xn(t),i=Tt(void 0);try{return e()}finally{Xn(r),Tt(i)}}function qA(){return XI()!==void 0||uA()!=null}function zA(t){return typeof t=="function"}var En=0,X=1,G=2,st=3,jt=4,Bt=5,au=6,cu=7,Ut=8,Qi=9,Yt=10,Be=11,xo=12,II=13,os=14,Zt=15,Yi=16,Bi=17,Zi=18,Nu=19,yw=20,er=21,jh=22,At=23,Jt=25,vw=1;var Lr=7,uu=8,lu=9,_t=10,du=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(du||{});function tr(t){return Array.isArray(t)&&typeof t[vw]=="object"}function Dn(t){return Array.isArray(t)&&t[vw]===!0}function _w(t){return(t.flags&4)!==0}function xu(t){return t.componentOffset>-1}function $f(t){return(t.flags&1)===1}function rr(t){return!!t.template}function sf(t){return(t[G]&512)!==0}var of=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Iw(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function sr(){return ww}function ww(t){return t.type.prototype.ngOnChanges&&(t.setInput=WA),GA}sr.ngInherit=!0;function GA(){let t=Dw(this),e=t?.current;if(e){let n=t.previous;if(n===Gi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function WA(t,e,n,r,i){let s=this.declaredInputs[r],o=Dw(t)||KA(t,{previous:Gi,current:null}),c=o.current||(o.current={}),u=o.previous,l=u[s];c[s]=new of(l&&l.currentValue,n,u===Gi),Iw(t,e,i,n)}var Ew="__ngSimpleChanges__";function Dw(t){return t[Ew]||null}function KA(t,e){return t[Ew]=e}var wI=null;var Wt=function(t,e,n){wI?.(t,e,n)},QA="svg",YA="math";function Xt(t){for(;Array.isArray(t);)t=t[En];return t}function Cw(t,e){return Xt(e[t])}function Mt(t,e){return Xt(e[t.index])}function Hf(t,e){return t.data[e]}function or(t,e){let n=e[t];return tr(n)?n:n[En]}function qf(t){return(t[G]&128)===128}function ZA(t){return Dn(t[st])}function hu(t,e){return e==null?null:t[e]}function bw(t){t[Bi]=0}function Tw(t){t[G]&1024||(t[G]|=1024,qf(t)&&Ou(t))}function JA(t,e){for(;t>0;)e=e[os],t--;return e}function Pu(t){return!!(t[G]&9216||t[At]?.dirty)}function af(t){t[Yt].changeDetectionScheduler?.notify(8),t[G]&64&&(t[G]|=1024),Pu(t)&&Ou(t)}function Ou(t){t[Yt].changeDetectionScheduler?.notify(0);let e=Vr(t);for(;e!==null&&!(e[G]&8192||(e[G]|=8192,!qf(e)));)e=Vr(e)}function Sw(t,e){if((t[G]&256)===256)throw new $(911,!1);t[er]===null&&(t[er]=[]),t[er].push(e)}function XA(t,e){if(t[er]===null)return;let n=t[er].indexOf(e);n!==-1&&t[er].splice(n,1)}function Vr(t){let e=t[st];return Dn(e)?e[st]:e}var de={lFrame:Fw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Aw=!1;function eR(){return de.lFrame.elementDepthCount}function tR(){de.lFrame.elementDepthCount++}function nR(){de.lFrame.elementDepthCount--}function Rw(){return de.bindingsEnabled}function rR(){return de.skipHydrationRootTNode!==null}function iR(t){return de.skipHydrationRootTNode===t}function sR(){de.skipHydrationRootTNode=null}function Ce(){return de.lFrame.lView}function Nt(){return de.lFrame.tView}function ft(){let t=Mw();for(;t!==null&&t.type===64;)t=t.parent;return t}function Mw(){return de.lFrame.currentTNode}function oR(){let t=de.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Vo(t,e){let n=de.lFrame;n.currentTNode=t,n.isParent=e}function Nw(){return de.lFrame.isParent}function aR(){de.lFrame.isParent=!1}function xw(){return Aw}function EI(t){Aw=t}function cR(t){return de.lFrame.bindingIndex=t}function ku(){return de.lFrame.bindingIndex++}function uR(t){let e=de.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function lR(){return de.lFrame.inI18n}function dR(t,e){let n=de.lFrame;n.bindingIndex=n.bindingRootIndex=t,cf(e)}function hR(){return de.lFrame.currentDirectiveIndex}function cf(t){de.lFrame.currentDirectiveIndex=t}function fR(t){let e=de.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Pw(t){de.lFrame.currentQueryIndex=t}function pR(t){let e=t[X];return e.type===2?e.declTNode:e.type===1?t[Bt]:null}function Ow(t,e,n){if(n&J.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&J.Host);)if(i=pR(s),i===null||(s=s[os],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=de.lFrame=kw();return r.currentTNode=e,r.lView=t,!0}function zf(t){let e=kw(),n=t[X];de.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function kw(){let t=de.lFrame,e=t===null?null:t.child;return e===null?Fw(t):e}function Fw(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Lw(){let t=de.lFrame;return de.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Vw=Lw;function Gf(){let t=Lw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function gR(t){return(de.lFrame.contextLView=JA(t,de.lFrame.contextLView))[Ut]}function as(){return de.lFrame.selectedIndex}function jr(t){de.lFrame.selectedIndex=t}function jw(){let t=de.lFrame;return Hf(t.tView,t.selectedIndex)}function mR(){return de.lFrame.currentNamespace}var Uw=!0;function Wf(){return Uw}function Kf(t){Uw=t}function yR(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=ww(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Qf(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=s;o&&(t.contentHooks??=[]).push(-n,o),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function Xc(t,e,n){Bw(t,e,3,n)}function eu(t,e,n,r){(t[G]&3)===n&&Bw(t,e,n,r)}function Uh(t,e){let n=t[G];(n&3)===e&&(n&=16383,n+=1,t[G]=n)}function Bw(t,e,n,r){let i=r!==void 0?t[Bi]&65535:0,s=r??-1,o=e.length-1,c=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[Bi]+=65536),(c<s||s==-1)&&(vR(t,n,e,u),t[Bi]=(t[Bi]&4294901760)+u+2),u++}function DI(t,e){Wt(4,t,e);let n=ae(null);try{e.call(t)}finally{ae(n),Wt(5,t,e)}}function vR(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],c=t[o];i?t[G]>>14<t[Bi]>>16&&(t[G]&3)===e&&(t[G]+=16384,DI(c,s)):DI(c,s)}var qi=-1,Ur=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function _R(t){return t instanceof Ur}function IR(t){return(t.flags&8)!==0}function wR(t){return(t.flags&16)!==0}var Bh={},uf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Ru(r);let i=this.injector.get(e,Bh,r);return i!==Bh||n===Bh?i:this.parentInjector.get(e,n,r)}};function $w(t){return t!==qi}function fu(t){return t&32767}function ER(t){return t>>16}function pu(t,e){let n=ER(t),r=e;for(;n>0;)r=r[os],n--;return r}var lf=!0;function CI(t){let e=lf;return lf=t,e}var DR=256,Hw=DR-1,qw=5,CR=0,Kt={};function bR(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ao)&&(r=n[Ao]),r==null&&(r=n[Ao]=CR++);let i=r&Hw,s=1<<i;e.data[t+(i>>qw)]|=s}function gu(t,e){let n=zw(t,e);if(n!==-1)return n;let r=e[X];r.firstCreatePass&&(t.injectorIndex=e.length,$h(r.data,t),$h(e,null),$h(r.blueprint,null));let i=Yf(t,e),s=t.injectorIndex;if($w(i)){let o=fu(i),c=pu(i,e),u=c[X].data;for(let l=0;l<8;l++)e[s+l]=c[o+l]|u[o+l]}return e[s+8]=i,s}function $h(t,e){t.push(0,0,0,0,0,0,0,0,e)}function zw(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Yf(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Yw(i),r===null)return qi;if(n++,i=i[os],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return qi}function df(t,e,n){bR(t,e,n)}function TR(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(sw(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function Gw(t,e,n){if(n&J.Optional||t!==void 0)return t;Lf(e,"NodeInjector")}function Ww(t,e,n,r){if(n&J.Optional&&r===void 0&&(r=null),!(n&(J.Self|J.Host))){let i=t[Qi],s=Tt(void 0);try{return i?i.get(e,r,n&J.Optional):ew(e,r,n&J.Optional)}finally{Tt(s)}}return Gw(r,e,n)}function Kw(t,e,n,r=J.Default,i){if(t!==null){if(e[G]&2048&&!(r&J.Self)){let o=NR(t,e,n,r,Kt);if(o!==Kt)return o}let s=Qw(t,e,n,r,Kt);if(s!==Kt)return s}return Ww(e,n,r,i)}function Qw(t,e,n,r,i){let s=RR(n);if(typeof s=="function"){if(!Ow(e,t,r))return r&J.Host?Gw(i,n,r):Ww(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&J.Optional))Lf(n);else return o}finally{Vw()}}else if(typeof s=="number"){let o=null,c=zw(t,e),u=qi,l=r&J.Host?e[Zt][Bt]:null;for((c===-1||r&J.SkipSelf)&&(u=c===-1?Yf(t,e):e[c+8],u===qi||!TI(r,!1)?c=-1:(o=e[X],c=fu(u),e=pu(u,e)));c!==-1;){let f=e[X];if(bI(s,c,f.data)){let g=SR(c,e,n,o,r,l);if(g!==Kt)return g}u=e[c+8],u!==qi&&TI(r,e[X].data[c+8]===l)&&bI(s,c,e)?(o=f,c=fu(u),e=pu(u,e)):c=-1}}return i}function SR(t,e,n,r,i,s){let o=e[X],c=o.data[t+8],u=r==null?xu(c)&&lf:r!=o&&(c.type&3)!==0,l=i&J.Host&&s===c,f=AR(c,o,n,u,l);return f!==null?Ji(e,o,f,c):Kt}function AR(t,e,n,r,i){let s=t.providerIndexes,o=e.data,c=s&1048575,u=t.directiveStart,l=t.directiveEnd,f=s>>20,g=r?c:c+f,_=i?c+f:l;for(let I=g;I<_;I++){let A=o[I];if(I<u&&n===A||I>=u&&A.type===n)return I}if(i){let I=o[u];if(I&&rr(I)&&I.type===n)return u}return null}function Ji(t,e,n,r){let i=t[n],s=e.data;if(_R(i)){let o=i;o.resolving&&iA(rA(s[n]));let c=CI(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?Tt(o.injectImpl):null,f=Ow(t,r,J.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&yR(n,s[n],e)}finally{l!==null&&Tt(l),CI(c),o.resolving=!1,Vw()}}return i}function RR(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ao)?t[Ao]:void 0;return typeof e=="number"?e>=0?e&Hw:MR:e}function bI(t,e,n){let r=1<<t;return!!(n[e+(t>>qw)]&r)}function TI(t,e){return!(t&J.Self)&&!(t&J.Host&&e)}var kr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Kw(this._tNode,this._lView,e,Ru(r),n)}};function MR(){return new kr(ft(),Ce())}function cs(t){return Fo(()=>{let e=t.prototype.constructor,n=e[ru]||hf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[ru]||hf(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function hf(t){return KI(t)?()=>{let e=hf(it(t));return e&&e()}:zi(t)}function NR(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[G]&2048&&!(o[G]&512);){let c=Qw(s,o,n,r|J.Self,Kt);if(c!==Kt)return c;let u=s.parent;if(!u){let l=o[yw];if(l){let f=l.get(n,Kt,r);if(f!==Kt)return f}u=Yw(o),o=o[os]}s=u}return i}function Yw(t){let e=t[X],n=e.type;return n===2?e.declTNode:n===1?t[Bt]:null}function Zf(t){return TR(ft(),t)}function SI(t,e=null,n=null,r){let i=Zw(t,e,n,r);return i.resolveInjectorInitializers(),i}function Zw(t,e=null,n=null,r,i=new Set){let s=[n||St,PA(t)];return r=r||(typeof t=="object"?void 0:ut(t)),new No(s,e||Bf(),r||null,i)}var Pr=class Pr{static create(e,n){if(Array.isArray(e))return SI({name:""},n,e,"");{let r=e.name??"";return SI({name:r},e.parent,e.providers,r)}}};Pr.THROW_IF_NOT_FOUND=Ro,Pr.NULL=new ou,Pr.\u0275prov=q({token:Pr,providedIn:"any",factory:()=>ee(nw)}),Pr.__NG_ELEMENT_ID__=-1;var lt=Pr;var xR=new B("");xR.__NG_ELEMENT_ID__=t=>{let e=ft();if(e===null)throw new $(204,!1);if(e.type&2)return e.value;if(t&J.Optional)return null;throw new $(204,!1)};var PR="ngOriginalError";function Hh(t){return t[PR]}var Jw=!0,Xw=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=OR,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),ff=class extends Xw{constructor(e){super(),this._lView=e}onDestroy(e){return Sw(this._lView,e),()=>XA(this._lView,e)}};function OR(){return new ff(Ce())}var us=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new We(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=q({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var pf=class extends Ue{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,qA()&&(this.destroyRef=k(Xw,{optional:!0})??void 0,this.pendingTasks=k(us,{optional:!0})??void 0)}emit(e){let n=ae(null);try{super.next(e)}finally{ae(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let c=super.subscribe({next:i,error:s,complete:o});return e instanceof Te&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Se=pf;function mu(...t){}function eE(t){let e,n;function r(){t=mu;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function AI(t){return queueMicrotask(()=>t()),()=>{t=mu}}var Jf="isAngularZone",yu=Jf+"_ID",kR=0,ye=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Se(!1),this.onMicrotaskEmpty=new Se(!1),this.onStable=new Se(!1),this.onError=new Se(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=Jw}=e;if(typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,VR(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Jf)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new $(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,FR,mu,mu);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},FR={};function Xf(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function LR(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){eE(()=>{t.callbackScheduled=!1,gf(t),t.isCheckStableRunning=!0,Xf(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),gf(t)}function VR(t){let e=()=>{LR(t)},n=kR++;t._inner=t._inner.fork({name:"angular",properties:{[Jf]:!0,[yu]:n,[yu+n]:!0},onInvokeTask:(r,i,s,o,c,u)=>{if(jR(u))return r.invokeTask(s,o,c,u);try{return RI(t),r.invokeTask(s,o,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),MI(t)}},onInvoke:(r,i,s,o,c,u,l)=>{try{return RI(t),r.invoke(s,o,c,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!UR(u)&&e(),MI(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,gf(t),Xf(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function gf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function RI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function MI(t){t._nesting--,Xf(t)}var mf=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Se,this.onMicrotaskEmpty=new Se,this.onStable=new Se,this.onError=new Se}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function jR(t){return tE(t,"__ignore_ng_zone__")}function UR(t){return tE(t,"__scheduler_tick__")}function tE(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var vn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Hh(e);for(;n&&Hh(n);)n=Hh(n);return n||null}},BR=new B("",{providedIn:"root",factory:()=>{let t=k(ye),e=k(vn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function $R(){return ep(ft(),Ce())}function ep(t,e){return new ar(Mt(t,e))}var ar=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=$R;let t=e;return t})();function nE(t){return(t.flags&128)===128}var rE=new Map,HR=0;function qR(){return HR++}function zR(t){rE.set(t[Nu],t)}function yf(t){rE.delete(t[Nu])}var NI="__ngContext__";function Br(t,e){tr(e)?(t[NI]=e[Nu],zR(e)):t[NI]=e}function iE(t){return oE(t[xo])}function sE(t){return oE(t[jt])}function oE(t){for(;t!==null&&!Dn(t);)t=t[jt];return t}var vf;function aE(t){vf=t}function GR(){if(vf!==void 0)return vf;if(typeof document<"u")return document;throw new $(210,!1)}var tp=new B("",{providedIn:"root",factory:()=>WR}),WR="ng",np=new B(""),cr=new B("",{providedIn:"platform",factory:()=>"unknown"});var rp=new B("",{providedIn:"root",factory:()=>GR().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var KR="h",QR="b";var YR=()=>null;function ip(t,e,n=!1){return YR(t,e,n)}var cE=!1,ZR=new B("",{providedIn:"root",factory:()=>cE});var Kc;function JR(){if(Kc===void 0&&(Kc=null,Yh.trustedTypes))try{Kc=Yh.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Kc}function xI(t){return JR()?.createScriptURL(t)||t}var vu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${WI})`}};function jo(t){return t instanceof vu?t.changingThisBreaksApplicationSecurity:t}function sp(t,e){let n=XR(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${WI})`)}return n===e}function XR(t){return t instanceof vu&&t.getTypeName()||null}var eM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function uE(t){return t=String(t),t.match(eM)?t:"unsafe:"+t}var Fu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Fu||{});function tM(t){let e=dE();return e?e.sanitize(Fu.URL,t)||"":sp(t,"URL")?jo(t):uE(Au(t))}function nM(t){let e=dE();if(e)return xI(e.sanitize(Fu.RESOURCE_URL,t)||"");if(sp(t,"ResourceURL"))return xI(jo(t));throw new $(904,!1)}function rM(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?nM:tM}function lE(t,e,n){return rM(e,n)(t)}function dE(){let t=Ce();return t&&t[Yt].sanitizer}function hE(t){return t instanceof Function?t():t}var _n=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(_n||{}),iM;function op(t,e){return iM(t,e)}function $i(t,e,n,r,i){if(r!=null){let s,o=!1;Dn(r)?s=r:tr(r)&&(o=!0,r=r[En]);let c=Xt(r);t===0&&n!==null?i==null?mE(e,n,c):Iu(e,n,c,i||null,!0):t===1&&n!==null?Iu(e,n,c,i||null,!0):t===2?_M(e,c,o):t===3&&e.destroyNode(c),s!=null&&wM(e,t,s,n,i)}}function sM(t,e){return t.createText(e)}function oM(t,e,n){t.setValue(e,n)}function fE(t,e,n){return t.createElement(e,n)}function aM(t,e){pE(t,e),e[En]=null,e[Bt]=null}function cM(t,e,n,r,i,s){r[En]=i,r[Bt]=e,Lu(t,r,n,1,i,s)}function pE(t,e){e[Yt].changeDetectionScheduler?.notify(9),Lu(t,e,e[Be],2,null,null)}function uM(t){let e=t[xo];if(!e)return qh(t[X],t);for(;e;){let n=null;if(tr(e))n=e[xo];else{let r=e[_t];r&&(n=r)}if(!n){for(;e&&!e[jt]&&e!==t;)tr(e)&&qh(e[X],e),e=e[st];e===null&&(e=t),tr(e)&&qh(e[X],e),n=e&&e[jt]}e=n}}function lM(t,e,n,r){let i=_t+r,s=n.length;r>0&&(n[i-1][jt]=e),r<s-_t?(e[jt]=n[i],tw(n,_t+r,e)):(n.push(e),e[jt]=null),e[st]=n;let o=e[Yi];o!==null&&n!==o&&gE(o,e);let c=e[Zi];c!==null&&c.insertView(t),af(e),e[G]|=128}function gE(t,e){let n=t[lu],r=e[st];if(tr(r))t[G]|=du.HasTransplantedViews;else{let i=r[st][Zt];e[Zt]!==i&&(t[G]|=du.HasTransplantedViews)}n===null?t[lu]=[e]:n.push(e)}function ap(t,e){let n=t[lu],r=n.indexOf(e);n.splice(r,1)}function _u(t,e){if(t.length<=_t)return;let n=_t+e,r=t[n];if(r){let i=r[Yi];i!==null&&i!==t&&ap(i,r),e>0&&(t[n-1][jt]=r[jt]);let s=su(t,_t+e);aM(r[X],r);let o=s[Zi];o!==null&&o.detachView(s[X]),r[st]=null,r[jt]=null,r[G]&=-129}return r}function cp(t,e){if(!(e[G]&256)){let n=e[Be];n.destroyNode&&Lu(t,e,n,3,null,null),uM(e)}}function qh(t,e){if(e[G]&256)return;let n=ae(null);try{e[G]&=-129,e[G]|=256,e[At]&&ph(e[At]),hM(t,e),dM(t,e),e[X].type===1&&e[Be].destroy();let r=e[Yi];if(r!==null&&Dn(e[st])){r!==e[st]&&ap(r,e);let i=e[Zi];i!==null&&i.detachView(t)}yf(e)}finally{ae(n)}}function dM(t,e){let n=t.cleanup,r=e[cu];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[cu]=null);let i=e[er];if(i!==null){e[er]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function hM(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Ur)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let c=i[s[o]],u=s[o+1];Wt(4,c,u);try{u.call(c)}finally{Wt(5,c,u)}}else{Wt(4,i,s);try{s.call(i)}finally{Wt(5,i,s)}}}}}function fM(t,e,n){return pM(t,e.parent,n)}function pM(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[En];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Qt.None||s===Qt.Emulated)return null}return Mt(r,n)}}function Iu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function mE(t,e,n){t.appendChild(e,n)}function PI(t,e,n,r,i){r!==null?Iu(t,e,n,r,i):mE(t,e,n)}function yE(t,e){return t.parentNode(e)}function gM(t,e){return t.nextSibling(e)}function mM(t,e,n){return vM(t,e,n)}function yM(t,e,n){return t.type&40?Mt(t,n):null}var vM=yM,OI;function up(t,e,n,r){let i=fM(t,r,e),s=e[Be],o=r.parent||e[Bt],c=mM(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)PI(s,i,n[u],c,!1);else PI(s,i,n,c,!1);OI!==void 0&&OI(s,r,e,n,i)}function To(t,e){if(e!==null){let n=e.type;if(n&3)return Mt(e,t);if(n&4)return _f(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return To(t,r);{let i=t[e.index];return Dn(i)?_f(-1,i):Xt(i)}}else{if(n&128)return To(t,e.next);if(n&32)return op(e,t)()||Xt(t[e.index]);{let r=vE(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Vr(t[Zt]);return To(i,r)}else return To(t,e.next)}}}return null}function vE(t,e){if(e!==null){let r=t[Zt][Bt],i=e.projection;return r.projection[i]}return null}function _f(t,e){let n=_t+t+1;if(n<e.length){let r=e[n],i=r[X].firstChild;if(i!==null)return To(r,i)}return e[Lr]}function _M(t,e,n){t.removeChild(null,e,n)}function lp(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(o&&e===0&&(c&&Br(Xt(c),r),n.flags|=2),(n.flags&32)!==32)if(u&8)lp(t,e,n.child,r,i,s,!1),$i(e,t,i,c,s);else if(u&32){let l=op(n,r),f;for(;f=l();)$i(e,t,i,f,s);$i(e,t,i,c,s)}else u&16?IM(t,e,r,n,i,s):$i(e,t,i,c,s);n=o?n.projectionNext:n.next}}function Lu(t,e,n,r,i,s){lp(n,r,t.firstChild,e,i,s,!1)}function IM(t,e,n,r,i,s){let o=n[Zt],u=o[Bt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];$i(e,t,i,f,s)}else{let l=u,f=o[st];nE(r)&&(l.flags|=128),lp(t,e,l,f,i,s,!0)}}function wM(t,e,n,r,i){let s=n[Lr],o=Xt(n);s!==o&&$i(e,t,r,s,i);for(let c=_t;c<n.length;c++){let u=n[c];Lu(u[X],u,t,e,r,s)}}function EM(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:_n.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=_n.Important),t.setStyle(n,r,i,s))}}function DM(t,e,n){t.setAttribute(e,"style",n)}function _E(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function IE(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&ef(t,e,r),i!==null&&_E(t,e,i),s!==null&&DM(t,e,s)}var qr={};function Cn(t=1){wE(Nt(),Ce(),as()+t,!1)}function wE(t,e,n,r){if(!r)if((e[G]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Xc(e,s,n)}else{let s=t.preOrderHooks;s!==null&&eu(e,s,0,n)}jr(n)}function ce(t,e=J.Default){let n=Ce();if(n===null)return ee(t,e);let r=ft();return Kw(r,n,it(t),e)}function EE(t,e,n,r,i,s){let o=ae(null);try{let c=null;i&nr.SignalBased&&(c=e[r][gn]),c!==null&&c.transformFn!==void 0&&(s=c.transformFn(s)),i&nr.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,c,s,n,r):Iw(e,c,r,s)}finally{ae(o)}}function CM(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)jr(~i);else{let s=i,o=n[++r],c=n[++r];dR(o,s);let u=e[s];c(2,u)}}}finally{jr(-1)}}function Vu(t,e,n,r,i,s,o,c,u,l,f){let g=e.blueprint.slice();return g[En]=i,g[G]=r|4|128|8|64,(l!==null||t&&t[G]&2048)&&(g[G]|=2048),bw(g),g[st]=g[os]=t,g[Ut]=n,g[Yt]=o||t&&t[Yt],g[Be]=c||t&&t[Be],g[Qi]=u||t&&t[Qi]||null,g[Bt]=s,g[Nu]=qR(),g[au]=f,g[yw]=l,g[Zt]=e.type==2?t[Zt]:g,g}function ju(t,e,n,r,i){let s=t.data[e];if(s===null)s=bM(t,e,n,r,i),lR()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=oR();s.injectorIndex=o===null?-1:o.injectorIndex}return Vo(s,!0),s}function bM(t,e,n,r,i){let s=Mw(),o=Nw(),c=o?s:s&&s.parent,u=t.data[e]=MM(t,c,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function DE(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function CE(t,e,n,r,i){let s=as(),o=r&2;try{jr(-1),o&&e.length>Jt&&wE(t,e,Jt,!1),Wt(o?2:0,i),n(r,i)}finally{jr(s),Wt(o?3:1,i)}}function bE(t,e,n){if(_w(e)){let r=ae(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let c=t.data[o];if(c.contentQueries){let u=n[o];c.contentQueries(1,u,o)}}}finally{ae(r)}}}function TE(t,e,n){Rw()&&(LM(t,e,n,Mt(n,e)),(n.flags&64)===64&&NE(t,e,n))}function SE(t,e,n=Mt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],c=o===-1?n(e,t):t[o];t[i++]=c}}}function AE(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=dp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function dp(t,e,n,r,i,s,o,c,u,l,f){let g=Jt+r,_=g+i,I=TM(g,_),A=typeof l=="function"?l():l;return I[X]={type:t,blueprint:I,template:n,queries:null,viewQuery:c,declTNode:e,data:I.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:f}}function TM(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:qr);return n}function SM(t,e,n,r){let s=r.get(ZR,cE)||n===Qt.ShadowDom,o=t.selectRootElement(e,s);return AM(o),o}function AM(t){RM(t)}var RM=()=>null;function MM(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,c=0;return rR()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function kI(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let c,u=nr.None;Array.isArray(o)?(c=o[0],u=o[1]):c=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?FI(r,n,l,c,u):FI(r,n,l,c)}return r}function FI(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function NM(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,c=[],u=null,l=null;for(let f=r;f<i;f++){let g=s[f],_=n?n.get(g):null,I=_?_.inputs:null,A=_?_.outputs:null;u=kI(0,g.inputs,f,u,I),l=kI(1,g.outputs,f,l,A);let M=u!==null&&o!==null&&!jf(e)?KM(u,f,o):null;c.push(M)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=l}function xM(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function PM(t,e,n,r,i,s,o,c){let u=Mt(e,n),l=e.inputs,f;!c&&l!=null&&(f=l[r])?(hp(t,n,f,r,i),xu(e)&&OM(n,e.index)):e.type&3?(r=xM(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function OM(t,e){let n=or(e,t);n[G]&16||(n[G]|=64)}function RE(t,e,n,r){if(Rw()){let i=r===null?null:{"":-1},s=jM(t,n),o,c;s===null?o=c=null:[o,c]=s,o!==null&&ME(t,e,n,o,i,c),i&&UM(n,r,i)}n.mergedAttrs=Mo(n.mergedAttrs,n.attrs)}function ME(t,e,n,r,i,s){for(let l=0;l<r.length;l++)df(gu(n,e),t,r[l].type);$M(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let f=r[l];f.providersResolver&&f.providersResolver(f)}let o=!1,c=!1,u=DE(t,e,r.length,null);for(let l=0;l<r.length;l++){let f=r[l];n.mergedAttrs=Mo(n.mergedAttrs,f.hostAttrs),HM(t,n,e,u,f),BM(u,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let g=f.type.prototype;!o&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!c&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),u++}NM(t,n,s)}function kM(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let c=~e.index;FM(o)!=c&&o.push(c),o.push(n,r,s)}}function FM(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function LM(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;xu(n)&&qM(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||gu(n,e),Br(r,e);let o=n.initialInputs;for(let c=i;c<s;c++){let u=t.data[c],l=Ji(e,t,c,n);if(Br(l,e),o!==null&&WM(e,c-i,l,u,n,o),rr(u)){let f=or(n.index,e);f[Ut]=Ji(e,t,c,n)}}}function NE(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=hR();try{jr(s);for(let c=r;c<i;c++){let u=t.data[c],l=e[c];cf(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&VM(u,l)}}finally{jr(-1),cf(o)}}function VM(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function jM(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(CA(e,o.selectors,!1))if(r||(r=[]),rr(o))if(o.findHostDirectiveDefs!==null){let c=[];i=i||new Map,o.findHostDirectiveDefs(o,c,i),r.unshift(...c,o);let u=c.length;If(t,e,u)}else r.unshift(o),If(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function If(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function UM(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new $(-301,!1);r.push(e[i],s)}}}function BM(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;rr(e)&&(n[""]=t)}}function $M(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function HM(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=zi(i.type,!0)),o=new Ur(s,rr(i),ce);t.blueprint[r]=o,n[r]=o,kM(t,e,r,DE(t,n,i.hostVars,qr),i)}function qM(t,e,n){let r=Mt(e,t),i=AE(n),s=t[Yt].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let c=Uu(t,Vu(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=c}function zM(t,e,n,r,i,s){let o=Mt(t,e);GM(e[Be],o,s,t.value,n,r,i)}function GM(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let c=o==null?Au(s):o(s,r||"",i);t.setAttribute(e,i,c,n)}}function WM(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let c=0;c<o.length;){let u=o[c++],l=o[c++],f=o[c++],g=o[c++];EE(r,n,u,l,f,g)}}function KM(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let c=0;c<o.length;c+=3)if(o[c]===e){r.push(s,o[c+1],o[c+2],n[i+1]);break}}i+=2}return r}function xE(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function PE(t,e){let n=t.contentQueries;if(n!==null){let r=ae(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let c=t.data[o];Pw(s),c.contentQueries(2,e[o],o)}}}finally{ae(r)}}}function Uu(t,e){return t[xo]?t[II][jt]=e:t[xo]=e,t[II]=e,e}function wf(t,e,n){Pw(0);let r=ae(null);try{e(t,n)}finally{ae(r)}}function QM(t){return t[cu]??=[]}function YM(t){return t.cleanup??=[]}function OE(t,e){let n=t[Qi],r=n?n.get(vn,null):null;r&&r.handleError(e)}function hp(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],c=n[s++],u=n[s++],l=e[o],f=t.data[o];EE(f,l,r,c,u,i)}}function ZM(t,e,n){let r=Cw(e,t);oM(t[Be],r,n)}function JM(t,e){let n=or(e,t),r=n[X];XM(r,n);let i=n[En];i!==null&&n[au]===null&&(n[au]=ip(i,n[Qi])),fp(r,n,n[Ut])}function XM(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function fp(t,e,n){zf(e);try{let r=t.viewQuery;r!==null&&wf(1,r,n);let i=t.template;i!==null&&CE(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Zi]?.finishViewCreation(t),t.staticContentQueries&&PE(t,e),t.staticViewQueries&&wf(2,t.viewQuery,n);let s=t.components;s!==null&&eN(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[G]&=-5,Gf()}}function eN(t,e){for(let n=0;n<e.length;n++)JM(t,e[n])}function tN(t,e,n,r){let i=ae(null);try{let s=e.tView,c=t[G]&4096?4096:16,u=Vu(t,s,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Yi]=l;let f=t[Zi];return f!==null&&(u[Zi]=f.createEmbeddedView(s)),fp(s,u,n),u}finally{ae(i)}}function nN(t,e){let n=_t+e;if(n<t.length)return t[n]}function Ef(t,e){return!e||e.firstChild===null||nE(t)}function kE(t,e,n,r=!0){let i=e[X];if(lM(i,e,t,n),r){let o=_f(n,t),c=e[Be],u=yE(c,t[Lr]);u!==null&&cM(i,t[Bt],c,e,u,o)}let s=e[au];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function rN(t,e){let n=_u(t,e);return n!==void 0&&cp(n[X],n),n}function wu(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(Xt(s)),Dn(s)&&iN(s,r);let o=n.type;if(o&8)wu(t,e,n.child,r);else if(o&32){let c=op(n,e),u;for(;u=c();)r.push(u)}else if(o&16){let c=vE(e,n);if(Array.isArray(c))r.push(...c);else{let u=Vr(e[Zt]);wu(u[X],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function iN(t,e){for(let n=_t;n<t.length;n++){let r=t[n],i=r[X].firstChild;i!==null&&wu(r[X],r,i,e)}t[Lr]!==t[En]&&e.push(t[Lr])}var FE=[];function sN(t){return t[At]??oN(t)}function oN(t){let e=FE.pop()??Object.create(cN);return e.lView=t,e}function aN(t){t.lView[At]!==t&&(t.lView=null,FE.push(t))}var cN=re(O({},Eo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ou(t.lView)},consumerOnSignalRead(){this.lView[At]=this}});function uN(t){let e=t[At]??Object.create(lN);return e.lView=t,e}var lN=re(O({},Eo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Vr(t.lView);for(;e&&!LE(e[X]);)e=Vr(e);e&&Tw(e)},consumerOnSignalRead(){this.lView[At]=this}});function LE(t){return t.type!==2}var dN=100;function VE(t,e=!0,n=0){let r=t[Yt],i=r.rendererFactory,s=!1;s||i.begin?.();try{hN(t,n)}catch(o){throw e&&OE(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function hN(t,e){let n=xw();try{EI(!0),Df(t,e);let r=0;for(;Pu(t);){if(r===dN)throw new $(103,!1);r++,Df(t,1)}}finally{EI(n)}}function fN(t,e,n,r){let i=e[G];if((i&256)===256)return;let s=!1,o=!1;!s&&e[Yt].inlineEffectRunner?.flush(),zf(e);let c=!0,u=null,l=null;s||(LE(t)?(l=sN(e),u=_c(l)):T_()===null?(c=!1,l=uN(e),u=_c(l)):e[At]&&(ph(e[At]),e[At]=null));try{bw(e),cR(t.bindingStartIndex),n!==null&&CE(t,e,n,2,r);let f=(i&3)===3;if(!s)if(f){let I=t.preOrderCheckHooks;I!==null&&Xc(e,I,null)}else{let I=t.preOrderHooks;I!==null&&eu(e,I,0,null),Uh(e,0)}if(o||pN(e),jE(e,0),t.contentQueries!==null&&PE(t,e),!s)if(f){let I=t.contentCheckHooks;I!==null&&Xc(e,I)}else{let I=t.contentHooks;I!==null&&eu(e,I,1),Uh(e,1)}CM(t,e);let g=t.components;g!==null&&BE(e,g,0);let _=t.viewQuery;if(_!==null&&wf(2,_,r),!s)if(f){let I=t.viewCheckHooks;I!==null&&Xc(e,I)}else{let I=t.viewHooks;I!==null&&eu(e,I,2),Uh(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[jh]){for(let I of e[jh])I();e[jh]=null}s||(e[G]&=-73)}catch(f){throw s||Ou(e),f}finally{l!==null&&(hh(l,u),c&&aN(l)),Gf()}}function jE(t,e){for(let n=iE(t);n!==null;n=sE(n))for(let r=_t;r<n.length;r++){let i=n[r];UE(i,e)}}function pN(t){for(let e=iE(t);e!==null;e=sE(e)){if(!(e[G]&du.HasTransplantedViews))continue;let n=e[lu];for(let r=0;r<n.length;r++){let i=n[r];Tw(i)}}}function gN(t,e,n){let r=or(e,t);UE(r,n)}function UE(t,e){qf(t)&&Df(t,e)}function Df(t,e){let r=t[X],i=t[G],s=t[At],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&fh(s)),o||=!1,s&&(s.dirty=!1),t[G]&=-9217,o)fN(r,t,r.template,t[Ut]);else if(i&8192){jE(t,1);let c=r.components;c!==null&&BE(t,c,1)}}function BE(t,e,n){for(let r=0;r<e.length;r++)gN(t,e[r],n)}function pp(t,e){let n=xw()?64:1088;for(t[Yt].changeDetectionScheduler?.notify(e);t;){t[G]|=n;let r=Vr(t);if(sf(t)&&!r)return t;t=r}return null}var Xi=class{get rootNodes(){let e=this._lView,n=e[X];return wu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ut]}set context(e){this._lView[Ut]=e}get destroyed(){return(this._lView[G]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[st];if(Dn(e)){let n=e[uu],r=n?n.indexOf(this):-1;r>-1&&(_u(e,r),su(n,r))}this._attachedToViewContainer=!1}cp(this._lView[X],this._lView)}onDestroy(e){Sw(this._lView,e)}markForCheck(){pp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[G]&=-129}reattach(){af(this._lView),this._lView[G]|=128}detectChanges(){this._lView[G]|=1024,VE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=sf(this._lView),n=this._lView[Yi];n!==null&&!e&&ap(n,this._lView),pE(this._lView[X],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e;let n=sf(this._lView),r=this._lView[Yi];r!==null&&!n&&gE(r,this._lView),af(this._lView)}};var Fz=new RegExp(`^(\\d+)*(${QR}|${KR})*(.*)`);var mN=()=>null;function Cf(t,e){return mN(t,e)}var es=class{},gp=new B("",{providedIn:"root",factory:()=>!1});var $E=new B(""),HE=new B(""),bf=class{},Eu=class{};function yN(t){let e=Error(`No component factory found for ${ut(t)}.`);return e[vN]=t,e}var vN="ngComponent";var Tf=class{resolveComponentFactory(e){throw yN(e)}},Dp=class Dp{};Dp.NULL=new Tf;var ts=Dp,ns=class{},zr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>_N();let t=e;return t})();function _N(){let t=Ce(),e=ft(),n=or(e.index,t);return(tr(n)?n:t)[Be]}var IN=(()=>{let e=class e{};e.\u0275prov=q({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();function Sf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let c=e[o];if(typeof c=="number")s=c;else if(s==1)i=lI(i,c);else if(s==2){let u=c,l=e[++o];r=lI(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Du=class extends ts{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Fr(e);return new Po(n,this.ngModule)}};function LI(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,c=s?i[1]:nr.None;e?n.push({propName:o,templateName:r,isSignal:(c&nr.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function wN(t){let e=t.toLowerCase();return e==="svg"?QA:e==="math"?YA:null}var Po=class extends Eu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=LI(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return LI(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=AA(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=ae(null);try{i=i||this.ngModule;let o=i instanceof Rt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let c=o?new uf(e,o):e,u=c.get(ns,null);if(u===null)throw new $(407,!1);let l=c.get(IN,null),f=c.get(es,null),g={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:f},_=u.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",A=r?SM(_,r,this.componentDef.encapsulation,c):fE(_,I,wN(I)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let x=null;A!==null&&(x=ip(A,c,!0));let V=dp(0,null,null,1,0,null,null,null,null,null,null),W=Vu(null,V,null,M,null,null,g,_,c,null,x);zf(W);let Z,ge,ze=null;try{let fe=this.componentDef,D,m=null;fe.findHostDirectiveDefs?(D=[],m=new Map,fe.findHostDirectiveDefs(fe,D,m),D.push(fe)):D=[fe];let y=EN(W,A);ze=DN(y,A,fe,D,W,g,_),ge=Hf(V,Jt),A&&TN(_,fe,A,r),n!==void 0&&SN(ge,this.ngContentSelectors,n),Z=bN(ze,fe,D,m,W,[AN]),fp(V,W,null)}catch(fe){throw ze!==null&&yf(ze),yf(W),fe}finally{Gf()}return new Af(this.componentType,Z,ep(ge,W),W,ge)}finally{ae(s)}}},Af=class extends bf{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Xi(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;hp(s[X],s,i,e,n),this.previousInputValues.set(e,n);let o=or(this._tNode.index,s);pp(o,1)}}get injector(){return new kr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function EN(t,e){let n=t[X],r=Jt;return t[r]=e,ju(n,r,2,"#host",null)}function DN(t,e,n,r,i,s,o){let c=i[X];CN(r,t,e,o);let u=null;e!==null&&(u=ip(e,i[Qi]));let l=s.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let g=Vu(i,AE(n),null,f,i[t.index],t,s,l,null,null,u);return c.firstCreatePass&&If(c,t,r.length-1),Uu(i,g),i[t.index]=g}function CN(t,e,n,r){for(let i of t)e.mergedAttrs=Mo(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Sf(e,e.mergedAttrs,!0),n!==null&&IE(r,n,e))}function bN(t,e,n,r,i,s){let o=ft(),c=i[X],u=Mt(o,i);ME(c,i,o,n,null,r);for(let f=0;f<n.length;f++){let g=o.directiveStart+f,_=Ji(i,c,g,o);Br(_,i)}NE(c,i,o),u&&Br(u,i);let l=Ji(i,c,o.directiveStart+o.componentOffset,o);if(t[Ut]=i[Ut]=l,s!==null)for(let f of s)f(l,e);return bE(c,o,i),l}function TN(t,e,n,r){if(r)ef(t,n,["ng-version","18.2.3"]);else{let{attrs:i,classes:s}=RA(e.selectors[0]);i&&ef(t,n,i),s&&s.length>0&&_E(t,n,s.join(" "))}}function SN(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function AN(){let t=ft();Qf(Ce()[X],t)}var Bu=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=RN;let t=e;return t})();function RN(){let t=ft();return NN(t,Ce())}var MN=Bu,qE=class extends MN{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ep(this._hostTNode,this._hostLView)}get injector(){return new kr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Yf(this._hostTNode,this._hostLView);if($w(e)){let n=pu(e,this._hostLView),r=fu(e),i=n[X].data[r+8];return new kr(i,n)}else return new kr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=VI(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-_t}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Cf(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(c,i,Ef(this._hostTNode,o)),c}createComponent(e,n,r,i,s){let o=e&&!zA(e),c;if(o)c=n;else{let A=n||{};c=A.index,r=A.injector,i=A.projectableNodes,s=A.environmentInjector||A.ngModuleRef}let u=o?e:new Po(Fr(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let M=(o?l:this.parentInjector).get(Rt,null);M&&(s=M)}let f=Fr(u.componentType??{}),g=Cf(this._lContainer,f?.id??null),_=g?.firstChild??null,I=u.create(l,i,_,s);return this.insertImpl(I.hostView,c,Ef(this._hostTNode,g)),I}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(ZA(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[st],l=new qE(u,u[Bt],u[st]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return kE(o,i,s,r),e.attachToViewContainerRef(),tw(zh(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=VI(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=_u(this._lContainer,n);r&&(su(zh(this._lContainer),n),cp(r[X],r))}detach(e){let n=this._adjustIndex(e,-1),r=_u(this._lContainer,n);return r&&su(zh(this._lContainer),n)!=null?new Xi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function VI(t){return t[uu]}function zh(t){return t[uu]||(t[uu]=[])}function NN(t,e){let n,r=e[t.index];return Dn(r)?n=r:(n=xE(r,e,null,t),e[t.index]=n,Uu(e,n)),PN(n,e,t,r),new qE(n,t,e)}function xN(t,e){let n=t[Be],r=n.createComment(""),i=Mt(e,t),s=yE(n,i);return Iu(n,s,r,gM(n,i),!1),r}var PN=FN,ON=()=>!1;function kN(t,e,n){return ON(t,e,n)}function FN(t,e,n,r){if(t[Lr])return;let i;n.type&8?i=Xt(r):i=xN(e,n),t[Lr]=i}var jI=new Set;function ls(t){jI.has(t)||(jI.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function LN(t){return typeof t=="function"&&t[gn]!==void 0}function Uo(t,e){ls("NgSignals");let n=L_(t),r=n[gn];return e?.equal&&(r.equal=e.equal),n.set=i=>gh(r,i),n.update=i=>V_(r,i),n.asReadonly=VN.bind(n),n}function VN(){let t=this[gn];if(t.readonlyFn===void 0){let e=()=>this();e[gn]=t,t.readonlyFn=e}return t.readonlyFn}function zE(t){return LN(t)&&typeof t.set=="function"}function jN(t){return Object.getPrototypeOf(t.prototype).constructor}function bn(t){let e=jN(t.type),n=!0,r=[t];for(;e;){let i;if(rr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new $(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Qc(t.inputs),o.inputTransforms=Qc(t.inputTransforms),o.declaredInputs=Qc(t.declaredInputs),o.outputs=Qc(t.outputs);let c=i.hostBindings;c&&qN(t,c);let u=i.viewQuery,l=i.contentQueries;if(u&&$N(t,u),l&&HN(t,l),UN(t,i),QS(t.outputs,i.outputs),rr(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let c=s[o];c&&c.ngInherit&&c(t),c===bn&&(n=!1)}}e=Object.getPrototypeOf(e)}BN(r)}function UN(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function BN(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Mo(i.hostAttrs,n=Mo(n,i.hostAttrs))}}function Qc(t){return t===Gi?{}:t===St?[]:t}function $N(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function HN(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function qN(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function mp(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var ir=class{},Oo=class{};var Rf=class extends ir{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Du(this);let s=lw(e);this._bootstrapComponents=hE(s.bootstrap),this._r3Injector=Zw(e,n,[{provide:ir,useValue:this},{provide:ts,useValue:this.componentFactoryResolver},...r],ut(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Mf=class extends Oo{constructor(e){super(),this.moduleType=e}create(e){return new Rf(this.moduleType,e,[])}};var Cu=class extends ir{constructor(e){super(),this.componentFactoryResolver=new Du(this),this.instance=null;let n=new No([...e.providers,{provide:ir,useValue:this},{provide:ts,useValue:this.componentFactoryResolver}],e.parent||Bf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function yp(t,e,n=null){return new Cu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function Bo(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function zN(t){return(t.flags&32)===32}function GN(t,e,n,r,i,s,o,c,u){let l=e.consts,f=ju(e,t,4,o||null,c||null);RE(e,n,f,hu(l,u)),Qf(e,f);let g=f.tView=dp(2,f,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,f),g.queries=e.queries.embeddedTView(f)),f}function WN(t,e,n,r,i,s,o,c,u,l){let f=n+Jt,g=e.firstCreatePass?GN(f,e,t,r,i,s,o,c,u):e.data[f];Vo(g,!1);let _=KN(e,t,g,n);Wf()&&up(e,t,_,g),Br(_,t);let I=xE(_,t,_,g);return t[f]=I,Uu(t,I),kN(I,g,t),$f(g)&&TE(e,t,g),u!=null&&SE(t,g,l),g}function vp(t,e,n,r,i,s,o,c){let u=Ce(),l=Nt(),f=hu(l.consts,s);return WN(u,l,t,e,n,r,i,f,o,c),vp}var KN=QN;function QN(t,e,n,r){return Kf(!0),e[Be].createComment("")}var So=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(So||{}),YN=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=q({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})(),Or=class Or{constructor(){this.ngZone=k(ye),this.scheduler=k(es),this.errorHandler=k(vn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of Or.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};Or.PHASES=[So.EarlyRead,So.Write,So.MixedReadWrite,So.Read],Or.\u0275prov=q({token:Or,providedIn:"root",factory:()=>new Or});var UI=Or;function $o(t,e,n,r){let i=Ce(),s=ku();if(Bo(i,s,e)){let o=Nt(),c=jw();zM(c,i,t,e,n,r)}return $o}function ZN(t,e,n,r){return Bo(t,ku(),n)?e+Au(n)+r:qr}function Yc(t,e){return t<<17|e<<2}function $r(t){return t>>17&32767}function JN(t){return(t&2)==2}function XN(t,e){return t&131071|e<<17}function Nf(t){return t|2}function rs(t){return(t&131068)>>2}function Gh(t,e){return t&-131069|e<<2}function ex(t){return(t&1)===1}function xf(t){return t|1}function tx(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,c=$r(o),u=rs(o);t[r]=n;let l=!1,f;if(Array.isArray(n)){let g=n;f=g[1],(f===null||Lo(g,f)>0)&&(l=!0)}else f=n;if(i)if(u!==0){let _=$r(t[c+1]);t[r+1]=Yc(_,c),_!==0&&(t[_+1]=Gh(t[_+1],r)),t[c+1]=XN(t[c+1],r)}else t[r+1]=Yc(c,0),c!==0&&(t[c+1]=Gh(t[c+1],r)),c=r;else t[r+1]=Yc(u,0),c===0?c=r:t[u+1]=Gh(t[u+1],r),u=r;l&&(t[r+1]=Nf(t[r+1])),BI(t,f,r,!0),BI(t,f,r,!1),nx(e,f,t,r,s),o=Yc(c,u),s?e.classBindings=o:e.styleBindings=o}function nx(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Lo(s,e)>=0&&(n[r+1]=xf(n[r+1]))}function BI(t,e,n,r){let i=t[n+1],s=e===null,o=r?$r(i):rs(i),c=!1;for(;o!==0&&(c===!1||s);){let u=t[o],l=t[o+1];rx(u,e)&&(c=!0,t[o+1]=r?xf(l):Nf(l)),o=r?$r(l):rs(l)}c&&(t[n+1]=r?Nf(i):xf(i))}function rx(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Lo(t,e)>=0:!1}function $I(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";hp(t,n,s[o],o,r)}function $u(t,e){return ix(t,e,null,!0),$u}function ix(t,e,n,r){let i=Ce(),s=Nt(),o=uR(2);if(s.firstUpdatePass&&ox(s,t,o,r),e!==qr&&Bo(i,o,e)){let c=s.data[as()];dx(s,c,i,i[Be],t,i[o+1]=hx(e,n),r,o)}}function sx(t,e){return e>=t.expandoStartIndex}function ox(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[as()],o=sx(t,n);fx(s,r)&&e===null&&!o&&(e=!1),e=ax(i,s,e,r),tx(i,s,e,n,o,r)}}function ax(t,e,n,r){let i=fR(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Wh(null,t,e,n,r),n=ko(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Wh(i,t,e,n,r),s===null){let u=cx(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Wh(null,t,e,u[1],r),u=ko(u,e.attrs,r),ux(t,e,r,u))}else s=lx(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function cx(t,e,n){let r=n?e.classBindings:e.styleBindings;if(rs(r)!==0)return t[$r(r)]}function ux(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[$r(i)]=r}function lx(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=ko(r,o,n)}return ko(r,e.attrs,n)}function Wh(t,e,n,r,i){let s=null,o=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<o&&(s=e[c],r=ko(r,s.hostAttrs,i),s!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function ko(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),mA(t,o,n?!0:e[++s]))}return t===void 0?null:t}function dx(t,e,n,r,i,s,o,c){if(!(e.type&3))return;let u=t.data,l=u[c+1],f=ex(l)?HI(u,e,n,i,rs(l),o):void 0;if(!bu(f)){bu(s)||JN(l)&&(s=HI(u,null,n,i,c,o));let g=Cw(as(),n);EM(r,o,g,i,s)}}function HI(t,e,n,r,i,s){let o=e===null,c;for(;i>0;){let u=t[i],l=Array.isArray(u),f=l?u[1]:u,g=f===null,_=n[i+1];_===qr&&(_=g?St:void 0);let I=g?Lh(_,r):f===r?_:void 0;if(l&&!bu(I)&&(I=Lh(u,r)),bu(I)&&(c=I,o))return c;let A=t[i+1];i=o?$r(A):rs(A)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(c=Lh(u,r))}return c}function bu(t){return t!==void 0}function hx(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ut(jo(t)))),t}function fx(t,e){return(t.flags&(e?8:16))!==0}function GE(t,e){ls("NgControlFlow");let n=Ce(),r=ku(),i=n[r]!==qr?n[r]:-1,s=i!==-1?qI(n,Jt+i):void 0,o=0;if(Bo(n,r,t)){let c=ae(null);try{if(s!==void 0&&rN(s,o),t!==-1){let u=Jt+t,l=qI(n,u),f=px(n[X],u),g=Cf(l,f.tView.ssrId),_=tN(n,f,e,{dehydratedView:g});kE(l,_,o,Ef(f,g))}}finally{ae(c)}}else if(s!==void 0){let c=nN(s,o);c!==void 0&&(c[Ut]=e)}}function qI(t,e){return t[e]}function px(t,e){return Hf(t,e)}function gx(t,e,n,r,i,s){let o=e.consts,c=hu(o,i),u=ju(e,t,2,r,c);return RE(e,n,u,hu(o,s)),u.attrs!==null&&Sf(u,u.attrs,!1),u.mergedAttrs!==null&&Sf(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function F(t,e,n,r){let i=Ce(),s=Nt(),o=Jt+t,c=i[Be],u=s.firstCreatePass?gx(o,s,i,e,n,r):s.data[o],l=mx(s,i,u,c,e,t);i[o]=l;let f=$f(u);return Vo(u,!0),IE(c,l,u),!zN(u)&&Wf()&&up(s,i,l,u),eR()===0&&Br(l,i),tR(),f&&(TE(s,i,u),bE(s,u,i)),r!==null&&SE(i,u),F}function L(){let t=ft();Nw()?aR():(t=t.parent,Vo(t,!1));let e=t;iR(e)&&sR(),nR();let n=Nt();return n.firstCreatePass&&(Qf(n,t),_w(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&IR(e)&&$I(n,e,Ce(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&wR(e)&&$I(n,e,Ce(),e.stylesWithoutHost,!1),L}function Ie(t,e,n,r){return F(t,e,n,r),L(),Ie}var mx=(t,e,n,r,i,s)=>(Kf(!0),fE(r,i,mR()));var Tu="en-US";var yx=Tu;function vx(t){typeof t=="string"&&(yx=t.toLowerCase().replace(/_/g,"-"))}var _x=(t,e,n)=>{};function $t(t,e,n,r){let i=Ce(),s=Nt(),o=ft();return WE(s,i,i[Be],o,t,e,r),$t}function Ix(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let c=e[cu],u=i[s+2];return c.length>u?c[u]:null}typeof o=="string"&&(s+=2)}return null}function WE(t,e,n,r,i,s,o){let c=$f(r),l=t.firstCreatePass&&YM(t),f=e[Ut],g=QM(e),_=!0;if(r.type&3||o){let M=Mt(r,e),x=o?o(M):M,V=g.length,W=o?ge=>o(Xt(ge[r.index])):r.index,Z=null;if(!o&&c&&(Z=Ix(t,e,i,r.index)),Z!==null){let ge=Z.__ngLastListenerFn__||Z;ge.__ngNextListenerFn__=s,Z.__ngLastListenerFn__=s,_=!1}else{s=GI(r,e,f,s),_x(M,i,s);let ge=n.listen(x,i,s);g.push(s,ge),l&&l.push(i,W,V,V+1)}}else s=GI(r,e,f,s);let I=r.outputs,A;if(_&&I!==null&&(A=I[i])){let M=A.length;if(M)for(let x=0;x<M;x+=2){let V=A[x],W=A[x+1],ze=e[V][W].subscribe(s),fe=g.length;g.push(s,ze),l&&l.push(i,r.index,fe,-(fe+1))}}}function zI(t,e,n,r){let i=ae(null);try{return Wt(6,e,n),n(r)!==!1}catch(s){return OE(t,s),!1}finally{Wt(7,e,n),ae(i)}}function GI(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?or(t.index,e):e;pp(o,5);let c=zI(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)c=zI(e,n,u,s)&&c,u=u.__ngNextListenerFn__;return c}}function KE(t=1){return gR(t)}function U(t,e=""){let n=Ce(),r=Nt(),i=t+Jt,s=r.firstCreatePass?ju(r,i,1,e,null):r.data[i],o=wx(r,n,s,e,t);n[i]=o,Wf()&&up(r,n,o,s),Vo(s,!1)}var wx=(t,e,n,r,i)=>(Kf(!0),sM(e[Be],r));function _p(t){return QE("",t,""),_p}function QE(t,e,n){let r=Ce(),i=ZN(r,t,e,n);return i!==qr&&ZM(r,as(),i),QE}function Gr(t,e,n){zE(e)&&(e=e());let r=Ce(),i=ku();if(Bo(r,i,e)){let s=Nt(),o=jw();PM(s,o,r,t,e,r[Be],n,!1)}return Gr}function ds(t,e){let n=zE(t);return n&&t.set(e),n}function Wr(t,e){let n=Ce(),r=Nt(),i=ft();return WE(r,n,n[Be],i,t,e),Wr}function Ex(t,e,n){let r=Nt();if(r.firstCreatePass){let i=rr(t);Pf(n,r.data,r.blueprint,i,!0),Pf(e,r.data,r.blueprint,i,!1)}}function Pf(t,e,n,r,i){if(t=it(t),Array.isArray(t))for(let s=0;s<t.length;s++)Pf(t[s],e,n,r,i);else{let s=Nt(),o=Ce(),c=ft(),u=Ki(t)?t:it(t.provide),l=mw(t),f=c.providerIndexes&1048575,g=c.directiveStart,_=c.providerIndexes>>20;if(Ki(t)||!t.multi){let I=new Ur(l,i,ce),A=Qh(u,e,i?f:f+_,g);A===-1?(df(gu(c,o),s,u),Kh(s,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(I),o.push(I)):(n[A]=I,o[A]=I)}else{let I=Qh(u,e,f+_,g),A=Qh(u,e,f,f+_),M=I>=0&&n[I],x=A>=0&&n[A];if(i&&!x||!i&&!M){df(gu(c,o),s,u);let V=bx(i?Cx:Dx,n.length,i,r,l);!i&&x&&(n[A].providerFactory=V),Kh(s,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(V),o.push(V)}else{let V=YE(n[i?A:I],l,!i&&r);Kh(s,t,I>-1?I:A,V)}!i&&r&&x&&n[A].componentProviders++}}}function Kh(t,e,n,r){let i=Ki(e),s=LA(e);if(i||s){let u=(s?it(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=l.indexOf(n);f===-1?l.push(n,[r,u]):l[f+1].push(r,u)}else l.push(n,u)}}}function YE(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Qh(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Dx(t,e,n,r){return Of(this.multi,[])}function Cx(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,c=Ji(n,n[X],this.providerFactory.index,r);s=c.slice(0,o),Of(i,s);for(let u=o;u<c.length;u++)s.push(c[u])}else s=[],Of(i,s);return s}function Of(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function bx(t,e,n,r,i){let s=new Ur(t,n,ce);return s.multi=[],s.index=e,s.componentProviders=0,YE(s,i,r&&!n),s}function Ho(t,e=[]){return n=>{n.providersResolver=(r,i)=>Ex(r,i?i(t):t,e)}}var Tx=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=fw(!1,r.type),s=i.length>0?yp([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=q({token:e,providedIn:"environment",factory:()=>new e(ee(Rt))});let t=e;return t})();function pt(t){ls("NgStandalone"),t.getStandaloneInjector=e=>e.get(Tx).getOrCreateStandaloneInjector(t)}var In=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},ZE=new In("18.2.3");var Hu=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var JE=new B("");function Kr(t){return!!t&&typeof t.then=="function"}function XE(t){return!!t&&typeof t.subscribe=="function"}var eD=new B(""),tD=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=k(eD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Kr(o))r.push(o);else if(XE(o)){let c=new Promise((u,l)=>{o.subscribe({complete:u,error:l})});r.push(c)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ip=new B("");function Sx(){F_(()=>{throw new $(600,!1)})}function Ax(t){return t.isBoundToModule}var Rx=10;function Mx(t,e,n){try{let r=n();return Kr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Qr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(BR),this.afterRenderManager=k(YN),this.zonelessEnabled=k(gp),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Ue,this.afterTick=new Ue,this.componentTypes=[],this.components=[],this.isStable=k(us).hasPendingTasks.pipe(ne(r=>!r)),this._injector=k(Rt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:s=>{s&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Eu;if(!this._injector.get(tD).done){let I=!s&&uw(r),A=!1;throw new $(405,A)}let c;s?c=r:c=this._injector.get(ts).resolveComponentFactory(r),this.componentTypes.push(c.componentType);let u=Ax(c)?void 0:this._injector.get(ir),l=i||c.selector,f=c.create(lt.NULL,[],l,u),g=f.location.nativeElement,_=f.injector.get(JE,null);return _?.registerApplication(g),f.onDestroy(()=>{this.detachView(f.hostView),tu(this.components,f),_?.unregisterApplication(g)}),this._loadComponent(f),f}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new $(101,!1);let r=ae(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,ae(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(ns,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<Rx;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:s,notifyErrorHandler:o}of this._views)Nx(s,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else r?.begin?.(),r?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:r})=>Pu(r))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;tu(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Ip,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>tu(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new $(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function tu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Nx(t,e,n,r){if(!n&&!Pu(t))return;VE(t,e,n&&!r?0:1)}var kf=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},wp=(()=>{let e=class e{compileModuleSync(r){return new Mf(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=lw(r),o=hE(s.declarations).reduce((c,u)=>{let l=Fr(u);return l&&c.push(new Po(l)),c},[]);return new kf(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var xx=(()=>{let e=class e{constructor(){this.zone=k(ye),this.changeDetectionScheduler=k(es),this.applicationRef=k(Qr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Px=new B("",{factory:()=>!1});function nD({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new ye(re(O({},iD()),{scheduleInRootZone:n})),[{provide:ye,useFactory:t},{provide:Wi,multi:!0,useFactory:()=>{let r=k(xx,{optional:!0});return()=>r.initialize()}},{provide:Wi,multi:!0,useFactory:()=>{let r=k(Ox);return()=>{r.initialize()}}},e===!0?{provide:$E,useValue:!0}:[],{provide:HE,useValue:n??Jw}]}function rD(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=nD({ngZoneFactory:()=>{let i=iD(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&ls("NgZone_CoalesceEvent"),new ye(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return en([{provide:Px,useValue:!0},{provide:gp,useValue:!1},r])}function iD(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Ox=(()=>{let e=class e{constructor(){this.subscription=new Te,this.initialized=!1,this.zone=k(ye),this.pendingTasks=k(us)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ye.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var kx=(()=>{let e=class e{constructor(){this.appRef=k(Qr),this.taskService=k(us),this.ngZone=k(ye),this.zonelessEnabled=k(gp),this.disableScheduling=k($E,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Te,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(yu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(k(HE,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof mf||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?AI:eE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(yu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(r),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,AI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Fx(){return typeof $localize<"u"&&$localize.locale||Tu}var Ep=new B("",{providedIn:"root",factory:()=>k(Ep,J.Optional|J.SkipSelf)||Fx()});var sD=new B("");function Zc(t){return!!t.platformInjector}function Lx(t){let e=Zc(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ye);return n.run(()=>{Zc(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(vn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),Zc(t)){let s=()=>e.destroy(),o=t.platformInjector.get(sD);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else t.moduleRef.onDestroy(()=>{tu(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return Mx(r,n,()=>{let s=e.get(tD);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Ep,Tu);if(vx(o||Tu),Zc(t)){let c=e.get(Qr);return t.rootComponent!==void 0&&c.bootstrap(t.rootComponent),c}else return Vx(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function Vx(t,e){let n=t.injector.get(Qr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new $(-403,!1);e.push(t)}var nu=null;function jx(t=[],e){return lt.create({name:e,providers:[{provide:Mu,useValue:"platform"},{provide:sD,useValue:new Set([()=>nu=null])},...t]})}function Ux(t=[]){if(nu)return nu;let e=jx(t);return nu=e,Sx(),Bx(e),e}function Bx(t){t.get(np,null)?.forEach(n=>n())}var Yr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=$x;let t=e;return t})();function $x(t){return Hx(ft(),Ce(),(t&16)===16)}function Hx(t,e,n){if(xu(t)&&!n){let r=or(t.index,e);return new Xi(r,r)}else if(t.type&175){let r=e[Zt];return new Xi(r,e)}return null}function oD(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=Ux(r),s=[nD({}),{provide:es,useExisting:kx},...n||[]],o=new Cu({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return Lx({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var aD=new B("");function ur(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function qo(t,e){ls("NgSignals");let n=P_(t);return e?.equal&&(n[gn].equal=e.equal),n}function Tn(t){let e=ae(null);try{return t()}finally{ae(e)}}var lD=null;function Sn(){return lD}function dD(t){lD??=t}var qu=class{};var It=new B(""),hD=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>k(qx),providedIn:"platform"});let t=e;return t})();var qx=(()=>{let e=class e extends hD{constructor(){super(),this._doc=k(It),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Sn().getBaseHref(this._doc)}onPopState(r){let i=Sn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Sn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function fD(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function cD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Zr(t){return t&&t[0]!=="?"?"?"+t:t}var hs=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>k(pD),providedIn:"root"});let t=e;return t})(),zx=new B(""),pD=(()=>{let e=class e extends hs{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??k(It).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return fD(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Zr(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let c=this.prepareExternalUrl(s+Zr(o));this._platformLocation.pushState(r,i,c)}replaceState(r,i,s,o){let c=this.prepareExternalUrl(s+Zr(o));this._platformLocation.replaceState(r,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(ee(hD),ee(zx,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var zo=(()=>{let e=class e{constructor(r){this._subject=new Se,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=Kx(cD(uD(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Zr(i))}normalize(r){return e.stripTrailingSlash(Wx(this._basePath,uD(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Zr(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Zr(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Zr,e.joinWithSlash=fD,e.stripTrailingSlash=cD,e.\u0275fac=function(i){return new(i||e)(ee(hs))},e.\u0275prov=q({token:e,factory:()=>Gx(),providedIn:"root"});let t=e;return t})();function Gx(){return new zo(ee(hs))}function Wx(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function uD(t){return t.replace(/\/index.html$/,"")}function Kx(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function gD(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var mD="browser",Qx="server";function Cp(t){return t===Qx}var zu=class{};var Sp=class extends qu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Ap=class t extends Sp{static makeCurrent(){dD(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Zx();return n==null?null:Jx(n)}resetBaseElement(){Go=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return gD(document.cookie,e)}},Go=null;function Zx(){return Go=Go||document.querySelector("base"),Go?Go.getAttribute("href"):null}function Jx(t){return new URL(t,document.baseURI).pathname}var Xx=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),Gu=new B(""),ID=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new $(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(ee(Gu),ee(ye))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),Wo=class{constructor(e){this._doc=e}},bp="ng-app-id",wD=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Cp(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${bp}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(bp),o;{let c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=i,this.platformIsServer&&c.setAttribute(bp,this.appId),r.appendChild(c),c}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,c=o.get(i)?.elements;c?c.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(ee(It),ee(tp),ee(rp,8),ee(cr))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),Tp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Mp=/%COMP%/g,ED="%COMP%",eP=`_nghost-${ED}`,tP=`_ngcontent-${ED}`,nP=!0,rP=new B("",{providedIn:"root",factory:()=>nP});function iP(t){return tP.replace(Mp,t)}function sP(t){return eP.replace(Mp,t)}function DD(t,e){return e.map(n=>n.replace(Mp,t))}var yD=(()=>{let e=class e{constructor(r,i,s,o,c,u,l,f=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=c,this.platformId=u,this.ngZone=l,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=Cp(u),this.defaultRenderer=new Ko(r,c,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Qt.ShadowDom&&(i=re(O({},i),{encapsulation:Qt.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Wu?s.applyToHost(r):s instanceof Qo&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let c=this.doc,u=this.ngZone,l=this.eventManager,f=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,_=this.platformIsServer;switch(i.encapsulation){case Qt.Emulated:o=new Wu(l,f,i,this.appId,g,c,u,_);break;case Qt.ShadowDom:return new Rp(l,f,r,i,c,u,this.nonce,_);default:o=new Qo(l,f,i,g,c,u,_);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(ee(ID),ee(wD),ee(tp),ee(rP),ee(It),ee(cr),ee(ye),ee(rp))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),Ko=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Tp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(vD(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(vD(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new $(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Tp[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Tp[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(_n.DashCase|_n.Important)?e.style.setProperty(n,r,i&_n.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&_n.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Sn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function vD(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Rp=class extends Ko{constructor(e,n,r,i,s,o,c,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=DD(i.id,i.styles);for(let f of l){let g=document.createElement("style");c&&g.setAttribute("nonce",c),g.textContent=f,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Qo=class extends Ko{constructor(e,n,r,i,s,o,c,u){super(e,s,o,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?DD(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Wu=class extends Qo{constructor(e,n,r,i,s,o,c,u){let l=i+"-"+r.id;super(e,n,r,s,o,c,u,l),this.contentAttr=iP(l),this.hostAttr=sP(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},oP=(()=>{let e=class e extends Wo{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(ee(It))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),aP=(()=>{let e=class e extends Wo{constructor(r){super(r),this.delegate=k(aD,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,s){return this.delegate.addEventListener(r,i,s)}removeEventListener(r,i,s){return this.delegate.removeEventListener(r,i,s)}};e.\u0275fac=function(i){return new(i||e)(ee(It))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),_D=["alt","control","meta","shift"],cP={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},uP={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},lP=(()=>{let e=class e extends Wo{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),c=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Sn().onAndCancel(r,o.domEventName,c))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),c="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),c="code."),_D.forEach(f=>{let g=i.indexOf(f);g>-1&&(i.splice(g,1),c+=f+".")}),c+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=c,l}static matchEventFullKeyCode(r,i){let s=cP[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),_D.forEach(c=>{if(c!==s){let u=uP[c];u(r)&&(o+=c+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(ee(It))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})();function CD(t,e){return oD(O({rootComponent:t},dP(e)))}function dP(t){return{appProviders:[...mP,...t?.providers??[]],platformProviders:gP}}function hP(){Ap.makeCurrent()}function fP(){return new vn}function pP(){return aE(document),document}var gP=[{provide:cr,useValue:mD},{provide:np,useValue:hP,multi:!0},{provide:It,useFactory:pP,deps:[]}];var mP=[{provide:Mu,useValue:"root"},{provide:vn,useFactory:fP,deps:[]},{provide:Gu,useClass:oP,multi:!0,deps:[It,ye,cr]},{provide:Gu,useClass:lP,multi:!0,deps:[It]},{provide:Gu,useClass:aP,multi:!0},yD,wD,ID,{provide:ns,useExisting:yD},{provide:zu,useClass:Xx,deps:[]},[]];var bD=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(ee(It))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Y="primary",da=Symbol("RouteTitle"),kp=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function vs(t){return new kp(t)}function vP(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],c=t[s];if(o[0]===":")i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function _P(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!tn(t[n],e[n]))return!1;return!0}function tn(t,e){let n=t?Fp(t):void 0,r=e?Fp(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!PD(t[i],e[i]))return!1;return!0}function Fp(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function PD(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function OD(t){return t.length>0?t[t.length-1]:null}function dr(t){return Rh(t)?t:Kr(t)?Ae(Promise.resolve(t)):Q(t)}var IP={exact:FD,subset:LD},kD={exact:wP,subset:EP,ignored:()=>!0};function TD(t,e,n){return IP[n.paths](t.root,e.root,n.matrixParams)&&kD[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function wP(t,e){return tn(t,e)}function FD(t,e,n){if(!Xr(t.segments,e.segments)||!Yu(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!FD(t.children[r],e.children[r],n))return!1;return!0}function EP(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>PD(t[n],e[n]))}function LD(t,e,n){return VD(t,e,e.segments,n)}function VD(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Xr(i,n)||e.hasChildren()||!Yu(i,n,r))}else if(t.segments.length===n.length){if(!Xr(t.segments,n)||!Yu(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!LD(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Xr(t.segments,i)||!Yu(t.segments,i,r)||!t.children[Y]?!1:VD(t.children[Y],e,s,r)}}function Yu(t,e,n){return e.every((r,i)=>kD[n](t[i].parameters,r.parameters))}var Rn=class{constructor(e=new me([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=vs(this.queryParams),this._queryParamMap}toString(){return bP.serialize(this)}},me=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zu(this)}},Jr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=vs(this.parameters),this._parameterMap}toString(){return UD(this)}};function DP(t,e){return Xr(t,e)&&t.every((n,r)=>tn(n.parameters,e[r].parameters))}function Xr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function CP(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Y&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Y&&(n=n.concat(e(i,r)))}),n}var cg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>new na,providedIn:"root"});let t=e;return t})(),na=class{parse(e){let n=new Vp(e);return new Rn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Yo(e.root,!0)}`,r=AP(e.queryParams),i=typeof e.fragment=="string"?`#${TP(e.fragment)}`:"";return`${n}${r}${i}`}},bP=new na;function Zu(t){return t.segments.map(e=>UD(e)).join("/")}function Yo(t,e){if(!t.hasChildren())return Zu(t);if(e){let n=t.children[Y]?Yo(t.children[Y],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==Y&&r.push(`${i}:${Yo(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=CP(t,(r,i)=>i===Y?[Yo(t.children[Y],!1)]:[`${i}:${Yo(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[Y]!=null?`${Zu(t)}/${n[0]}`:`${Zu(t)}/(${n.join("//")})`}}function jD(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ku(t){return jD(t).replace(/%3B/gi,";")}function TP(t){return encodeURI(t)}function Lp(t){return jD(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ju(t){return decodeURIComponent(t)}function SD(t){return Ju(t.replace(/\+/g,"%20"))}function UD(t){return`${Lp(t.path)}${SP(t.parameters)}`}function SP(t){return Object.entries(t).map(([e,n])=>`;${Lp(e)}=${Lp(n)}`).join("")}function AP(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Ku(n)}=${Ku(i)}`).join("&"):`${Ku(n)}=${Ku(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var RP=/^[^\/()?;#]+/;function Np(t){let e=t.match(RP);return e?e[0]:""}var MP=/^[^\/()?;=#]+/;function NP(t){let e=t.match(MP);return e?e[0]:""}var xP=/^[^=?&#]+/;function PP(t){let e=t.match(xP);return e?e[0]:""}var OP=/^[^&#]+/;function kP(t){let e=t.match(OP);return e?e[0]:""}var Vp=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new me([],{}):new me([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Y]=new me(e,n)),r}parseSegment(){let e=Np(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new Jr(Ju(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=NP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Np(this.remaining);i&&(r=i,this.capture(r))}e[Ju(n)]=Ju(r)}parseQueryParam(e){let n=PP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=kP(this.remaining);o&&(r=o,this.capture(r))}let i=SD(n),s=SD(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Np(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new $(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Y);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[Y]:new me([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}};function BD(t){return t.segments.length>0?new me([],{[Y]:t}):t}function $D(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=$D(i);if(r===Y&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new me(t.segments,e);return FP(n)}function FP(t){if(t.numberOfChildren===1&&t.children[Y]){let e=t.children[Y];return new me(t.segments.concat(e.segments),e.children)}return t}function ei(t){return t instanceof Rn}function LP(t,e,n=null,r=null){let i=HD(t);return qD(i,e,n,r)}function HD(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let c=new me(s.url,o);return s===t&&(e=c),c}let r=n(t.root),i=BD(r);return e??i}function qD(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return xp(i,i,i,n,r);let s=VP(e);if(s.toRoot())return xp(i,i,new me([],{}),n,r);let o=jP(s,i,t),c=o.processChildren?Xo(o.segmentGroup,o.index,s.commands):GD(o.segmentGroup,o.index,s.commands);return xp(i,o.segmentGroup,c,n,r)}function Xu(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ra(t){return typeof t=="object"&&t!=null&&t.outlets}function xp(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let o;t===e?o=n:o=zD(t,e,n);let c=BD($D(o));return new Rn(c,s,i)}function zD(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=zD(s,e,n)}),new me(t.segments,r)}var el=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Xu(r[0]))throw new $(4003,!1);let i=r.find(ra);if(i&&i!==OD(r))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function VP(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new el(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new el(n,e,r)}var gs=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function jP(t,e,n){if(t.isAbsolute)return new gs(e,!0,0);if(!n)return new gs(e,!1,NaN);if(n.parent===null)return new gs(n,!0,0);let r=Xu(t.commands[0])?0:1,i=n.segments.length-1+r;return UP(n,i,t.numberOfDoubleDots)}function UP(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new $(4005,!1);i=r.segments.length}return new gs(r,!1,i-s)}function BP(t){return ra(t[0])?t[0].outlets:{[Y]:t}}function GD(t,e,n){if(t??=new me([],{}),t.segments.length===0&&t.hasChildren())return Xo(t,e,n);let r=$P(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new me(t.segments.slice(0,r.pathIndex),{});return s.children[Y]=new me(t.segments.slice(r.pathIndex),t.children),Xo(s,0,i)}else return r.match&&i.length===0?new me(t.segments,{}):r.match&&!t.hasChildren()?jp(t,e,n):r.match?Xo(t,0,i):jp(t,e,n)}function Xo(t,e,n){if(n.length===0)return new me(t.segments,{});{let r=BP(n),i={};if(Object.keys(r).some(s=>s!==Y)&&t.children[Y]&&t.numberOfChildren===1&&t.children[Y].segments.length===0){let s=Xo(t.children[Y],e,n);return new me(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=GD(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new me(t.segments,i)}}function $P(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],c=n[r];if(ra(c))break;let u=`${c}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!RD(u,l,o))return s;r+=2}else{if(!RD(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function jp(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(ra(s)){let u=HP(s.outlets);return new me(r,u)}if(i===0&&Xu(n[0])){let u=t.segments[e];r.push(new Jr(u.path,AD(n[0]))),i++;continue}let o=ra(s)?s.outlets[Y]:`${s}`,c=i<n.length-1?n[i+1]:null;o&&c&&Xu(c)?(r.push(new Jr(o,AD(c))),i+=2):(r.push(new Jr(o,{})),i++)}return new me(r,{})}function HP(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=jp(new me([],{}),0,r))}),e}function AD(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function RD(t,e,n){return t==n.path&&tn(e,n.parameters)}var ea="imperative",Ke=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ke||{}),xt=class{constructor(e,n){this.id=e,this.url=n}},ia=class extends xt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ke.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},lr=class extends xt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ke.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Et=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Et||{}),Up=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Up||{}),An=class extends xt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ke.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ti=class extends xt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ke.NavigationSkipped}},sa=class extends xt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ke.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},tl=class extends xt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bp=class extends xt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$p=class extends xt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Ke.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Hp=class extends xt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qp=class extends xt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zp=class{constructor(e){this.route=e,this.type=Ke.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Gp=class{constructor(e){this.route=e,this.type=Ke.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Wp=class{constructor(e){this.snapshot=e,this.type=Ke.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Kp=class{constructor(e){this.snapshot=e,this.type=Ke.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qp=class{constructor(e){this.snapshot=e,this.type=Ke.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yp=class{constructor(e){this.snapshot=e,this.type=Ke.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var oa=class{},_s=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function qP(t,e){return t.providers&&!t._injector&&(t._injector=yp(t.providers,e,`Route: ${t.path}`)),t._injector??e}function qt(t){return t.outlet||Y}function zP(t,e){let n=t.filter(r=>qt(r)===e);return n.push(...t.filter(r=>qt(r)!==e)),n}function ha(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Zp=class{get injector(){return ha(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new cl(this.rootInjector),this.attachRef=null}},cl=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Zp(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(ee(Rt))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),nl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Jp(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Jp(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Xp(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Xp(e,this._root).map(n=>n.value)}};function Jp(t,e){if(t===e.value)return e;for(let n of e.children){let r=Jp(t,n);if(r)return r}return null}function Xp(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Xp(t,n);if(r.length)return r.unshift(e),r}return[]}var wt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ps(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var rl=class extends nl{constructor(e,n){super(e),this.snapshot=n,ug(this,e)}toString(){return this.snapshot.toString()}};function WD(t){let e=GP(t),n=new We([new Jr("",{})]),r=new We({}),i=new We({}),s=new We({}),o=new We(""),c=new ni(n,r,s,o,i,Y,t,e.root);return c.snapshot=e.root,new rl(new wt(c,[]),e)}function GP(t){let e={},n={},r={},i="",s=new ms([],e,r,i,n,Y,t,null,{});return new sl("",new wt(s,[]))}var ni=class{constructor(e,n,r,i,s,o,c,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ne(l=>l[da]))??Q(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ne(e=>vs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ne(e=>vs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function il(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:O(O({},e.params),t.params),data:O(O({},e.data),t.data),resolve:O(O(O(O({},t.data),e.data),i?.data),t._resolvedData)}:r={params:O({},t.params),data:O({},t.data),resolve:O(O({},t.data),t._resolvedData??{})},i&&QD(i)&&(r.resolve[da]=i.title),r}var ms=class{get title(){return this.data?.[da]}constructor(e,n,r,i,s,o,c,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=vs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=vs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},sl=class extends nl{constructor(e,n){super(n),this.url=e,ug(this,n)}toString(){return KD(this._root)}};function ug(t,e){e.value._routerState=t,e.children.forEach(n=>ug(t,n))}function KD(t){let e=t.children.length>0?` { ${t.children.map(KD).join(", ")} } `:"";return`${t.value}${e}`}function Pp(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,tn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),tn(e.params,n.params)||t.paramsSubject.next(n.params),_P(e.url,n.url)||t.urlSubject.next(n.url),tn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function eg(t,e){let n=tn(t.params,e.params)&&DP(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||eg(t.parent,e.parent))}function QD(t){return typeof t.title=="string"||t.title===null}var lg=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Y,this.activateEvents=new Se,this.deactivateEvents=new Se,this.attachEvents=new Se,this.detachEvents=new Se,this.parentContexts=k(cl),this.location=k(Bu),this.changeDetector=k(Yr),this.inputBinder=k(dg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=r;let s=this.location,c=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new tg(r,u,s.injector);this.activated=s.createComponent(c,{index:s.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ot({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[sr]});let t=e;return t})(),tg=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ni?this.route:e===cl?this.childContexts:this.parent.get(e,n)}},dg=new B("");function WP(t,e,n){let r=aa(t,e._root,n?n._root:void 0);return new rl(r,e)}function aa(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=KP(t,e,n);return new wt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>aa(t,c)),o}}let r=QP(e.value),i=e.children.map(s=>aa(t,s));return new wt(r,i)}}function KP(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return aa(t,r,i);return aa(t,r)})}function QP(t){return new ni(new We(t.url),new We(t.params),new We(t.queryParams),new We(t.fragment),new We(t.data),t.outlet,t.component,t)}var ca=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},YD="ngNavigationCancelingError";function ol(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ei(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=ZD(!1,Et.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function ZD(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[YD]=!0,n.cancellationCode=e,n}function YP(t){return JD(t)&&ei(t.url)}function JD(t){return!!t&&t[YD]}var ZP=(t,e,n,r)=>ne(i=>(new ng(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),ng=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Pp(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=ps(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ps(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ps(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=ps(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Yp(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Kp(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Pp(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),Pp(c.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},al=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ys=class{constructor(e,n){this.component=e,this.route=n}};function JP(t,e,n){let r=t._root,i=e?e._root:null;return Zo(r,i,n,[r.value])}function XP(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ws(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!QI(t)?t:e.get(t):r}function Zo(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=ps(e);return t.children.forEach(o=>{eO(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>ta(c,n.getContext(o),i)),i}function eO(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=tO(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new al(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Zo(t,e,c?c.children:null,r,i):Zo(t,e,n,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new ys(c.outlet.component,o))}else o&&ta(e,c,i),i.canActivateChecks.push(new al(r)),s.component?Zo(t,null,c?c.children:null,r,i):Zo(t,null,n,r,i);return i}function tO(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Xr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Xr(t.url,e.url)||!tn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!eg(t,e)||!tn(t.queryParams,e.queryParams);case"paramsChange":default:return!eg(t,e)}}function ta(t,e,n){let r=ps(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?ta(o,e.children.getContext(s),n):ta(o,null,n):ta(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ys(e.outlet.component,i)):n.canDeactivateChecks.push(new ys(null,i)):n.canDeactivateChecks.push(new ys(null,i))}function fa(t){return typeof t=="function"}function nO(t){return typeof t=="boolean"}function rO(t){return t&&fa(t.canLoad)}function iO(t){return t&&fa(t.canActivate)}function sO(t){return t&&fa(t.canActivateChild)}function oO(t){return t&&fa(t.canDeactivate)}function aO(t){return t&&fa(t.canMatch)}function XD(t){return t instanceof mn||t?.name==="EmptyError"}var Qu=Symbol("INITIAL_VALUE");function Is(){return Lt(t=>qc(t.map(e=>e.pipe(yn(1),kh(Qu)))).pipe(ne(e=>{for(let n of e)if(n!==!0){if(n===Qu)return Qu;if(n===!1||cO(n))return n}return!0}),Ft(e=>e!==Qu),yn(1)))}function cO(t){return ei(t)||t instanceof ca}function uO(t,e){return Fe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?Q(re(O({},n),{guardsResult:!0})):lO(o,r,i,t).pipe(Fe(c=>c&&nO(c)?dO(r,s,t,e):Q(c)),ne(c=>re(O({},n),{guardsResult:c})))})}function lO(t,e,n,r){return Ae(t).pipe(Fe(i=>mO(i.component,i.route,n,e,r)),Gt(i=>i!==!0,!0))}function dO(t,e,n,r){return Ae(e).pipe(Vi(i=>Li(fO(i.route.parent,r),hO(i.route,r),gO(t,i.path,n),pO(t,i.route,n))),Gt(i=>i!==!0,!0))}function hO(t,e){return t!==null&&e&&e(new Qp(t)),Q(!0)}function fO(t,e){return t!==null&&e&&e(new Wp(t)),Q(!0)}function pO(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Q(!0);let i=r.map(s=>zc(()=>{let o=ha(e)??n,c=ws(s,o),u=iO(c)?c.canActivate(e,t):wn(o,()=>c(e,t));return dr(u).pipe(Gt())}));return Q(i).pipe(Is())}function gO(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>XP(o)).filter(o=>o!==null).map(o=>zc(()=>{let c=o.guards.map(u=>{let l=ha(o.node)??n,f=ws(u,l),g=sO(f)?f.canActivateChild(r,t):wn(l,()=>f(r,t));return dr(g).pipe(Gt())});return Q(c).pipe(Is())}));return Q(s).pipe(Is())}function mO(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return Q(!0);let o=s.map(c=>{let u=ha(e)??i,l=ws(c,u),f=oO(l)?l.canDeactivate(t,e,n,r):wn(u,()=>l(t,e,n,r));return dr(f).pipe(Gt())});return Q(o).pipe(Is())}function yO(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Q(!0);let s=i.map(o=>{let c=ws(o,t),u=rO(c)?c.canLoad(e,n):wn(t,()=>c(e,n));return dr(u)});return Q(s).pipe(Is(),eC(r))}function eC(t){return wh(Le(e=>{if(typeof e!="boolean")throw ol(t,e)}),ne(e=>e===!0))}function vO(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Q(!0);let s=i.map(o=>{let c=ws(o,t),u=aO(c)?c.canMatch(e,n):wn(t,()=>c(e,n));return dr(u)});return Q(s).pipe(Is(),eC(r))}var ua=class{constructor(e){this.segmentGroup=e||null}},la=class extends Error{constructor(e){super(),this.urlTree=e}};function fs(t){return Fi(new ua(t))}function _O(t){return Fi(new $(4e3,!1))}function IO(t){return Fi(ZD(!1,Et.GuardRejected))}var rg=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Q(r);if(i.numberOfChildren>1||!i.children[Y])return _O(`${e.redirectTo}`);i=i.children[Y]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let c=n,{queryParams:u,fragment:l,routeConfig:f,url:g,outlet:_,params:I,data:A,title:M}=i,x=wn(s,()=>c({params:I,data:A,queryParams:u,fragment:l,routeConfig:f,url:g,outlet:_,title:M}));if(x instanceof Rn)throw new la(x);n=x}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new la(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Rn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);r[i]=n[c]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([c,u])=>{o[c]=this.createSegmentGroup(e,u,r,i)}),new me(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new $(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},ig={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function wO(t,e,n,r,i){let s=tC(t,e,n);return s.matched?(r=qP(e,r),vO(r,e,n,i).pipe(ne(o=>o===!0?s:O({},ig)))):Q(s)}function tC(t,e,n){if(e.path==="**")return EO(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?O({},ig):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||vP)(n,t,e);if(!i)return O({},ig);let s={};Object.entries(i.posParams??{}).forEach(([c,u])=>{s[c]=u.path});let o=i.consumed.length>0?O(O({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function EO(t){return{matched:!0,parameters:t.length>0?OD(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function MD(t,e,n,r){return n.length>0&&bO(t,n,r)?{segmentGroup:new me(e,CO(r,new me(n,t.children))),slicedSegments:[]}:n.length===0&&TO(t,n,r)?{segmentGroup:new me(t.segments,DO(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new me(t.segments,t.children),slicedSegments:n}}function DO(t,e,n,r){let i={};for(let s of n)if(ul(t,e,s)&&!r[qt(s)]){let o=new me([],{});i[qt(s)]=o}return O(O({},r),i)}function CO(t,e){let n={};n[Y]=e;for(let r of t)if(r.path===""&&qt(r)!==Y){let i=new me([],{});n[qt(r)]=i}return n}function bO(t,e,n){return n.some(r=>ul(t,e,r)&&qt(r)!==Y)}function TO(t,e,n){return n.some(r=>ul(t,e,r))}function ul(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function SO(t,e,n){return e.length===0&&!t.children[n]}var sg=class{};function AO(t,e,n,r,i,s,o="emptyOnly"){return new og(t,e,n,r,i,o,s).recognize()}var RO=31,og=class{constructor(e,n,r,i,s,o,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new rg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new $(4002,`'${e.segmentGroup}'`)}recognize(){let e=MD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ne(({children:n,rootSnapshot:r})=>{let i=new wt(r,n),s=new sl("",i),o=LP(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new ms([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Y,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Y,n).pipe(ne(r=>({children:r,rootSnapshot:n})),Zn(r=>{if(r instanceof la)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ua?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(ne(o=>o instanceof wt?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Ae(s).pipe(Vi(o=>{let c=r.children[o],u=zP(n,o);return this.processSegmentGroup(e,u,c,o,i)}),Oh((o,c)=>(o.push(...c),o)),Jn(null),Ph(),Fe(o=>{if(o===null)return fs(r);let c=nC(o);return MO(c),Q(c)}))}processSegment(e,n,r,i,s,o,c){return Ae(n).pipe(Vi(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,c).pipe(Zn(l=>{if(l instanceof ua)return Q(null);throw l}))),Gt(u=>!!u),Zn(u=>{if(XD(u))return SO(r,i,s)?Q(new sg):fs(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,c,u){return qt(r)!==o&&(o===Y||!ul(i,s,r))?fs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):fs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,c){let{matched:u,parameters:l,consumedSegments:f,positionalParamSegments:g,remainingSegments:_}=tC(n,i,s);if(!u)return fs(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>RO&&(this.allowRedirects=!1));let I=new ms(s,l,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,ND(i),qt(i),i.component??i._loadedComponent??null,i,xD(i)),A=il(I,c,this.paramsInheritanceStrategy);I.params=Object.freeze(A.params),I.data=Object.freeze(A.data);let M=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,g,I,e);return this.applyRedirects.lineralizeSegments(i,M).pipe(Fe(x=>this.processSegment(e,r,n,x.concat(_),o,!1,c)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let c=wO(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),c.pipe(Lt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Lt(({routes:l})=>{let f=r._loadedInjector??e,{parameters:g,consumedSegments:_,remainingSegments:I}=u,A=new ms(_,g,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,ND(r),qt(r),r.component??r._loadedComponent??null,r,xD(r)),M=il(A,o,this.paramsInheritanceStrategy);A.params=Object.freeze(M.params),A.data=Object.freeze(M.data);let{segmentGroup:x,slicedSegments:V}=MD(n,_,I,l);if(V.length===0&&x.hasChildren())return this.processChildren(f,l,x,A).pipe(ne(Z=>new wt(A,Z)));if(l.length===0&&V.length===0)return Q(new wt(A,[]));let W=qt(r)===s;return this.processSegment(f,l,x,V,W?Y:s,!0,A).pipe(ne(Z=>new wt(A,Z instanceof wt?[Z]:[])))}))):fs(n)))}getChildConfig(e,n,r){return n.children?Q({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Q({routes:n._loadedRoutes,injector:n._loadedInjector}):yO(e,n,r,this.urlSerializer).pipe(Fe(i=>i?this.configLoader.loadChildren(e,n).pipe(Le(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):IO(n))):Q({routes:[],injector:e})}};function MO(t){t.sort((e,n)=>e.value.outlet===Y?-1:n.value.outlet===Y?1:e.value.outlet.localeCompare(n.value.outlet))}function NO(t){let e=t.value.routeConfig;return e&&e.path===""}function nC(t){let e=[],n=new Set;for(let r of t){if(!NO(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=nC(r.children);e.push(new wt(r.value,i))}return e.filter(r=>!n.has(r))}function ND(t){return t.data||{}}function xD(t){return t.resolve||{}}function xO(t,e,n,r,i,s){return Fe(o=>AO(t,e,n,r,o.extractedUrl,i,s).pipe(ne(({state:c,tree:u})=>re(O({},o),{targetSnapshot:c,urlAfterRedirects:u}))))}function PO(t,e){return Fe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Q(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of rC(u))o.add(l);let c=0;return Ae(o).pipe(Vi(u=>s.has(u)?OO(u,r,t,e):(u.data=il(u,u.parent,t).resolve,Q(void 0))),Le(()=>c++),ji(1),Fe(u=>c===o.size?Q(n):vt))})}function rC(t){let e=t.children.map(n=>rC(n)).flat();return[t,...e]}function OO(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!QD(i)&&(s[da]=i.title),kO(s,t,e,r).pipe(ne(o=>(t._resolvedData=o,t.data=il(t,t.parent,n).resolve,null)))}function kO(t,e,n,r){let i=Fp(t);if(i.length===0)return Q({});let s={};return Ae(i).pipe(Fe(o=>FO(t[o],e,n,r).pipe(Gt(),Le(c=>{if(c instanceof ca)throw ol(new na,c);s[o]=c}))),ji(1),xh(s),Zn(o=>XD(o)?vt:Fi(o)))}function FO(t,e,n,r){let i=ha(e)??r,s=ws(t,i),o=s.resolve?s.resolve(e,n):wn(i,()=>s(e,n));return dr(o)}function Op(t){return Lt(e=>{let n=t(e);return n?Ae(n).pipe(ne(()=>e)):Q(e)})}var iC=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===Y);return i}getResolvedTitleForRoute(r){return r.data[da]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>k(LO),providedIn:"root"});let t=e;return t})(),LO=(()=>{let e=class e extends iC{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(ee(bD))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),hg=new B("",{providedIn:"root",factory:()=>({})}),VO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ht({type:e,selectors:[["ng-component"]],standalone:!0,features:[pt],decls:1,vars:0,template:function(i,s){i&1&&Ie(0,"router-outlet")},dependencies:[lg],encapsulation:2});let t=e;return t})();function fg(t){let e=t.children&&t.children.map(fg),n=e?re(O({},t),{children:e}):O({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Y&&(n.component=VO),n}var pg=new B(""),jO=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(wp)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Q(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=dr(r.loadComponent()).pipe(ne(sC),Le(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),bo(()=>{this.componentLoaders.delete(r)})),s=new xi(i,()=>new Ue).pipe(Ni());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Q({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=UO(i,this.compiler,r,this.onLoadEndListener).pipe(bo(()=>{this.childrenLoaders.delete(i)})),c=new xi(o,()=>new Ue).pipe(Ni());return this.childrenLoaders.set(i,c),c}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function UO(t,e,n,r){return dr(t.loadChildren()).pipe(ne(sC),Fe(i=>i instanceof Oo||Array.isArray(i)?Q(i):Ae(e.compileModuleAsync(i))),ne(i=>{r&&r(t);let s,o,c=!1;return Array.isArray(i)?(o=i,c=!0):(s=i.create(n).injector,o=s.get(pg,[],{optional:!0,self:!0}).flat()),{routes:o.map(fg),injector:s}}))}function BO(t){return t&&typeof t=="object"&&"default"in t}function sC(t){return BO(t)?t.default:t}var gg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>k($O),providedIn:"root"});let t=e;return t})(),$O=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),HO=new B("");var qO=new B(""),zO=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ue,this.transitionAbortSubject=new Ue,this.configLoader=k(jO),this.environmentInjector=k(Rt),this.urlSerializer=k(cg),this.rootContexts=k(cl),this.location=k(zo),this.inputBindingEnabled=k(dg,{optional:!0})!==null,this.titleStrategy=k(iC),this.options=k(hg,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(gg),this.createViewTransition=k(HO,{optional:!0}),this.navigationErrorHandler=k(qO,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Q(void 0),this.rootComponentType=null;let r=s=>this.events.next(new zp(s)),i=s=>this.events.next(new Gp(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(re(O(O({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new We({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ea,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ft(o=>o.id!==0),ne(o=>re(O({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Lt(o=>{let c=!1,u=!1;return Q(o).pipe(Lt(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Et.SupersededByNewNavigation),vt;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?re(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let f=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),g=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!f&&g!=="reload"){let _="";return this.events.next(new ti(l.id,this.urlSerializer.serialize(l.rawUrl),_,Up.IgnoredSameUrlNavigation)),l.resolve(!1),vt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Q(l).pipe(Lt(_=>{let I=this.transitions?.getValue();return this.events.next(new ia(_.id,this.urlSerializer.serialize(_.extractedUrl),_.source,_.restoredState)),I!==this.transitions?.getValue()?vt:Promise.resolve(_)}),xO(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Le(_=>{o.targetSnapshot=_.targetSnapshot,o.urlAfterRedirects=_.urlAfterRedirects,this.currentNavigation=re(O({},this.currentNavigation),{finalUrl:_.urlAfterRedirects});let I=new tl(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(I)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:_,extractedUrl:I,source:A,restoredState:M,extras:x}=l,V=new ia(_,this.urlSerializer.serialize(I),A,M);this.events.next(V);let W=WD(this.rootComponentType).snapshot;return this.currentTransition=o=re(O({},l),{targetSnapshot:W,urlAfterRedirects:I,extras:re(O({},x),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=I,Q(o)}else{let _="";return this.events.next(new ti(l.id,this.urlSerializer.serialize(l.extractedUrl),_,Up.IgnoredByUrlHandlingStrategy)),l.resolve(!1),vt}}),Le(l=>{let f=new Bp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),ne(l=>(this.currentTransition=o=re(O({},l),{guards:JP(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),uO(this.environmentInjector,l=>this.events.next(l)),Le(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw ol(this.urlSerializer,l.guardsResult);let f=new $p(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(f)}),Ft(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Et.GuardRejected),!1)),Op(l=>{if(l.guards.canActivateChecks.length)return Q(l).pipe(Le(f=>{let g=new Hp(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}),Lt(f=>{let g=!1;return Q(f).pipe(PO(this.paramsInheritanceStrategy,this.environmentInjector),Le({next:()=>g=!0,complete:()=>{g||this.cancelNavigationTransition(f,"",Et.NoDataFromResolver)}}))}),Le(f=>{let g=new qp(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}))}),Op(l=>{let f=g=>{let _=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(g.routeConfig).pipe(Le(I=>{g.component=I}),ne(()=>{})));for(let I of g.children)_.push(...f(I));return _};return qc(f(l.targetSnapshot.root)).pipe(Jn(null),yn(1))}),Op(()=>this.afterPreactivation()),Lt(()=>{let{currentSnapshot:l,targetSnapshot:f}=o,g=this.createViewTransition?.(this.environmentInjector,l.root,f.root);return g?Ae(g).pipe(ne(()=>o)):Q(o)}),ne(l=>{let f=WP(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=re(O({},l),{targetRouterState:f}),this.currentNavigation.targetRouterState=f,o}),Le(()=>{this.events.next(new oa)}),ZP(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),yn(1),Le({next:l=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new lr(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{c=!0}}),Fh(this.transitionAbortSubject.pipe(Le(l=>{throw l}))),bo(()=>{!c&&!u&&this.cancelNavigationTransition(o,"",Et.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Zn(l=>{if(u=!0,JD(l))this.events.next(new An(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),YP(l)?this.events.next(new _s(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let f=new sa(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let g=wn(this.environmentInjector,()=>this.navigationErrorHandler?.(f));if(g instanceof ca){let{message:_,cancellationCode:I}=ol(this.urlSerializer,g);this.events.next(new An(o.id,this.urlSerializer.serialize(o.extractedUrl),_,I)),this.events.next(new _s(g.redirectTo,g.navigationBehaviorOptions))}else{this.events.next(f);let _=r.errorHandler(l);o.resolve(!!_)}}catch(g){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(g)}}return vt}))}))}cancelNavigationTransition(r,i,s){let o=new An(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function GO(t){return t!==ea}var WO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>k(KO),providedIn:"root"});let t=e;return t})(),ag=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},KO=(()=>{let e=class e extends ag{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=cs(e)))(s||e)}})(),e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),oC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>k(QO),providedIn:"root"});let t=e;return t})(),QO=(()=>{let e=class e extends oC{constructor(){super(...arguments),this.location=k(zo),this.urlSerializer=k(cg),this.options=k(hg,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(gg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Rn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=WD(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof ia)this.stateMemento=this.createStateMemento();else if(r instanceof ti)this.rawUrlTree=i.initialUrl;else if(r instanceof tl){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??s,i)}}else r instanceof oa?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof An&&(r.code===Et.GuardRejected||r.code===Et.NoDataFromResolver)?this.restoreHistory(i):r instanceof sa?this.restoreHistory(i,!0):r instanceof lr&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=r instanceof Rn?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,c=O(O({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",c)}else{let o=O(O({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=cs(e)))(s||e)}})(),e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Jo=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Jo||{});function YO(t,e){t.events.pipe(Ft(n=>n instanceof lr||n instanceof An||n instanceof sa||n instanceof ti),ne(n=>n instanceof lr||n instanceof ti?Jo.COMPLETE:(n instanceof An?n.code===Et.Redirect||n.code===Et.SupersededByNewNavigation:!1)?Jo.REDIRECTING:Jo.FAILED),Ft(n=>n!==Jo.REDIRECTING),yn(1)).subscribe(()=>{e()})}function ZO(t){throw t}var JO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},XO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ri=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=k(Hu),this.stateManager=k(oC),this.options=k(hg,{optional:!0})||{},this.pendingTasks=k(us),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(zO),this.urlSerializer=k(cg),this.location=k(zo),this.urlHandlingStrategy=k(gg),this._events=new Ue,this.errorHandler=this.options.errorHandler||ZO,this.navigated=!1,this.routeReuseStrategy=k(WO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(pg,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(dg,{optional:!0}),this.eventsSubscription=new Te,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof An&&i.code!==Et.Redirect&&i.code!==Et.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof lr)this.navigated=!0;else if(i instanceof _s){let c=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),l=O({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||GO(s.source)},c);this.scheduleNavigation(u,ea,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}tk(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ea,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},c=s?.navigationId?s:null;if(s){let l=O({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,c,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(fg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:c,queryParamsHandling:u,preserveFragment:l}=i,f=l?this.currentUrlTree.fragment:c,g=null;switch(u??this.options.defaultQueryParamsHandling){case"merge":g=O(O({},this.currentUrlTree.queryParams),o);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=o||null}g!==null&&(g=this.removeEmptyProps(g));let _;try{let I=s?s.snapshot:this.routerState.snapshot.root;_=HD(I)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),_=this.currentUrlTree.root}return qD(_,r,g,f??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=ei(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,ea,null,i)}navigate(r,i={skipLocationChange:!1}){return ek(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=O({},JO):i===!1?s=O({},XO):s=i,ei(r))return TD(this.currentUrlTree,r,s);let o=this.parseUrl(r);return TD(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,c){if(this.disposed)return Promise.resolve(!1);let u,l,f;c?(u=c.resolve,l=c.reject,f=c.promise):f=new Promise((_,I)=>{u=_,l=I});let g=this.pendingTasks.add();return YO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:l,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(_=>Promise.reject(_))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ek(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new $(4008,!1)}function tk(t){return!(t instanceof oa)&&!(t instanceof _s)}var Es=(()=>{let e=class e{constructor(r,i,s,o,c,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=c,this.locationStrategy=u,this.href=null,this.onChanges=new Ue,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(f=>{f instanceof lr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ei(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,i,s,o,c){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||s||o||c||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:lE(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.routerLinkInput===null?null:ei(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(ce(ri),ce(ni),Zf("tabindex"),ce(zr),ce(ar),ce(hs))},e.\u0275dir=ot({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&$t("click",function(c){return s.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),i&2&&$o("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ur],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ur],replaceUrl:[2,"replaceUrl","replaceUrl",ur],routerLink:"routerLink"},standalone:!0,features:[mp,sr]});let t=e;return t})();var nk=new B("");function aC(t,...e){return en([{provide:pg,multi:!0,useValue:t},[],{provide:ni,useFactory:rk,deps:[ri]},{provide:Ip,multi:!0,useFactory:ik},e.map(n=>n.\u0275providers)])}function rk(t){return t.routerState.root}function ik(){let t=k(lt);return e=>{let n=t.get(Qr);if(e!==n.components[0])return;let r=t.get(ri),i=t.get(sk);t.get(ok)===1&&r.initialNavigation(),t.get(ak,null,J.Optional)?.setUpPreloading(),t.get(nk,null,J.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var sk=new B("",{factory:()=>new Ue}),ok=new B("",{providedIn:"root",factory:()=>1});var ak=new B("");var ll=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ht({type:t,selectors:[["app-home-component"]],standalone:!0,features:[pt],decls:49,vars:0,consts:[["href","#top"],[1,"fas","fa-angle-double-up"],[1,"container-principal-home"],[1,"container-mayor-izquierda"],["src","assets/img/joystick2.png","alt","home gaming fever"],[1,"container-menor-derecha"],["routerLink","/quien-soy",1,"btn","btn-danger","mt-4"],[1,"banner"],[1,"grid-inicio","row","gy-3","mt-3","mb-3"],[1,"col-md-3"],[1,"card"],["src","assets/img/login.jpg",1,"card-img-top"],[1,"card-body","cuerpo-card"],[1,"card-title","text-center"]],template:function(n,r){n&1&&(F(0,"a",0),Ie(1,"i",1),L(),F(2,"section")(3,"div",2)(4,"div",3),Ie(5,"img",4),L(),F(6,"div",5)(7,"h3"),U(8,"Bienvenidos a "),Ie(9,"br"),U(10," Gaming Fever!"),L(),F(11,"p"),U(12," Esta pagina se dise\xF1\xF3 para el trabajo practico correspondiente a la materia Laboratorio IV de la Universidad Tecnol\xF3gica Nacional de Argentina (UTN). "),L(),F(13,"p"),U(14," En este sitio web podr\xE1s encontrar los 4 juegos que program\xE9. Te invito a scrollear en esta pagina para poder encontrar los mismos. "),L(),F(15,"p"),U(16," Espero te diviertas jugando con los juegos que cree usando Angular! "),L(),F(17,"button",6),U(18,"CONOCEME"),L()()()(),F(19,"section")(20,"div",7)(21,"h2"),U(22,"JUEGOS"),L()()(),F(23,"section")(24,"div",8)(25,"div",9)(26,"div",10),Ie(27,"img",11),F(28,"div",12)(29,"h5",13),U(30,"AHORCADO"),L()()()(),F(31,"div",9)(32,"div",10),Ie(33,"img",11),F(34,"div",12)(35,"h5",13),U(36,"MAYOR O MENOR"),L()()()(),F(37,"div",9)(38,"div",10),Ie(39,"img",11),F(40,"div",12)(41,"h5",13),U(42,"PREGUNTADOS"),L()()()(),F(43,"div",9)(44,"div",10),Ie(45,"img",11),F(46,"div",12)(47,"h5",13),U(48,"NAME THE SONG"),L()()()()()())},dependencies:[Es],styles:['.container-principal-home[_ngcontent-%COMP%]{display:flex;flex-direction:row}.container-mayor-izquierda[_ngcontent-%COMP%]{flex:60%;display:flex}.container-mayor-izquierda[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.container-menor-derecha[_ngcontent-%COMP%]{flex:40%;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:10px 20px;text-align:center}.container-menor-derecha[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.8rem;margin-top:30px;margin-bottom:30px}.cuerpo-card[_ngcontent-%COMP%], .cuerpo-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-image:url("./media/card-bg-HME2GQNT.jpg");color:#fff;font-family:ubuntu;text-decoration:none}.card[_ngcontent-%COMP%]{transition:transform .3s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}']})};var lC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ck=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],c=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},dC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,c=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=s>>2,g=(s&3)<<4|c>>4,_=(c&15)<<2|l>>6,I=l&63;u||(I=64,o||(_=64)),r.push(n[f],n[g],n[_],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ck(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||l==null||g==null)throw new yg;let _=s<<2|c>>4;if(r.push(_),l!==64){let I=c<<4&240|l>>2;if(r.push(I),g!==64){let A=l<<6&192|g;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},yg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},uk=function(t){let e=lC(t);return dC.encodeByteArray(e,!0)},ga=function(t){return uk(t).replace(/\./g,"")},_g=function(t){try{return dC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function lk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var dk=()=>lk().__FIREBASE_DEFAULTS__,hk=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},fk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&_g(t[1]);return e&&JSON.parse(e)},hl=()=>{try{return dk()||hk()||fk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ig=t=>{var e,n;return(n=(e=hl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},hC=t=>{let e=Ig(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},wg=()=>{var t;return(t=hl())===null||t===void 0?void 0:t.config},Eg=t=>{var e;return(e=hl())===null||e===void 0?void 0:e[`_${t}`]};var dl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function fC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ga(JSON.stringify(n)),ga(JSON.stringify(o)),""].join(".")}function $e(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function pk(){var t;let e=(t=hl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gC(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function mC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yC(){let t=$e();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function vC(){return!pk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Dg(){try{return typeof indexedDB=="object"}catch{return!1}}function _C(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var gk="FirebaseError",Dt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=gk,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mn.prototype.create)}},Mn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?mk(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new Dt(i,c,r)}};function mk(t,e){return t.replace(yk,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var yk=/\{\$([^}]+)}/g;function IC(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ii(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(uC(s)&&uC(o)){if(!ii(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function uC(t){return t!==null&&typeof t=="object"}function ma(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ds(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Cs(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function wC(t,e){let n=new vg(t,e);return n.subscribe.bind(n)}var vg=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");vk(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=mg),i.error===void 0&&(i.error=mg),i.complete===void 0&&(i.complete=mg);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function vk(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function mg(){}var mG=4*60*60*1e3;function gt(t){return t&&t._delegate?t._delegate:t}var Pt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var si="[DEFAULT]";var Cg=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new dl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ik(e))try{this.getOrInitializeService({instanceIdentifier:si})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=si){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=si){return this.instances.has(e)}getOptions(e=si){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_k(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=si){return this.component?this.component.multipleInstances?e:si:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function _k(t){return t===si?void 0:t}function Ik(t){return t.instantiationMode==="EAGER"}var fl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Cg(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var wk=[],se=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(se||{}),Ek={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},Dk=se.INFO,Ck={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},bk=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=Ck[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},hr=class{constructor(e){this.name=e,this._logLevel=Dk,this._logHandler=bk,this._userLogHandler=null,wk.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ek[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}};var Tk=(t,e)=>e.some(n=>t instanceof n),EC,DC;function Sk(){return EC||(EC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ak(){return DC||(DC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var CC=new WeakMap,Tg=new WeakMap,bC=new WeakMap,bg=new WeakMap,Ag=new WeakMap;function Rk(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(nn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&CC.set(n,t)}).catch(()=>{}),Ag.set(e,t),e}function Mk(t){if(Tg.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Tg.set(t,e)}var Sg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Tg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return nn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function TC(t){Sg=t(Sg)}function Nk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(pl(this),e,...n);return bC.set(r,e.sort?e.sort():[e]),nn(r)}:Ak().includes(t)?function(...e){return t.apply(pl(this),e),nn(CC.get(this))}:function(...e){return nn(t.apply(pl(this),e))}}function xk(t){return typeof t=="function"?Nk(t):(t instanceof IDBTransaction&&Mk(t),Tk(t,Sk())?new Proxy(t,Sg):t)}function nn(t){if(t instanceof IDBRequest)return Rk(t);if(bg.has(t))return bg.get(t);let e=xk(t);return e!==t&&(bg.set(t,e),Ag.set(e,t)),e}var pl=t=>Ag.get(t);function AC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),c=nn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(nn(o.result),u.oldVersion,u.newVersion,nn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var Pk=["get","getKey","getAll","getAllKeys","count"],Ok=["put","add","delete","clear"],Rg=new Map;function SC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Rg.get(e))return Rg.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=Ok.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Pk.includes(n)))return;let s=function(o,...c){return w(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]})};return Rg.set(e,s),s}TC(t=>re(O({},t),{get:(e,n,r)=>SC(e,n)||t.get(e,n,r),has:(e,n)=>!!SC(e,n)||t.has(e,n)}));var Ng=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kk(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function kk(t){let e=t.getComponent();return e?.type==="VERSION"}var xg="@firebase/app",RC="0.10.10";var Nn=new hr("@firebase/app"),Fk="@firebase/app-compat",Lk="@firebase/analytics-compat",Vk="@firebase/analytics",jk="@firebase/app-check-compat",Uk="@firebase/app-check",Bk="@firebase/auth",$k="@firebase/auth-compat",Hk="@firebase/database",qk="@firebase/database-compat",zk="@firebase/functions",Gk="@firebase/functions-compat",Wk="@firebase/installations",Kk="@firebase/installations-compat",Qk="@firebase/messaging",Yk="@firebase/messaging-compat",Zk="@firebase/performance",Jk="@firebase/performance-compat",Xk="@firebase/remote-config",e1="@firebase/remote-config-compat",t1="@firebase/storage",n1="@firebase/storage-compat",r1="@firebase/firestore",i1="@firebase/vertexai-preview",s1="@firebase/firestore-compat",o1="firebase",a1="10.13.1";var Pg="[DEFAULT]",c1={[xg]:"fire-core",[Fk]:"fire-core-compat",[Vk]:"fire-analytics",[Lk]:"fire-analytics-compat",[Uk]:"fire-app-check",[jk]:"fire-app-check-compat",[Bk]:"fire-auth",[$k]:"fire-auth-compat",[Hk]:"fire-rtdb",[qk]:"fire-rtdb-compat",[zk]:"fire-fn",[Gk]:"fire-fn-compat",[Wk]:"fire-iid",[Kk]:"fire-iid-compat",[Qk]:"fire-fcm",[Yk]:"fire-fcm-compat",[Zk]:"fire-perf",[Jk]:"fire-perf-compat",[Xk]:"fire-rc",[e1]:"fire-rc-compat",[t1]:"fire-gcs",[n1]:"fire-gcs-compat",[r1]:"fire-fst",[s1]:"fire-fst-compat",[i1]:"fire-vertex","fire-js":"fire-js",[o1]:"fire-js-all"};var ya=new Map,u1=new Map,Og=new Map;function MC(t,e){try{t.container.addComponent(e)}catch(n){Nn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function pr(t){let e=t.name;if(Og.has(e))return Nn.debug(`There were multiple attempts to register component ${e}.`),!1;Og.set(e,t);for(let n of ya.values())MC(n,t);for(let n of u1.values())MC(n,t);return!0}function _a(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function zt(t){return t.settings!==void 0}var l1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fr=new Mn("app","Firebase",l1);var kg=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}};var gr=a1;function Vg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Pg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw fr.create("bad-app-name",{appName:String(i)});if(n||(n=wg()),!n)throw fr.create("no-options");let s=ya.get(i);if(s){if(ii(n,s.options)&&ii(r,s.config))return s;throw fr.create("duplicate-app",{appName:i})}let o=new fl(i);for(let u of Og.values())o.addComponent(u);let c=new kg(n,r,o);return ya.set(i,c),c}function bs(t=Pg){let e=ya.get(t);if(!e&&t===Pg&&wg())return Vg();if(!e)throw fr.create("no-app",{appName:t});return e}function gl(){return Array.from(ya.values())}function Ve(t,e,n){var r;let i=(r=c1[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nn.warn(c.join(" "));return}pr(new Pt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var d1="firebase-heartbeat-database",h1=1,va="firebase-heartbeat-store",Mg=null;function OC(){return Mg||(Mg=AC(d1,h1,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(va)}catch(n){console.warn(n)}}}}).catch(t=>{throw fr.create("idb-open",{originalErrorMessage:t.message})})),Mg}function f1(t){return w(this,null,function*(){try{let n=(yield OC()).transaction(va),r=yield n.objectStore(va).get(kC(t));return yield n.done,r}catch(e){if(e instanceof Dt)Nn.warn(e.message);else{let n=fr.create("idb-get",{originalErrorMessage:e?.message});Nn.warn(n.message)}}})}function NC(t,e){return w(this,null,function*(){try{let r=(yield OC()).transaction(va,"readwrite");yield r.objectStore(va).put(e,kC(t)),yield r.done}catch(n){if(n instanceof Dt)Nn.warn(n.message);else{let r=fr.create("idb-set",{originalErrorMessage:n?.message});Nn.warn(r.message)}}})}function kC(t){return`${t.name}!${t.options.appId}`}var p1=1024,g1=30*24*60*60*1e3,Fg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Lg(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=xC();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=g1}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Nn.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=xC(),{heartbeatsToSend:r,unsentEntries:i}=m1(this._heartbeatsCache.heartbeats),s=ga(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Nn.warn(n),""}})}};function xC(){return new Date().toISOString().substring(0,10)}function m1(t,e=p1){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),PC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),PC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Lg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return Dg()?_C().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield f1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return NC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return NC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function PC(t){return ga(JSON.stringify({version:2,heartbeats:t})).length}function y1(t){pr(new Pt("platform-logger",e=>new Ng(e),"PRIVATE")),pr(new Pt("heartbeat",e=>new Fg(e),"PRIVATE")),Ve(xg,RC,t),Ve(xg,RC,"esm2017"),Ve("fire-js","")}y1("");var v1="firebase",_1="10.13.1";Ve(v1,_1,"app");var ai=new In("ANGULARFIRE2_VERSION");function yl(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Ia=(t,e)=>{let n=e?[e]:gl(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Ss=class{constructor(){return Ia(I1)}},I1="app-check";function Ts(){}var ml=class{zone;delegate;constructor(e,n=Sh){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},jg=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ts,{},Ts,Ts)),n.pipe(Le({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},As=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new ml(Zone.current)),this.insideAngular=n.run(()=>new ml(Zone.current,Th)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(ee(ye))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function vl(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function w1(t){return vl().ngZone.runOutsideAngular(()=>t())}function oi(t){return vl().ngZone.run(()=>t())}function E1(t){return D1(vl())(t)}function D1(t){return function(n){return n=n.lift(new jg(t.ngZone)),n.pipe(Yn(t.outsideAngular),Qn(t.insideAngular))}}var C1=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),oi(()=>t.apply(void 0,r))},rn=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=oi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ts,{},Ts,Ts))),r[s]=C1(r[s],n));let i=w1(()=>t.apply(this,r));if(!e)if(i instanceof ue){let s=vl();return i.pipe(Yn(s.outsideAngular),Qn(s.insideAngular))}else return oi(()=>i);return i instanceof ue?i.pipe(E1):i instanceof Promise?oi(()=>new Promise((s,o)=>i.then(c=>oi(()=>s(c)),c=>oi(()=>o(c))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:oi(()=>i)};var xn=class{constructor(e){return e}},ci=class{constructor(){return gl()}};function b1(t){return t&&t.length===1?t[0]:new xn(bs())}var Ug=new B("angularfire2._apps"),T1={provide:xn,useFactory:b1,deps:[[new dt,Ug]]},S1={provide:ci,deps:[[new dt,Ug]]};function A1(t){return(e,n)=>{let r=n.get(cr);Ve("angularfire",ai.full,"core"),Ve("angularfire",ai.full,"app"),Ve("angular",ZE.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new xn(i)}}function FC(t,...e){return en([T1,S1,{provide:Ug,useFactory:A1(t),multi:!0,deps:[ye,lt,As,...e]}])}var LC=rn(Vg,!0);function eb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var tb=eb,nb=new Mn("auth","Firebase",eb());var Cl=new hr("@firebase/auth");function R1(t,...e){Cl.logLevel<=se.WARN&&Cl.warn(`Auth (${gr}): ${t}`,...e)}function Il(t,...e){Cl.logLevel<=se.ERROR&&Cl.error(`Auth (${gr}): ${t}`,...e)}function on(t,...e){throw um(t,...e)}function ui(t,...e){return um(t,...e)}function rb(t,e,n){let r=Object.assign(Object.assign({},tb()),{[e]:n});return new Mn("auth","Firebase",r).create(e,{appName:t.name})}function kn(t){return rb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function um(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return nb.create(t,...e)}function z(t,e,...n){if(!t)throw um(e,...n)}function Pn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Il(e),new Error(e)}function yr(t,e){t||Pn(e)}function qg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function M1(){return VC()==="http:"||VC()==="https:"}function VC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function N1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(M1()||gC()||"connection"in navigator)?navigator.onLine:!0}function x1(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var li=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,yr(n>e,"Short delay should be less than long delay!"),this.isMobile=pC()||mC()}get(){return N1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function lm(t,e){yr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var bl=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var P1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var O1=new li(3e4,6e4);function vr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function _r(s,o,c,u){return w(this,arguments,function*(t,e,n,r,i={}){return ib(t,i,()=>w(this,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let g=ma(Object.assign({key:t.config.apiKey},f)).slice(1),_=yield t._getAdditionalHeaders();return _["Content-Type"]="application/json",t.languageCode&&(_["X-Firebase-Locale"]=t.languageCode),bl.fetch()(sb(t,t.config.apiHost,n,g),Object.assign({method:e,headers:_,referrerPolicy:"no-referrer"},l))}))})}function ib(t,e,n){return w(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},P1),e);try{let i=new zg(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw _l(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw _l(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw _l(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw _l(t,"user-disabled",o);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw rb(t,f,l);on(t,f)}}catch(i){if(i instanceof Dt)throw i;on(t,"network-request-failed",{message:String(i)})}})}function Aa(s,o,c,u){return w(this,arguments,function*(t,e,n,r,i={}){let l=yield _r(t,e,n,r,i);return"mfaPendingCredential"in l&&on(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function sb(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?lm(t.config,i):`${t.config.apiScheme}://${i}`}function k1(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var zg=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ui(this.auth,"network-request-failed")),O1.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function _l(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=ui(t,e,r);return i.customData._tokenResponse=n,i}function jC(t){return t!==void 0&&t.enterprise!==void 0}var Gg=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return k1(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function F1(t,e){return w(this,null,function*(){return _r(t,"GET","/v2/recaptchaConfig",vr(t,e))})}function L1(t,e){return w(this,null,function*(){return _r(t,"POST","/v1/accounts:delete",e)})}function ob(t,e){return w(this,null,function*(){return _r(t,"POST","/v1/accounts:lookup",e)})}function wa(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function dm(t,e=!1){return w(this,null,function*(){let n=gt(t),r=yield n.getIdToken(e),i=hm(r);z(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:wa(Bg(i.auth_time)),issuedAtTime:wa(Bg(i.iat)),expirationTime:wa(Bg(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Bg(t){return Number(t)*1e3}function hm(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Il("JWT malformed, contained fewer than 3 sections"),null;try{let i=_g(n);return i?JSON.parse(i):(Il("Failed to decode base64 JWT payload"),null)}catch(i){return Il("Caught error parsing JWT payload as JSON",i?.toString()),null}}function UC(t){let e=hm(t);return z(e,"internal-error"),z(typeof e.exp<"u","internal-error"),z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Da(t,e,n=!1){return w(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Dt&&V1(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function V1({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Wg=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),n)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ca=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wa(this.lastLoginAt),this.creationTime=wa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Tl(t){return w(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Da(t,ob(n,{idToken:r}));z(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?ab(s.providerUserInfo):[],c=j1(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!c?.length,f=u?l:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Ca(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,g)})}function fm(t){return w(this,null,function*(){let e=gt(t);yield Tl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function j1(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ab(t){return t.map(e=>{var{providerId:n}=e,r=Ah(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function U1(t,e){return w(this,null,function*(){let n=yield ib(t,{},()=>w(this,null,function*(){let r=ma({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=sb(t,i,"/v1/token",`key=${s}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",bl.fetch()(o,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function B1(t,e){return w(this,null,function*(){return _r(t,"POST","/v2/accounts:revokeToken",vr(t,e))})}var Ea=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){z(e.idToken,"internal-error"),z(typeof e.idToken<"u","internal-error"),z(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):UC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){z(e.length!==0,"internal-error");let n=UC(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return w(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield U1(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(z(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(z(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(z(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Pn("not implemented")}};function mr(t,e){z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Rs=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Ah(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ca(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let n=yield Da(this,this.stsTokenManager.getToken(this.auth,e));return z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return dm(this,e)}reload(){return fm(this)}_assign(e){this!==e&&(z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Tl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(zt(this.auth.app))return Promise.reject(kn(this.auth));let e=yield this.getIdToken();return yield Da(this,L1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,c,u,l,f;let g=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(i=n.email)!==null&&i!==void 0?i:void 0,I=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,A=(o=n.photoURL)!==null&&o!==void 0?o:void 0,M=(c=n.tenantId)!==null&&c!==void 0?c:void 0,x=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,V=(l=n.createdAt)!==null&&l!==void 0?l:void 0,W=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:Z,emailVerified:ge,isAnonymous:ze,providerData:fe,stsTokenManager:D}=n;z(Z&&D,e,"internal-error");let m=Ea.fromJSON(this.name,D);z(typeof Z=="string",e,"internal-error"),mr(g,e.name),mr(_,e.name),z(typeof ge=="boolean",e,"internal-error"),z(typeof ze=="boolean",e,"internal-error"),mr(I,e.name),mr(A,e.name),mr(M,e.name),mr(x,e.name),mr(V,e.name),mr(W,e.name);let y=new t({uid:Z,auth:e,email:_,emailVerified:ge,displayName:g,isAnonymous:ze,photoURL:A,phoneNumber:I,tenantId:M,stsTokenManager:m,createdAt:V,lastLoginAt:W});return fe&&Array.isArray(fe)&&(y.providerData=fe.map(E=>Object.assign({},E))),x&&(y._redirectEventId=x),y}static _fromIdTokenResponse(e,n,r=!1){return w(this,null,function*(){let i=new Ea;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Tl(s),s})}static _fromGetAccountInfoResponse(e,n,r){return w(this,null,function*(){let i=n.users[0];z(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?ab(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new Ea;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ca(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var BC=new Map;function On(t){yr(t instanceof Function,"Expected a class definition");let e=BC.get(t);return e?(yr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,BC.set(t,e),e)}var $1=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(n,r){return w(this,null,function*(){this.storage[n]=r})}_get(n){return w(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return w(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Kg=$1;function wl(t,e,n){return`firebase:${t}:${e}:${n}`}var Sl=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=wl(this.userKey,i.apiKey,s),this.fullPersistenceKey=wl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Rs._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(this,null,function*(){if(!n.length)return new t(On(Kg),e,r);let i=(yield Promise.all(n.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||On(Kg),o=wl(r,e.config.apiKey,e.name),c=null;for(let l of n)try{let f=yield l._get(o);if(f){let g=Rs._fromJSON(e,f);l!==s&&(c=g),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(n.map(l=>w(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function $C(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(db(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fb(e))return"Blackberry";if(pb(e))return"Webos";if(ub(e))return"Safari";if((e.includes("chrome/")||lb(e))&&!e.includes("edge/"))return"Chrome";if(hb(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function cb(t=$e()){return/firefox\//i.test(t)}function ub(t=$e()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lb(t=$e()){return/crios\//i.test(t)}function db(t=$e()){return/iemobile/i.test(t)}function hb(t=$e()){return/android/i.test(t)}function fb(t=$e()){return/blackberry/i.test(t)}function pb(t=$e()){return/webos/i.test(t)}function pm(t=$e()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function H1(t=$e()){var e;return pm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function q1(){return yC()&&document.documentMode===10}function gb(t=$e()){return pm(t)||hb(t)||pb(t)||fb(t)||/windows phone/i.test(t)||db(t)}function mb(t,e=[]){let n;switch(t){case"Browser":n=$C($e());break;case"Worker":n=`${$C($e())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${gr}/${r}`}var Qg=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,c)=>{try{let u=e(s);o(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function z1(n){return w(this,arguments,function*(t,e={}){return _r(t,"GET","/v2/passwordPolicy",vr(t,e))})}var G1=6,Yg=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:G1,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Zg=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Al(this),this.idTokenSubscription=new Al(this),this.beforeStateQueue=new Qg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=On(n)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Sl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let n=yield ob(this,{idToken:e}),r=yield Rs._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var n;if(zt(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===c)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return z(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield Tl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=x1()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(zt(this.app))return Promise.reject(kn(this));let n=e?gt(e):null;return n&&z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return w(this,null,function*(){if(!this._deleted)return e&&z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return zt(this.app)?Promise.reject(kn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return zt(this.app)?Promise.reject(kn(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(On(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield z1(this),n=new Yg(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Mn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield B1(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&On(e)||this._popupRedirectResolver;z(n,this,"argument-error"),this.redirectPersistenceManager=yield Sl.create(this,[On(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(z(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return w(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&R1(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function hi(t){return gt(t)}var Al=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=wC(n=>this.observer=n)}get next(){return z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var kl={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function W1(t){kl=t}function yb(t){return kl.loadJS(t)}function K1(){return kl.recaptchaEnterpriseScript}function Q1(){return kl.gapiScript}function vb(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var Y1="recaptcha-enterprise",Z1="NO_RECAPTCHA",Jg=class{constructor(e){this.type=Y1,this.auth=hi(e)}verify(e="verify",n=!1){return w(this,null,function*(){function r(s){return w(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,c)=>w(this,null,function*(){F1(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let l=new Gg(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{c(u)})}))})}function i(s,o,c){let u=window.grecaptcha;jC(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(Z1)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(c=>{if(!n&&jC(window.grecaptcha))i(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=K1();u.length!==0&&(u+=c),yb(u).then(()=>{i(c,s,o)}).catch(l=>{o(l)})}}).catch(c=>{o(c)})})})}};function HC(t,e,n,r=!1){return w(this,null,function*(){let i=new Jg(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function Xg(t,e,n,r){return w(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield HC(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>w(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield HC(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function gm(t,e){let n=_a(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(ii(s,e??{}))return i;on(i,"already-initialized")}return n.initialize({options:e})}function J1(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(On);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function mm(t,e,n){let r=hi(t);z(r._canInitEmulator,r,"emulator-config-failed"),z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=_b(e),{host:o,port:c}=X1(e),u=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||eF()}function _b(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function X1(t){let e=_b(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:qC(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:qC(o)}}}function qC(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function eF(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var ba=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Pn("not implemented")}_getIdTokenResponse(e){return Pn("not implemented")}_linkToIdToken(e,n){return Pn("not implemented")}_getReauthenticationResolver(e){return Pn("not implemented")}};function tF(t,e){return w(this,null,function*(){return _r(t,"POST","/v1/accounts:signUp",e)})}function nF(t,e){return w(this,null,function*(){return Aa(t,"POST","/v1/accounts:signInWithPassword",vr(t,e))})}function rF(t,e){return w(this,null,function*(){return Aa(t,"POST","/v1/accounts:signInWithEmailLink",vr(t,e))})}function iF(t,e){return w(this,null,function*(){return Aa(t,"POST","/v1/accounts:signInWithEmailLink",vr(t,e))})}var Ta=class t extends ba{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return w(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xg(e,n,"signInWithPassword",nF);case"emailLink":return rF(e,{email:this._email,oobCode:this._password});default:on(e,"internal-error")}})}_linkToIdToken(e,n){return w(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xg(e,r,"signUpPassword",tF);case"emailLink":return iF(e,{idToken:n,email:this._email,oobCode:this._password});default:on(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function $g(t,e){return w(this,null,function*(){return Aa(t,"POST","/v1/accounts:signInWithIdp",vr(t,e))})}function sF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function oF(t){let e=Ds(Cs(t)).link,n=e?Ds(Cs(e)).deep_link_id:null,r=Ds(Cs(t)).deep_link_id;return(r?Ds(Cs(r)).link:null)||r||n||e||t}var Rl=class t{constructor(e){var n,r,i,s,o,c;let u=Ds(Cs(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(r=u.oobCode)!==null&&r!==void 0?r:null,g=sF((i=u.mode)!==null&&i!==void 0?i:null);z(l&&f&&g,"argument-error"),this.apiKey=l,this.operation=g,this.code=f,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){let n=oF(e);try{return new t(n)}catch{return null}}};var Ib=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Ta._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Rl.parseLink(r);return z(i,"argument-error"),Ta._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Ml=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var em=class extends Ml{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function aF(t,e){return w(this,null,function*(){return Aa(t,"POST","/v1/accounts:signUp",vr(t,e))})}var Ms=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return w(this,null,function*(){let s=yield Rs._fromIdTokenResponse(e,r,i),o=zC(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=zC(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function zC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var tm=class t extends Dt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function wb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?tm._fromErrorAndOperation(t,s,e,r):s})}function cF(t,e,n=!1){return w(this,null,function*(){let r=yield Da(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ms._forOperation(t,"link",r)})}function uF(t,e,n=!1){return w(this,null,function*(){let{auth:r}=t;if(zt(r.app))return Promise.reject(kn(r));let i="reauthenticate";try{let s=yield Da(t,wb(r,i,e,t),n);z(s.idToken,r,"internal-error");let o=hm(s.idToken);z(o,r,"internal-error");let{sub:c}=o;return z(t.uid===c,r,"user-mismatch"),Ms._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&on(r,"user-mismatch"),s}})}function Eb(t,e,n=!1){return w(this,null,function*(){if(zt(t.app))return Promise.reject(kn(t));let r="signIn",i=yield wb(t,r,e),s=yield Ms._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function ym(t,e){return w(this,null,function*(){return Eb(hi(t),e)})}function Db(t){return w(this,null,function*(){let e=hi(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function vm(t,e,n){return w(this,null,function*(){if(zt(t.app))return Promise.reject(kn(t));let r=hi(t),o=yield Xg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",aF).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&Db(t),u}),c=yield Ms._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(c.user),c})}function _m(t,e,n){return zt(t.app)?Promise.reject(kn(t)):ym(gt(t),Ib.credential(e,n)).catch(r=>w(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&Db(t),r}))}function Im(t,e,n,r){return gt(t).onIdTokenChanged(e,n,r)}function wm(t,e,n){return gt(t).beforeAuthStateChanged(e,n)}var Nl="__sak";var xl=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nl,"1"),this.storage.removeItem(Nl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var lF=1e3,dF=10,hF=(()=>{class t extends xl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gb(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((c,u,l)=>{this.notifyListeners(c,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);q1()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,dF):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},lF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return w(this,null,function*(){yield Wn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return w(this,null,function*(){let r=yield Wn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return w(this,null,function*(){yield Wn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),Cb=hF;var fF=(()=>{class t extends xl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Em=fF;function pF(t){return Promise.all(t.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var gF=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return w(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,c=this.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(c).map(f=>w(this,null,function*(){return f(r.origin,o)})),l=yield pF(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function bb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var nm=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,u)=>{let l=bb("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){let _=g;if(_.data.eventId===l)switch(_.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(_.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function sn(){return window}function mF(t){sn().location.href=t}function Tb(){return typeof sn().WorkerGlobalScope<"u"&&typeof sn().importScripts=="function"}function yF(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function vF(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function _F(){return Tb()?self:null}var Sb="firebaseLocalStorageDb",IF=1,Pl="firebaseLocalStorage",Ab="fbase_key",di=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Fl(t,e){return t.transaction([Pl],e?"readwrite":"readonly").objectStore(Pl)}function wF(){let t=indexedDB.deleteDatabase(Sb);return new di(t).toPromise()}function rm(){let t=indexedDB.open(Sb,IF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Pl,{keyPath:Ab})}catch(i){n(i)}}),t.addEventListener("success",()=>w(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Pl)?e(r):(r.close(),yield wF(),e(yield rm()))}))})}function GC(t,e,n){return w(this,null,function*(){let r=Fl(t,!0).put({[Ab]:e,value:n});return new di(r).toPromise()})}function EF(t,e){return w(this,null,function*(){let n=Fl(t,!1).get(e),r=yield new di(n).toPromise();return r===void 0?null:r.value})}function WC(t,e){let n=Fl(t,!0).delete(e);return new di(n).toPromise()}var DF=800,CF=3,bF=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield rm(),this.db)})}_withRetries(n){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>CF)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return Tb()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=gF._getInstance(_F()),this.receiver._subscribe("keyChanged",(n,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var n,r;if(this.activeServiceWorker=yield yF(),!this.activeServiceWorker)return;this.sender=new nm(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||vF()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let n=yield rm();return yield GC(n,Nl,"1"),yield WC(n,Nl),!0}catch{}return!1})}_withPendingWrite(n){return w(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>GC(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return w(this,null,function*(){let r=yield this._withRetries(i=>EF(i,n));return this.localCache[n]=r,r})}_remove(n){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>WC(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return w(this,null,function*(){let n=yield this._withRetries(s=>{let o=Fl(s,!1).getAll();return new di(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),DF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),Rb=bF;var u3=vb("rcb"),l3=new li(3e4,6e4);function TF(t,e){return e?On(e):(z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Sa=class extends ba{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $g(e,this._buildIdpRequest())}_linkToIdToken(e,n){return $g(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return $g(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function SF(t){return Eb(t.auth,new Sa(t),t.bypassAuthState)}function AF(t){let{auth:e,user:n}=t;return z(n,e,"internal-error"),uF(n,new Sa(t),t.bypassAuthState)}function RF(t){return w(this,null,function*(){let{auth:e,user:n}=t;return z(n,e,"internal-error"),cF(n,new Sa(t),t.bypassAuthState)})}var im=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return SF;case"linkViaPopup":case"linkViaRedirect":return RF;case"reauthViaPopup":case"reauthViaRedirect":return AF;default:on(this.auth,"internal-error")}}resolve(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var d3=new li(2e3,1e4);var MF="pendingRedirect",El=new Map,sm=class t extends im{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=El.get(this.auth._key());if(!e){try{let r=(yield NF(this.resolver,this.auth))?yield Wn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}El.set(this.auth._key(),e)}return this.bypassAuthState||El.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return Wn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Wn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function NF(t,e){return w(this,null,function*(){let n=OF(e),r=PF(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function xF(t,e){El.set(t._key(),e)}function PF(t){return On(t._redirectPersistence)}function OF(t){return wl(MF,t.config.apiKey,t.name)}function kF(t,e,n=!1){return w(this,null,function*(){if(zt(t.app))return Promise.reject(kn(t));let r=hi(t),i=TF(r,e),o=yield new sm(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var FF=10*60*1e3,om=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Mb(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ui(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FF&&this.cachedEventUids.clear(),this.cachedEventUids.has(KC(e))}saveEventToCache(e){this.cachedEventUids.add(KC(e)),this.lastProcessedEventTime=Date.now()}};function KC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Mb({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function LF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Mb(t);default:return!1}}function VF(n){return w(this,arguments,function*(t,e={}){return _r(t,"GET","/v1/projects",e)})}var jF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UF=/^https?/;function BF(t){return w(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield VF(t);for(let n of e)try{if($F(n))return}catch{}on(t,"unauthorized-domain")})}function $F(t){let e=qg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!UF.test(n))return!1;if(jF.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var HF=new li(3e4,6e4);function QC(){let t=sn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function qF(t){return new Promise((e,n)=>{var r,i,s;function o(){QC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{QC(),n(ui(t,"network-request-failed"))},timeout:HF.get()})}if(!((i=(r=sn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=sn().gapi)===null||s===void 0)&&s.load)o();else{let c=vb("iframefcb");return sn()[c]=()=>{gapi.load?o():n(ui(t,"network-request-failed"))},yb(`${Q1()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw Dl=null,e})}var Dl=null;function zF(t){return Dl=Dl||qF(t),Dl}var GF=new li(5e3,15e3),WF="__/auth/iframe",KF="emulator/auth/iframe",QF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZF(t){let e=t.config;z(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?lm(e,KF):`https://${t.config.authDomain}/${WF}`,r={apiKey:e.apiKey,appName:t.name,v:gr},i=YF.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ma(r).slice(1)}`}function JF(t){return w(this,null,function*(){let e=yield zF(t),n=sn().gapi;return z(n,t,"internal-error"),e.open({where:document.body,url:ZF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QF,dontclear:!0},r=>new Promise((i,s)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=ui(t,"network-request-failed"),c=sn().setTimeout(()=>{s(o)},GF.get());function u(){sn().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var XF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eL=500,tL=600,nL="_blank",rL="http://localhost",Ol=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function iL(t,e,n,r=eL,i=tL){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=Object.assign(Object.assign({},XF),{width:r.toString(),height:i.toString(),top:s,left:o}),l=$e().toLowerCase();n&&(c=lb(l)?nL:n),cb(l)&&(e=e||rL,u.scrollbars="yes");let f=Object.entries(u).reduce((_,[I,A])=>`${_}${I}=${A},`,"");if(H1(l)&&c!=="_self")return sL(e||"",c),new Ol(null);let g=window.open(e||"",c,f);z(g,t,"popup-blocked");try{g.focus()}catch{}return new Ol(g)}function sL(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var oL="__/auth/handler",aL="emulator/auth/handler",cL=encodeURIComponent("fac");function YC(t,e,n,r,i,s){return w(this,null,function*(){z(t.config.authDomain,t,"auth-domain-config-required"),z(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:gr,eventId:i};if(e instanceof Ml){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",IC(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,g]of Object.entries(s||{}))o[f]=g}if(e instanceof em){let f=e.getScopes().filter(g=>g!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);let c=o;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let u=yield t._getAppCheckToken(),l=u?`#${cL}=${encodeURIComponent(u)}`:"";return`${uL(t)}?${ma(c).slice(1)}${l}`})}function uL({config:t}){return t.emulator?lm(t,aL):`https://${t.authDomain}/${oL}`}var Hg="webStorageSupport",am=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Em,this._completeRedirectFn=kF,this._overrideRedirectResult=xF}_openPopup(e,n,r,i){return w(this,null,function*(){var s;yr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield YC(e,n,r,qg(),i);return iL(e,o,bb())})}_openRedirect(e,n,r,i){return w(this,null,function*(){yield this._originValidation(e);let s=yield YC(e,n,r,qg(),i);return mF(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(yr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return w(this,null,function*(){let n=yield JF(e),r=new om(e);return n.register("authEvent",i=>(z(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hg,{type:Hg},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Hg];o!==void 0&&n(!!o),on(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=BF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return gb()||ub()||pm()}},Nb=am;var ZC="@firebase/auth",JC="1.7.8";var cm=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function lL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dL(t){pr(new Pt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;z(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mb(t)},l=new Zg(r,i,s,u);return J1(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),pr(new Pt("auth-internal",e=>{let n=hi(e.getProvider("auth").getImmediate());return(r=>new cm(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ve(ZC,JC,lL(t)),Ve(ZC,JC,"esm2017")}var hL=5*60,fL=Eg("authIdTokenMaxAge")||hL,XC=null,pL=t=>e=>w(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>fL)return;let i=n?.token;XC!==i&&(XC=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Dm(t=bs()){let e=_a(t,"auth");if(e.isInitialized())return e.getImmediate();let n=gm(t,{popupRedirectResolver:Nb,persistence:[Rb,Cb,Em]}),r=Eg("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=pL(s.toString());wm(n,o,()=>o(n.currentUser)),Im(n,c=>o(c))}}let i=Ig("auth");return i&&mm(n,`http://${i}`),n}function gL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}W1({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=ui("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",gL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dL("Browser");var xb="auth",Fn=class{constructor(e){return e}},Ra=class{constructor(){return Ia(xb)}};var Cm=new B("angularfire2.auth-instances");function oV(t,e){let n=yl(xb,t,e);return n&&new Fn(n)}function aV(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Fn(r)}}var cV={provide:Ra,deps:[[new dt,Cm]]},uV={provide:Fn,useFactory:oV,deps:[[new dt,Cm],xn]};function Pb(t,...e){return Ve("angularfire",ai.full,"auth"),en([uV,cV,{provide:Cm,useFactory:aV(t),multi:!0,deps:[ye,lt,As,ci,[new dt,Ss],...e]}])}var Ob=rn(vm,!0);var kb=rn(Dm,!0);var Fb=rn(_m,!0);var Vb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},jb={};var bm,Ub;(function(){var t;function e(D,m){function y(){}y.prototype=m.prototype,D.D=m.prototype,D.prototype=new y,D.prototype.constructor=D,D.C=function(E,C,T){for(var v=Array(arguments.length-2),hn=2;hn<arguments.length;hn++)v[hn-2]=arguments[hn];return m.prototype[C].apply(E,v)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,m,y){y||(y=0);var E=Array(16);if(typeof m=="string")for(var C=0;16>C;++C)E[C]=m.charCodeAt(y++)|m.charCodeAt(y++)<<8|m.charCodeAt(y++)<<16|m.charCodeAt(y++)<<24;else for(C=0;16>C;++C)E[C]=m[y++]|m[y++]<<8|m[y++]<<16|m[y++]<<24;m=D.g[0],y=D.g[1],C=D.g[2];var T=D.g[3],v=m+(T^y&(C^T))+E[0]+3614090360&4294967295;m=y+(v<<7&4294967295|v>>>25),v=T+(C^m&(y^C))+E[1]+3905402710&4294967295,T=m+(v<<12&4294967295|v>>>20),v=C+(y^T&(m^y))+E[2]+606105819&4294967295,C=T+(v<<17&4294967295|v>>>15),v=y+(m^C&(T^m))+E[3]+3250441966&4294967295,y=C+(v<<22&4294967295|v>>>10),v=m+(T^y&(C^T))+E[4]+4118548399&4294967295,m=y+(v<<7&4294967295|v>>>25),v=T+(C^m&(y^C))+E[5]+1200080426&4294967295,T=m+(v<<12&4294967295|v>>>20),v=C+(y^T&(m^y))+E[6]+2821735955&4294967295,C=T+(v<<17&4294967295|v>>>15),v=y+(m^C&(T^m))+E[7]+4249261313&4294967295,y=C+(v<<22&4294967295|v>>>10),v=m+(T^y&(C^T))+E[8]+1770035416&4294967295,m=y+(v<<7&4294967295|v>>>25),v=T+(C^m&(y^C))+E[9]+2336552879&4294967295,T=m+(v<<12&4294967295|v>>>20),v=C+(y^T&(m^y))+E[10]+4294925233&4294967295,C=T+(v<<17&4294967295|v>>>15),v=y+(m^C&(T^m))+E[11]+2304563134&4294967295,y=C+(v<<22&4294967295|v>>>10),v=m+(T^y&(C^T))+E[12]+1804603682&4294967295,m=y+(v<<7&4294967295|v>>>25),v=T+(C^m&(y^C))+E[13]+4254626195&4294967295,T=m+(v<<12&4294967295|v>>>20),v=C+(y^T&(m^y))+E[14]+2792965006&4294967295,C=T+(v<<17&4294967295|v>>>15),v=y+(m^C&(T^m))+E[15]+1236535329&4294967295,y=C+(v<<22&4294967295|v>>>10),v=m+(C^T&(y^C))+E[1]+4129170786&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^C&(m^y))+E[6]+3225465664&4294967295,T=m+(v<<9&4294967295|v>>>23),v=C+(m^y&(T^m))+E[11]+643717713&4294967295,C=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(C^T))+E[0]+3921069994&4294967295,y=C+(v<<20&4294967295|v>>>12),v=m+(C^T&(y^C))+E[5]+3593408605&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^C&(m^y))+E[10]+38016083&4294967295,T=m+(v<<9&4294967295|v>>>23),v=C+(m^y&(T^m))+E[15]+3634488961&4294967295,C=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(C^T))+E[4]+3889429448&4294967295,y=C+(v<<20&4294967295|v>>>12),v=m+(C^T&(y^C))+E[9]+568446438&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^C&(m^y))+E[14]+3275163606&4294967295,T=m+(v<<9&4294967295|v>>>23),v=C+(m^y&(T^m))+E[3]+4107603335&4294967295,C=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(C^T))+E[8]+1163531501&4294967295,y=C+(v<<20&4294967295|v>>>12),v=m+(C^T&(y^C))+E[13]+2850285829&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^C&(m^y))+E[2]+4243563512&4294967295,T=m+(v<<9&4294967295|v>>>23),v=C+(m^y&(T^m))+E[7]+1735328473&4294967295,C=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(C^T))+E[12]+2368359562&4294967295,y=C+(v<<20&4294967295|v>>>12),v=m+(y^C^T)+E[5]+4294588738&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^C)+E[8]+2272392833&4294967295,T=m+(v<<11&4294967295|v>>>21),v=C+(T^m^y)+E[11]+1839030562&4294967295,C=T+(v<<16&4294967295|v>>>16),v=y+(C^T^m)+E[14]+4259657740&4294967295,y=C+(v<<23&4294967295|v>>>9),v=m+(y^C^T)+E[1]+2763975236&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^C)+E[4]+1272893353&4294967295,T=m+(v<<11&4294967295|v>>>21),v=C+(T^m^y)+E[7]+4139469664&4294967295,C=T+(v<<16&4294967295|v>>>16),v=y+(C^T^m)+E[10]+3200236656&4294967295,y=C+(v<<23&4294967295|v>>>9),v=m+(y^C^T)+E[13]+681279174&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^C)+E[0]+3936430074&4294967295,T=m+(v<<11&4294967295|v>>>21),v=C+(T^m^y)+E[3]+3572445317&4294967295,C=T+(v<<16&4294967295|v>>>16),v=y+(C^T^m)+E[6]+76029189&4294967295,y=C+(v<<23&4294967295|v>>>9),v=m+(y^C^T)+E[9]+3654602809&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^C)+E[12]+3873151461&4294967295,T=m+(v<<11&4294967295|v>>>21),v=C+(T^m^y)+E[15]+530742520&4294967295,C=T+(v<<16&4294967295|v>>>16),v=y+(C^T^m)+E[2]+3299628645&4294967295,y=C+(v<<23&4294967295|v>>>9),v=m+(C^(y|~T))+E[0]+4096336452&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~C))+E[7]+1126891415&4294967295,T=m+(v<<10&4294967295|v>>>22),v=C+(m^(T|~y))+E[14]+2878612391&4294967295,C=T+(v<<15&4294967295|v>>>17),v=y+(T^(C|~m))+E[5]+4237533241&4294967295,y=C+(v<<21&4294967295|v>>>11),v=m+(C^(y|~T))+E[12]+1700485571&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~C))+E[3]+2399980690&4294967295,T=m+(v<<10&4294967295|v>>>22),v=C+(m^(T|~y))+E[10]+4293915773&4294967295,C=T+(v<<15&4294967295|v>>>17),v=y+(T^(C|~m))+E[1]+2240044497&4294967295,y=C+(v<<21&4294967295|v>>>11),v=m+(C^(y|~T))+E[8]+1873313359&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~C))+E[15]+4264355552&4294967295,T=m+(v<<10&4294967295|v>>>22),v=C+(m^(T|~y))+E[6]+2734768916&4294967295,C=T+(v<<15&4294967295|v>>>17),v=y+(T^(C|~m))+E[13]+1309151649&4294967295,y=C+(v<<21&4294967295|v>>>11),v=m+(C^(y|~T))+E[4]+4149444226&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~C))+E[11]+3174756917&4294967295,T=m+(v<<10&4294967295|v>>>22),v=C+(m^(T|~y))+E[2]+718787259&4294967295,C=T+(v<<15&4294967295|v>>>17),v=y+(T^(C|~m))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+m&4294967295,D.g[1]=D.g[1]+(C+(v<<21&4294967295|v>>>11))&4294967295,D.g[2]=D.g[2]+C&4294967295,D.g[3]=D.g[3]+T&4294967295}r.prototype.u=function(D,m){m===void 0&&(m=D.length);for(var y=m-this.blockSize,E=this.B,C=this.h,T=0;T<m;){if(C==0)for(;T<=y;)i(this,D,T),T+=this.blockSize;if(typeof D=="string"){for(;T<m;)if(E[C++]=D.charCodeAt(T++),C==this.blockSize){i(this,E),C=0;break}}else for(;T<m;)if(E[C++]=D[T++],C==this.blockSize){i(this,E),C=0;break}}this.h=C,this.o+=m},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var m=1;m<D.length-8;++m)D[m]=0;var y=8*this.o;for(m=D.length-8;m<D.length;++m)D[m]=y&255,y/=256;for(this.u(D),D=Array(16),m=y=0;4>m;++m)for(var E=0;32>E;E+=8)D[y++]=this.g[m]>>>E&255;return D};function s(D,m){var y=c;return Object.prototype.hasOwnProperty.call(y,D)?y[D]:y[D]=m(D)}function o(D,m){this.h=m;for(var y=[],E=!0,C=D.length-1;0<=C;C--){var T=D[C]|0;E&&T==m||(y[C]=T,E=!1)}this.g=y}var c={};function u(D){return-128<=D&&128>D?s(D,function(m){return new o([m|0],0>m?-1:0)}):new o([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return g;if(0>D)return x(l(-D));for(var m=[],y=1,E=0;D>=y;E++)m[E]=D/y|0,y*=4294967296;return new o(m,0)}function f(D,m){if(D.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(D.charAt(0)=="-")return x(f(D.substring(1),m));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=l(Math.pow(m,8)),E=g,C=0;C<D.length;C+=8){var T=Math.min(8,D.length-C),v=parseInt(D.substring(C,C+T),m);8>T?(T=l(Math.pow(m,T)),E=E.j(T).add(l(v))):(E=E.j(y),E=E.add(l(v)))}return E}var g=u(0),_=u(1),I=u(16777216);t=o.prototype,t.m=function(){if(M(this))return-x(this).m();for(var D=0,m=1,y=0;y<this.g.length;y++){var E=this.i(y);D+=(0<=E?E:4294967296+E)*m,m*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(A(this))return"0";if(M(this))return"-"+x(this).toString(D);for(var m=l(Math.pow(D,6)),y=this,E="";;){var C=ge(y,m).g;y=V(y,C.j(m));var T=((0<y.g.length?y.g[0]:y.h)>>>0).toString(D);if(y=C,A(y))return T+E;for(;6>T.length;)T="0"+T;E=T+E}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function A(D){if(D.h!=0)return!1;for(var m=0;m<D.g.length;m++)if(D.g[m]!=0)return!1;return!0}function M(D){return D.h==-1}t.l=function(D){return D=V(this,D),M(D)?-1:A(D)?0:1};function x(D){for(var m=D.g.length,y=[],E=0;E<m;E++)y[E]=~D.g[E];return new o(y,~D.h).add(_)}t.abs=function(){return M(this)?x(this):this},t.add=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],E=0,C=0;C<=m;C++){var T=E+(this.i(C)&65535)+(D.i(C)&65535),v=(T>>>16)+(this.i(C)>>>16)+(D.i(C)>>>16);E=v>>>16,T&=65535,v&=65535,y[C]=v<<16|T}return new o(y,y[y.length-1]&-2147483648?-1:0)};function V(D,m){return D.add(x(m))}t.j=function(D){if(A(this)||A(D))return g;if(M(this))return M(D)?x(this).j(x(D)):x(x(this).j(D));if(M(D))return x(this.j(x(D)));if(0>this.l(I)&&0>D.l(I))return l(this.m()*D.m());for(var m=this.g.length+D.g.length,y=[],E=0;E<2*m;E++)y[E]=0;for(E=0;E<this.g.length;E++)for(var C=0;C<D.g.length;C++){var T=this.i(E)>>>16,v=this.i(E)&65535,hn=D.i(C)>>>16,to=D.i(C)&65535;y[2*E+2*C]+=v*to,W(y,2*E+2*C),y[2*E+2*C+1]+=T*to,W(y,2*E+2*C+1),y[2*E+2*C+1]+=v*hn,W(y,2*E+2*C+1),y[2*E+2*C+2]+=T*hn,W(y,2*E+2*C+2)}for(E=0;E<m;E++)y[E]=y[2*E+1]<<16|y[2*E];for(E=m;E<2*m;E++)y[E]=0;return new o(y,0)};function W(D,m){for(;(D[m]&65535)!=D[m];)D[m+1]+=D[m]>>>16,D[m]&=65535,m++}function Z(D,m){this.g=D,this.h=m}function ge(D,m){if(A(m))throw Error("division by zero");if(A(D))return new Z(g,g);if(M(D))return m=ge(x(D),m),new Z(x(m.g),x(m.h));if(M(m))return m=ge(D,x(m)),new Z(x(m.g),m.h);if(30<D.g.length){if(M(D)||M(m))throw Error("slowDivide_ only works with positive integers.");for(var y=_,E=m;0>=E.l(D);)y=ze(y),E=ze(E);var C=fe(y,1),T=fe(E,1);for(E=fe(E,2),y=fe(y,2);!A(E);){var v=T.add(E);0>=v.l(D)&&(C=C.add(y),T=v),E=fe(E,1),y=fe(y,1)}return m=V(D,C.j(m)),new Z(C,m)}for(C=g;0<=D.l(m);){for(y=Math.max(1,Math.floor(D.m()/m.m())),E=Math.ceil(Math.log(y)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),T=l(y),v=T.j(m);M(v)||0<v.l(D);)y-=E,T=l(y),v=T.j(m);A(T)&&(T=_),C=C.add(T),D=V(D,v)}return new Z(C,D)}t.A=function(D){return ge(this,D).h},t.and=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],E=0;E<m;E++)y[E]=this.i(E)&D.i(E);return new o(y,this.h&D.h)},t.or=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],E=0;E<m;E++)y[E]=this.i(E)|D.i(E);return new o(y,this.h|D.h)},t.xor=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],E=0;E<m;E++)y[E]=this.i(E)^D.i(E);return new o(y,this.h^D.h)};function ze(D){for(var m=D.g.length+1,y=[],E=0;E<m;E++)y[E]=D.i(E)<<1|D.i(E-1)>>>31;return new o(y,D.h)}function fe(D,m){var y=m>>5;m%=32;for(var E=D.g.length-y,C=[],T=0;T<E;T++)C[T]=0<m?D.i(T+y)>>>m|D.i(T+y+1)<<32-m:D.i(T+y);return new o(C,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ub=jb.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=f,bm=jb.Integer=o}).apply(typeof Vb<"u"?Vb:typeof self<"u"?self:typeof window<"u"?window:{});var Ll=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ln={};var Tm,Sm,Ns,Am,Ma,Vl,Rm,Mm,Nm;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ll=="object"&&Ll];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var p=0;p<a.length-1;p++){var b=a[p];if(!(b in h))break e;h=h[b]}a=a[a.length-1],p=h[a],d=d(p),d!=p&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var h=0,p=!1,b={next:function(){if(!p&&h<a.length){var S=h++;return{value:d(S,a[S]),done:!1}}return p=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(a){return a||function(){return s(this,function(d,h){return h})}});var o=o||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function g(a,d,h){if(!a)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,p),a.apply(d,b)}}return function(){return a.apply(d,arguments)}}function _(a,d,h){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,_.apply(null,arguments)}function I(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var p=h.slice();return p.push.apply(p,arguments),a.apply(this,p)}}function A(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(p,b,S){for(var P=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)P[ve-2]=arguments[ve];return d.prototype[b].apply(p,P)}}function M(a){let d=a.length;if(0<d){let h=Array(d);for(let p=0;p<d;p++)h[p]=a[p];return h}return[]}function x(a,d){for(let h=1;h<arguments.length;h++){let p=arguments[h];if(u(p)){let b=a.length||0,S=p.length||0;a.length=b+S;for(let P=0;P<S;P++)a[b+P]=p[P]}else a.push(p)}}class V{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function W(a){return/^[\s\xa0]*$/.test(a)}function Z(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function ge(a){return ge[" "](a),a}ge[" "]=function(){};var ze=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function fe(a,d,h){for(let p in a)d.call(h,a[p],p,a)}function D(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function m(a){let d={};for(let h in a)d[h]=a[h];return d}let y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(a,d){let h,p;for(let b=1;b<arguments.length;b++){p=arguments[b];for(h in p)a[h]=p[h];for(let S=0;S<y.length;S++)h=y[S],Object.prototype.hasOwnProperty.call(p,h)&&(a[h]=p[h])}}function C(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function T(a){c.setTimeout(()=>{throw a},0)}function v(){var a=Ld;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class hn{constructor(){this.h=this.g=null}add(d,h){let p=to.get();p.set(d,h),this.h?this.h.next=p:this.g=p,this.h=p}}var to=new V(()=>new N0,a=>a.reset());class N0{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let no,ro=!1,Ld=new hn,_v=()=>{let a=c.Promise.resolve(void 0);no=()=>{a.then(x0)}};var x0=()=>{for(var a;a=v();){try{a.h.call(a.g)}catch(h){T(h)}var d=to;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}ro=!1};function Hn(){this.s=this.s,this.C=this.C}Hn.prototype.s=!1,Hn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Hn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Qe(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Qe.prototype.h=function(){this.defaultPrevented=!0};var P0=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a}();function io(a,d){if(Qe.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,p=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(ze){e:{try{ge(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:O0[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&io.aa.h.call(this)}}A(io,Qe);var O0={2:"touch",3:"pen",4:"mouse"};io.prototype.h=function(){io.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var so="closure_listenable_"+(1e6*Math.random()|0),k0=0;function F0(a,d,h,p,b){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!p,this.ha=b,this.key=++k0,this.da=this.fa=!1}function Xa(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function ec(a){this.src=a,this.g={},this.h=0}ec.prototype.add=function(a,d,h,p,b){var S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);var P=jd(a,d,p,b);return-1<P?(d=a[P],h||(d.fa=!1)):(d=new F0(d,this.src,S,!!p,b),d.fa=h,a.push(d)),d};function Vd(a,d){var h=d.type;if(h in a.g){var p=a.g[h],b=Array.prototype.indexOf.call(p,d,void 0),S;(S=0<=b)&&Array.prototype.splice.call(p,b,1),S&&(Xa(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function jd(a,d,h,p){for(var b=0;b<a.length;++b){var S=a[b];if(!S.da&&S.listener==d&&S.capture==!!h&&S.ha==p)return b}return-1}var Ud="closure_lm_"+(1e6*Math.random()|0),Bd={};function Iv(a,d,h,p,b){if(p&&p.once)return Ev(a,d,h,p,b);if(Array.isArray(d)){for(var S=0;S<d.length;S++)Iv(a,d[S],h,p,b);return null}return h=zd(h),a&&a[so]?a.K(d,h,l(p)?!!p.capture:!!p,b):wv(a,d,h,!1,p,b)}function wv(a,d,h,p,b,S){if(!d)throw Error("Invalid event type");var P=l(b)?!!b.capture:!!b,ve=Hd(a);if(ve||(a[Ud]=ve=new ec(a)),h=ve.add(d,h,p,P,S),h.proxy)return h;if(p=L0(),h.proxy=p,p.src=a,p.listener=h,a.addEventListener)P0||(b=P),b===void 0&&(b=!1),a.addEventListener(d.toString(),p,b);else if(a.attachEvent)a.attachEvent(Cv(d.toString()),p);else if(a.addListener&&a.removeListener)a.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return h}function L0(){function a(h){return d.call(a.src,a.listener,h)}let d=V0;return a}function Ev(a,d,h,p,b){if(Array.isArray(d)){for(var S=0;S<d.length;S++)Ev(a,d[S],h,p,b);return null}return h=zd(h),a&&a[so]?a.L(d,h,l(p)?!!p.capture:!!p,b):wv(a,d,h,!0,p,b)}function Dv(a,d,h,p,b){if(Array.isArray(d))for(var S=0;S<d.length;S++)Dv(a,d[S],h,p,b);else p=l(p)?!!p.capture:!!p,h=zd(h),a&&a[so]?(a=a.i,d=String(d).toString(),d in a.g&&(S=a.g[d],h=jd(S,h,p,b),-1<h&&(Xa(S[h]),Array.prototype.splice.call(S,h,1),S.length==0&&(delete a.g[d],a.h--)))):a&&(a=Hd(a))&&(d=a.g[d.toString()],a=-1,d&&(a=jd(d,h,p,b)),(h=-1<a?d[a]:null)&&$d(h))}function $d(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[so])Vd(d.i,a);else{var h=a.type,p=a.proxy;d.removeEventListener?d.removeEventListener(h,p,a.capture):d.detachEvent?d.detachEvent(Cv(h),p):d.addListener&&d.removeListener&&d.removeListener(p),(h=Hd(d))?(Vd(h,a),h.h==0&&(h.src=null,d[Ud]=null)):Xa(a)}}}function Cv(a){return a in Bd?Bd[a]:Bd[a]="on"+a}function V0(a,d){if(a.da)a=!0;else{d=new io(d,this);var h=a.listener,p=a.ha||a.src;a.fa&&$d(a),a=h.call(p,d)}return a}function Hd(a){return a=a[Ud],a instanceof ec?a:null}var qd="__closure_events_fn_"+(1e9*Math.random()>>>0);function zd(a){return typeof a=="function"?a:(a[qd]||(a[qd]=function(d){return a.handleEvent(d)}),a[qd])}function Ye(){Hn.call(this),this.i=new ec(this),this.M=this,this.F=null}A(Ye,Hn),Ye.prototype[so]=!0,Ye.prototype.removeEventListener=function(a,d,h,p){Dv(this,a,d,h,p)};function nt(a,d){var h,p=a.F;if(p)for(h=[];p;p=p.F)h.push(p);if(a=a.M,p=d.type||d,typeof d=="string")d=new Qe(d,a);else if(d instanceof Qe)d.target=d.target||a;else{var b=d;d=new Qe(p,a),E(d,b)}if(b=!0,h)for(var S=h.length-1;0<=S;S--){var P=d.g=h[S];b=tc(P,p,!0,d)&&b}if(P=d.g=a,b=tc(P,p,!0,d)&&b,b=tc(P,p,!1,d)&&b,h)for(S=0;S<h.length;S++)P=d.g=h[S],b=tc(P,p,!1,d)&&b}Ye.prototype.N=function(){if(Ye.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],p=0;p<h.length;p++)Xa(h[p]);delete a.g[d],a.h--}}this.F=null},Ye.prototype.K=function(a,d,h,p){return this.i.add(String(a),d,!1,h,p)},Ye.prototype.L=function(a,d,h,p){return this.i.add(String(a),d,!0,h,p)};function tc(a,d,h,p){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,S=0;S<d.length;++S){var P=d[S];if(P&&!P.da&&P.capture==h){var ve=P.listener,Ge=P.ha||P.src;P.fa&&Vd(a.i,P),b=ve.call(Ge,p)!==!1&&b}}return b&&!p.defaultPrevented}function bv(a,d,h){if(typeof a=="function")h&&(a=_(a,h));else if(a&&typeof a.handleEvent=="function")a=_(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function Tv(a){a.g=bv(()=>{a.g=null,a.i&&(a.i=!1,Tv(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class j0 extends Hn{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Tv(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oo(a){Hn.call(this),this.h=a,this.g={}}A(oo,Hn);var Sv=[];function Av(a){fe(a.g,function(d,h){this.g.hasOwnProperty(h)&&$d(d)},a),a.g={}}oo.prototype.N=function(){oo.aa.N.call(this),Av(this)},oo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gd=c.JSON.stringify,U0=c.JSON.parse,B0=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Wd(){}Wd.prototype.h=null;function Rv(a){return a.h||(a.h=a.i())}function Mv(){}var ao={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kd(){Qe.call(this,"d")}A(Kd,Qe);function Qd(){Qe.call(this,"c")}A(Qd,Qe);var br={},Nv=null;function nc(){return Nv=Nv||new Ye}br.La="serverreachability";function xv(a){Qe.call(this,br.La,a)}A(xv,Qe);function co(a){let d=nc();nt(d,new xv(d))}br.STAT_EVENT="statevent";function Pv(a,d){Qe.call(this,br.STAT_EVENT,a),this.stat=d}A(Pv,Qe);function rt(a){let d=nc();nt(d,new Pv(d,a))}br.Ma="timingevent";function Ov(a,d){Qe.call(this,br.Ma,a),this.size=d}A(Ov,Qe);function uo(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function lo(){this.g=!0}lo.prototype.xa=function(){this.g=!1};function $0(a,d,h,p,b,S){a.info(function(){if(a.g)if(S)for(var P="",ve=S.split("&"),Ge=0;Ge<ve.length;Ge++){var pe=ve[Ge].split("=");if(1<pe.length){var Ze=pe[0];pe=pe[1];var Je=Ze.split("_");P=2<=Je.length&&Je[1]=="type"?P+(Ze+"="+pe+"&"):P+(Ze+"=redacted&")}}else P=null;else P=S;return"XMLHTTP REQ ("+p+") [attempt "+b+"]: "+d+`
`+h+`
`+P})}function H0(a,d,h,p,b,S,P){a.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+b+"]: "+d+`
`+h+`
`+S+" "+P})}function Ei(a,d,h,p){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+z0(a,h)+(p?" "+p:"")})}function q0(a,d){a.info(function(){return"TIMEOUT: "+d})}lo.prototype.info=function(){};function z0(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var p=h[a];if(!(2>p.length)){var b=p[1];if(Array.isArray(b)&&!(1>b.length)){var S=b[0];if(S!="noop"&&S!="stop"&&S!="close")for(var P=1;P<b.length;P++)b[P]=""}}}}return Gd(h)}catch{return d}}var rc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},kv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yd;function ic(){}A(ic,Wd),ic.prototype.g=function(){return new XMLHttpRequest},ic.prototype.i=function(){return{}},Yd=new ic;function qn(a,d,h,p){this.j=a,this.i=d,this.l=h,this.R=p||1,this.U=new oo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fv}function Fv(){this.i=null,this.g="",this.h=!1}var Lv={},Zd={};function Jd(a,d,h){a.L=1,a.v=cc(fn(d)),a.m=h,a.P=!0,Vv(a,null)}function Vv(a,d){a.F=Date.now(),sc(a),a.A=fn(a.v);var h=a.A,p=a.R;Array.isArray(p)||(p=[String(p)]),Jv(h.i,"t",p),a.C=0,h=a.j.J,a.h=new Fv,a.g=m_(a.j,h?d:null,!a.m),0<a.O&&(a.M=new j0(_(a.Y,a,a.g),a.O)),d=a.U,h=a.g,p=a.ca;var b="readystatechange";Array.isArray(b)||(b&&(Sv[0]=b.toString()),b=Sv);for(var S=0;S<b.length;S++){var P=Iv(h,b[S],p||d.handleEvent,!1,d.h||d);if(!P)break;d.g[P.key]=P}d=a.H?m(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),co(),$0(a.i,a.u,a.A,a.l,a.R,a.m)}qn.prototype.ca=function(a){a=a.target;let d=this.M;d&&pn(a)==3?d.j():this.Y(a)},qn.prototype.Y=function(a){try{if(a==this.g)e:{let Je=pn(this.g);var d=this.g.Ba();let bi=this.g.Z();if(!(3>Je)&&(Je!=3||this.g&&(this.h.h||this.g.oa()||s_(this.g)))){this.J||Je!=4||d==7||(d==8||0>=bi?co(3):co(2)),Xd(this);var h=this.g.Z();this.X=h;t:if(jv(this)){var p=s_(this.g);a="";var b=p.length,S=pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tr(this),ho(this);var P="";break t}this.h.i=new c.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,a+=this.h.i.decode(p[d],{stream:!(S&&d==b-1)});p.length=0,this.h.g+=a,this.C=0,P=this.h.g}else P=this.g.oa();if(this.o=h==200,H0(this.i,this.u,this.A,this.l,this.R,Je,h),this.o){if(this.T&&!this.K){t:{if(this.g){var ve,Ge=this.g;if((ve=Ge.g?Ge.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(ve)){var pe=ve;break t}}pe=null}if(h=pe)Ei(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,eh(this,h);else{this.o=!1,this.s=3,rt(12),Tr(this),ho(this);break e}}if(this.P){h=!0;let Ot;for(;!this.J&&this.C<P.length;)if(Ot=G0(this,P),Ot==Zd){Je==4&&(this.s=4,rt(14),h=!1),Ei(this.i,this.l,null,"[Incomplete Response]");break}else if(Ot==Lv){this.s=4,rt(15),Ei(this.i,this.l,P,"[Invalid Chunk]"),h=!1;break}else Ei(this.i,this.l,Ot,null),eh(this,Ot);if(jv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Je!=4||P.length!=0||this.h.h||(this.s=1,rt(16),h=!1),this.o=this.o&&h,!h)Ei(this.i,this.l,P,"[Invalid Chunked Response]"),Tr(this),ho(this);else if(0<P.length&&!this.W){this.W=!0;var Ze=this.j;Ze.g==this&&Ze.ba&&!Ze.M&&(Ze.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),oh(Ze),Ze.M=!0,rt(11))}}else Ei(this.i,this.l,P,null),eh(this,P);Je==4&&Tr(this),this.o&&!this.J&&(Je==4?h_(this.j,this):(this.o=!1,sc(this)))}else uS(this.g),h==400&&0<P.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),Tr(this),ho(this)}}}catch{}finally{}};function jv(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function G0(a,d){var h=a.C,p=d.indexOf(`
`,h);return p==-1?Zd:(h=Number(d.substring(h,p)),isNaN(h)?Lv:(p+=1,p+h>d.length?Zd:(d=d.slice(p,p+h),a.C=p+h,d)))}qn.prototype.cancel=function(){this.J=!0,Tr(this)};function sc(a){a.S=Date.now()+a.I,Uv(a,a.I)}function Uv(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=uo(_(a.ba,a),d)}function Xd(a){a.B&&(c.clearTimeout(a.B),a.B=null)}qn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(q0(this.i,this.A),this.L!=2&&(co(),rt(17)),Tr(this),this.s=2,ho(this)):Uv(this,this.S-a)};function ho(a){a.j.G==0||a.J||h_(a.j,a)}function Tr(a){Xd(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,Av(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function eh(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||th(h.h,a))){if(!a.K&&th(h.h,a)&&h.G==3){try{var p=h.Da.g.parse(d)}catch{p=null}if(Array.isArray(p)&&p.length==3){var b=p;if(b[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)fc(h),dc(h);else break e;sh(h),rt(18)}}else h.za=b[1],0<h.za-h.T&&37500>b[2]&&h.F&&h.v==0&&!h.C&&(h.C=uo(_(h.Za,h),6e3));if(1>=Hv(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Ar(h,11)}else if((a.K||h.g==a)&&fc(h),!W(d))for(b=h.Da.g.parse(d),d=0;d<b.length;d++){let pe=b[d];if(h.T=pe[0],pe=pe[1],h.G==2)if(pe[0]=="c"){h.K=pe[1],h.ia=pe[2];let Ze=pe[3];Ze!=null&&(h.la=Ze,h.j.info("VER="+h.la));let Je=pe[4];Je!=null&&(h.Aa=Je,h.j.info("SVER="+h.Aa));let bi=pe[5];bi!=null&&typeof bi=="number"&&0<bi&&(p=1.5*bi,h.L=p,h.j.info("backChannelRequestTimeoutMs_="+p)),p=h;let Ot=a.g;if(Ot){let gc=Ot.g?Ot.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gc){var S=p.h;S.g||gc.indexOf("spdy")==-1&&gc.indexOf("quic")==-1&&gc.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(nh(S,S.h),S.h=null))}if(p.D){let ah=Ot.g?Ot.g.getResponseHeader("X-HTTP-Session-Id"):null;ah&&(p.ya=ah,De(p.I,p.D,ah))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),p=h;var P=a;if(p.qa=g_(p,p.J?p.ia:null,p.W),P.K){qv(p.h,P);var ve=P,Ge=p.L;Ge&&(ve.I=Ge),ve.B&&(Xd(ve),sc(ve)),p.g=P}else l_(p);0<h.i.length&&hc(h)}else pe[0]!="stop"&&pe[0]!="close"||Ar(h,7);else h.G==3&&(pe[0]=="stop"||pe[0]=="close"?pe[0]=="stop"?Ar(h,7):ih(h):pe[0]!="noop"&&h.l&&h.l.ta(pe),h.v=0)}}co(4)}catch{}}var W0=class{constructor(a,d){this.g=a,this.map=d}};function Bv(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $v(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Hv(a){return a.h?1:a.g?a.g.size:0}function th(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function nh(a,d){a.g?a.g.add(d):a.h=d}function qv(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}Bv.prototype.cancel=function(){if(this.i=zv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function zv(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return M(a.i)}function K0(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],h=a.length,p=0;p<h;p++)d.push(a[p]);return d}d=[],h=0;for(p in a)d[h++]=a[p];return d}function Q0(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let p in a)d[h++]=p;return d}}}function Gv(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=Q0(a),p=K0(a),b=p.length,S=0;S<b;S++)d.call(void 0,p[S],h&&h[S],a)}var Wv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Y0(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var p=a[h].indexOf("="),b=null;if(0<=p){var S=a[h].substring(0,p);b=a[h].substring(p+1)}else S=a[h];d(S,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function Sr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Sr){this.h=a.h,oc(this,a.j),this.o=a.o,this.g=a.g,ac(this,a.s),this.l=a.l;var d=a.i,h=new go;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),Kv(this,h),this.m=a.m}else a&&(d=String(a).match(Wv))?(this.h=!1,oc(this,d[1]||"",!0),this.o=fo(d[2]||""),this.g=fo(d[3]||"",!0),ac(this,d[4]),this.l=fo(d[5]||"",!0),Kv(this,d[6]||"",!0),this.m=fo(d[7]||"")):(this.h=!1,this.i=new go(null,this.h))}Sr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(po(d,Qv,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(po(d,Qv,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(po(h,h.charAt(0)=="/"?X0:J0,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",po(h,tS)),a.join("")};function fn(a){return new Sr(a)}function oc(a,d,h){a.j=h?fo(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function ac(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function Kv(a,d,h){d instanceof go?(a.i=d,nS(a.i,a.h)):(h||(d=po(d,eS)),a.i=new go(d,a.h))}function De(a,d,h){a.i.set(d,h)}function cc(a){return De(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function fo(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function po(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,Z0),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Z0(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Qv=/[#\/\?@]/g,J0=/[#\?:]/g,X0=/[#\?]/g,eS=/[#\?@]/g,tS=/#/g;function go(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function zn(a){a.g||(a.g=new Map,a.h=0,a.i&&Y0(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=go.prototype,t.add=function(a,d){zn(this),this.i=null,a=Di(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function Yv(a,d){zn(a),d=Di(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function Zv(a,d){return zn(a),d=Di(a,d),a.g.has(d)}t.forEach=function(a,d){zn(this),this.g.forEach(function(h,p){h.forEach(function(b){a.call(d,b,p,this)},this)},this)},t.na=function(){zn(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let p=0;p<d.length;p++){let b=a[p];for(let S=0;S<b.length;S++)h.push(d[p])}return h},t.V=function(a){zn(this);let d=[];if(typeof a=="string")Zv(this,a)&&(d=d.concat(this.g.get(Di(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},t.set=function(a,d){return zn(this),this.i=null,a=Di(this,a),Zv(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function Jv(a,d,h){Yv(a,d),0<h.length&&(a.i=null,a.g.set(Di(a,d),M(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var p=d[h];let S=encodeURIComponent(String(p)),P=this.V(p);for(p=0;p<P.length;p++){var b=S;P[p]!==""&&(b+="="+encodeURIComponent(String(P[p]))),a.push(b)}}return this.i=a.join("&")};function Di(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function nS(a,d){d&&!a.j&&(zn(a),a.i=null,a.g.forEach(function(h,p){var b=p.toLowerCase();p!=b&&(Yv(this,p),Jv(this,b,h))},a)),a.j=d}function rS(a,d){let h=new lo;if(c.Image){let p=new Image;p.onload=I(Gn,h,"TestLoadImage: loaded",!0,d,p),p.onerror=I(Gn,h,"TestLoadImage: error",!1,d,p),p.onabort=I(Gn,h,"TestLoadImage: abort",!1,d,p),p.ontimeout=I(Gn,h,"TestLoadImage: timeout",!1,d,p),c.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=a}else d(!1)}function iS(a,d){let h=new lo,p=new AbortController,b=setTimeout(()=>{p.abort(),Gn(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:p.signal}).then(S=>{clearTimeout(b),S.ok?Gn(h,"TestPingServer: ok",!0,d):Gn(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),Gn(h,"TestPingServer: error",!1,d)})}function Gn(a,d,h,p,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),p(h)}catch{}}function sS(){this.g=new B0}function oS(a,d,h){let p=h||"";try{Gv(a,function(b,S){let P=b;l(b)&&(P=Gd(b)),d.push(p+S+"="+encodeURIComponent(P))})}catch(b){throw d.push(p+"type="+encodeURIComponent("_badmap")),b}}function mo(a){this.l=a.Ub||null,this.j=a.eb||!1}A(mo,Wd),mo.prototype.g=function(){return new uc(this.l,this.j)},mo.prototype.i=function(a){return function(){return a}}({});function uc(a,d){Ye.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(uc,Ye),t=uc.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,vo(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yo(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,vo(this)),this.g&&(this.readyState=3,vo(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xv(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xv(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?yo(this):vo(this),this.readyState==3&&Xv(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,yo(this))},t.Qa=function(a){this.g&&(this.response=a,yo(this))},t.ga=function(){this.g&&yo(this)};function yo(a){a.readyState=4,a.l=null,a.j=null,a.v=null,vo(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function vo(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(uc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function e_(a){let d="";return fe(a,function(h,p){d+=p,d+=":",d+=h,d+=`\r
`}),d}function rh(a,d,h){e:{for(p in h){var p=!1;break e}p=!0}p||(h=e_(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):De(a,d,h))}function be(a){Ye.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(be,Ye);var aS=/^https?$/i,cS=["POST","PUT"];t=be.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,h,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yd.g(),this.v=this.o?Rv(this.o):Rv(Yd),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(S){t_(this,S);return}if(a=h||"",h=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var b in p)h.set(b,p[b]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(let S of p.keys())h.set(S,p.get(S));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(h.keys()).find(S=>S.toLowerCase()=="content-type"),b=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(cS,d,void 0))||p||b||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,P]of h)this.g.setRequestHeader(S,P);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{i_(this),this.u=!0,this.g.send(a),this.u=!1}catch(S){t_(this,S)}};function t_(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,n_(a),lc(a)}function n_(a){a.A||(a.A=!0,nt(a,"complete"),nt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,nt(this,"complete"),nt(this,"abort"),lc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),lc(this,!0)),be.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?r_(this):this.bb())},t.bb=function(){r_(this)};function r_(a){if(a.h&&typeof o<"u"&&(!a.v[1]||pn(a)!=4||a.Z()!=2)){if(a.u&&pn(a)==4)bv(a.Ea,0,a);else if(nt(a,"readystatechange"),pn(a)==4){a.h=!1;try{let P=a.Z();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var p;if(p=P===0){var b=String(a.D).match(Wv)[1]||null;!b&&c.self&&c.self.location&&(b=c.self.location.protocol.slice(0,-1)),p=!aS.test(b?b.toLowerCase():"")}h=p}if(h)nt(a,"complete"),nt(a,"success");else{a.m=6;try{var S=2<pn(a)?a.g.statusText:""}catch{S=""}a.l=S+" ["+a.Z()+"]",n_(a)}}finally{lc(a)}}}}function lc(a,d){if(a.g){i_(a);let h=a.g,p=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||nt(a,"ready");try{h.onreadystatechange=p}catch{}}}function i_(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function pn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<pn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),U0(d)}};function s_(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function uS(a){let d={};a=(a.g&&2<=pn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<a.length;p++){if(W(a[p]))continue;var h=C(a[p]);let b=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let S=d[b]||[];d[b]=S,S.push(h)}D(d,function(p){return p.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _o(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function o_(a){this.Aa=0,this.i=[],this.j=new lo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_o("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_o("baseRetryDelayMs",5e3,a),this.cb=_o("retryDelaySeedMs",1e4,a),this.Wa=_o("forwardChannelMaxRetries",2,a),this.wa=_o("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Bv(a&&a.concurrentRequestLimit),this.Da=new sS,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=o_.prototype,t.la=8,t.G=1,t.connect=function(a,d,h,p){rt(0),this.W=a,this.H=d||{},h&&p!==void 0&&(this.H.OSID=h,this.H.OAID=p),this.F=this.X,this.I=g_(this,null,this.W),hc(this)};function ih(a){if(a_(a),a.G==3){var d=a.U++,h=fn(a.I);if(De(h,"SID",a.K),De(h,"RID",d),De(h,"TYPE","terminate"),Io(a,h),d=new qn(a,a.j,d),d.L=2,d.v=cc(fn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=m_(d.j,null),d.g.ea(d.v)),d.F=Date.now(),sc(d)}p_(a)}function dc(a){a.g&&(oh(a),a.g.cancel(),a.g=null)}function a_(a){dc(a),a.u&&(c.clearTimeout(a.u),a.u=null),fc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function hc(a){if(!$v(a.h)&&!a.s){a.s=!0;var d=a.Ga;no||_v(),ro||(no(),ro=!0),Ld.add(d,a),a.B=0}}function lS(a,d){return Hv(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=uo(_(a.Ga,a,d),f_(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let b=new qn(this,this.j,a),S=this.o;if(this.S&&(S?(S=m(S),E(S,this.S)):S=this.S),this.m!==null||this.O||(b.H=S,S=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var p=this.i[h];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(d+=p,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=u_(this,b,d),h=fn(this.I),De(h,"RID",a),De(h,"CVER",22),this.D&&De(h,"X-HTTP-Session-Id",this.D),Io(this,h),S&&(this.O?d="headers="+encodeURIComponent(String(e_(S)))+"&"+d:this.m&&rh(h,this.m,S)),nh(this.h,b),this.Ua&&De(h,"TYPE","init"),this.P?(De(h,"$req",d),De(h,"SID","null"),b.T=!0,Jd(b,h,null)):Jd(b,h,d),this.G=2}}else this.G==3&&(a?c_(this,a):this.i.length==0||$v(this.h)||c_(this))};function c_(a,d){var h;d?h=d.l:h=a.U++;let p=fn(a.I);De(p,"SID",a.K),De(p,"RID",h),De(p,"AID",a.T),Io(a,p),a.m&&a.o&&rh(p,a.m,a.o),h=new qn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=u_(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),nh(a.h,h),Jd(h,p,d)}function Io(a,d){a.H&&fe(a.H,function(h,p){De(d,p,h)}),a.l&&Gv({},function(h,p){De(d,p,h)})}function u_(a,d,h){h=Math.min(a.i.length,h);var p=a.l?_(a.l.Na,a.l,a):null;e:{var b=a.i;let S=-1;for(;;){let P=["count="+h];S==-1?0<h?(S=b[0].g,P.push("ofs="+S)):S=0:P.push("ofs="+S);let ve=!0;for(let Ge=0;Ge<h;Ge++){let pe=b[Ge].g,Ze=b[Ge].map;if(pe-=S,0>pe)S=Math.max(0,b[Ge].g-100),ve=!1;else try{oS(Ze,P,"req"+pe+"_")}catch{p&&p(Ze)}}if(ve){p=P.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,p}function l_(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;no||_v(),ro||(no(),ro=!0),Ld.add(d,a),a.v=0}}function sh(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=uo(_(a.Fa,a),f_(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,d_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=uo(_(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),dc(this),d_(this))};function oh(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function d_(a){a.g=new qn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=fn(a.qa);De(d,"RID","rpc"),De(d,"SID",a.K),De(d,"AID",a.T),De(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&De(d,"TO",a.ja),De(d,"TYPE","xmlhttp"),Io(a,d),a.m&&a.o&&rh(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=cc(fn(d)),h.m=null,h.P=!0,Vv(h,a)}t.Za=function(){this.C!=null&&(this.C=null,dc(this),sh(this),rt(19))};function fc(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function h_(a,d){var h=null;if(a.g==d){fc(a),oh(a),a.g=null;var p=2}else if(th(a.h,d))h=d.D,qv(a.h,d),p=1;else return;if(a.G!=0){if(d.o)if(p==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var b=a.B;p=nc(),nt(p,new Ov(p,h)),hc(a)}else l_(a);else if(b=d.s,b==3||b==0&&0<d.X||!(p==1&&lS(a,d)||p==2&&sh(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),b){case 1:Ar(a,5);break;case 4:Ar(a,10);break;case 3:Ar(a,6);break;default:Ar(a,2)}}}function f_(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function Ar(a,d){if(a.j.info("Error code "+d),d==2){var h=_(a.fb,a),p=a.Xa;let b=!p;p=new Sr(p||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||oc(p,"https"),cc(p),b?rS(p.toString(),h):iS(p.toString(),h)}else rt(2);a.G=0,a.l&&a.l.sa(d),p_(a),a_(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function p_(a){if(a.G=0,a.ka=[],a.l){let d=zv(a.h);(d.length!=0||a.i.length!=0)&&(x(a.ka,d),x(a.ka,a.i),a.h.i.length=0,M(a.i),a.i.length=0),a.l.ra()}}function g_(a,d,h){var p=h instanceof Sr?fn(h):new Sr(h);if(p.g!="")d&&(p.g=d+"."+p.g),ac(p,p.s);else{var b=c.location;p=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var S=new Sr(null);p&&oc(S,p),d&&(S.g=d),b&&ac(S,b),h&&(S.l=h),p=S}return h=a.D,d=a.ya,h&&d&&De(p,h,d),De(p,"VER",a.la),Io(a,p),p}function m_(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new be(new mo({eb:h})):new be(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function y_(){}t=y_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function pc(){}pc.prototype.g=function(a,d){return new mt(a,d)};function mt(a,d){Ye.call(this),this.g=new o_(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!W(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!W(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Ci(this)}A(mt,Ye),mt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mt.prototype.close=function(){ih(this.g)},mt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=Gd(a),a=h);d.i.push(new W0(d.Ya++,a)),d.G==3&&hc(d)},mt.prototype.N=function(){this.g.l=null,delete this.j,ih(this.g),delete this.g,mt.aa.N.call(this)};function v_(a){Kd.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}A(v_,Kd);function __(){Qd.call(this),this.status=1}A(__,Qd);function Ci(a){this.g=a}A(Ci,y_),Ci.prototype.ua=function(){nt(this.g,"a")},Ci.prototype.ta=function(a){nt(this.g,new v_(a))},Ci.prototype.sa=function(a){nt(this.g,new __)},Ci.prototype.ra=function(){nt(this.g,"b")},pc.prototype.createWebChannel=pc.prototype.g,mt.prototype.send=mt.prototype.o,mt.prototype.open=mt.prototype.m,mt.prototype.close=mt.prototype.close,Nm=Ln.createWebChannelTransport=function(){return new pc},Mm=Ln.getStatEventTarget=function(){return nc()},Rm=Ln.Event=br,Vl=Ln.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rc.NO_ERROR=0,rc.TIMEOUT=8,rc.HTTP_ERROR=6,Ma=Ln.ErrorCode=rc,kv.COMPLETE="complete",Am=Ln.EventType=kv,Mv.EventType=ao,ao.OPEN="a",ao.CLOSE="b",ao.ERROR="c",ao.MESSAGE="d",Ye.prototype.listen=Ye.prototype.K,Ns=Ln.WebChannel=Mv,Sm=Ln.FetchXmlHttpFactory=mo,be.prototype.listenOnce=be.prototype.L,be.prototype.getLastError=be.prototype.Ka,be.prototype.getLastErrorCode=be.prototype.Ba,be.prototype.getStatus=be.prototype.Z,be.prototype.getResponseJson=be.prototype.Oa,be.prototype.getResponseText=be.prototype.oa,be.prototype.send=be.prototype.ea,be.prototype.setWithCredentials=be.prototype.Ha,Tm=Ln.XhrIo=be}).apply(typeof Ll<"u"?Ll:typeof self<"u"?self:typeof window<"u"?window:{});var Bb="@firebase/firestore";var He=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};He.UNAUTHENTICATED=new He(null),He.GOOGLE_CREDENTIALS=new He("google-credentials-uid"),He.FIRST_PARTY=new He("first-party-uid"),He.MOCK_USER=new He("mock-user");var Qs="10.13.1";var mi=new hr("@firebase/firestore");function Na(){return mi.logLevel}function j(t,...e){if(mi.logLevel<=se.DEBUG){let n=e.map(Xy);mi.debug(`Firestore (${Qs}): ${t}`,...n)}}function yi(t,...e){if(mi.logLevel<=se.ERROR){let n=e.map(Xy);mi.error(`Firestore (${Qs}): ${t}`,...n)}}function ql(t,...e){if(mi.logLevel<=se.WARN){let n=e.map(Xy);mi.warn(`Firestore (${Qs}): ${t}`,...n)}}function Xy(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function oe(t="Unexpected state"){let e=`FIRESTORE (${Qs}) INTERNAL ASSERTION FAILED: `+t;throw yi(e),new Error(e)}function je(t,e){t||oe()}function Ee(t,e){return t}var R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=class extends Dt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Vn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var zl=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},km=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(He.UNAUTHENTICATED))}shutdown(){}},Fm=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Lm=class{constructor(e){this.t=e,this.currentUser=He.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new Vn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Vn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Vn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string"),new zl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string"),new He(e)}},Vm=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=He.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},jm=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Vm(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(He.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Um=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Bm=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,j("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(je(typeof n.token=="string"),this.R=n.token,new Um(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function lV(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Gl=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=lV(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function we(t,e){return t<e?-1:t>e?1:0}function ks(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var tt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new H(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Re=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new tt(0,0))}static max(){return new t(new tt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Wl=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(),r===void 0?r=e.length-n:r>e.length-n&&oe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Oe=class t extends Wl{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new H(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},dV=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ct=class t extends Wl{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return dV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new H(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new H(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new H(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new H(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var te=class t{constructor(e){this.path=e}static fromPath(e){return new t(Oe.fromString(e))}static fromName(e){return new t(Oe.fromString(e).popFirst(5))}static empty(){return new t(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Oe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Oe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Oe(e.slice()))}};var $m=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};$m.UNKNOWN_ID=-1;function hV(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Re.fromTimestamp(r===1e9?new tt(n+1,0):new tt(n,r));return new vi(i,te.empty(),e)}function fV(t){return new vi(t.readTime,t.key,-1)}var vi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Re.min(),te.empty(),-1)}static max(){return new t(Re.max(),te.empty(),-1)}};function pV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:we(t.largestBatchId,e.largestBatchId))}var gV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Hm=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function uT(t){return w(this,null,function*(){if(t.code!==R.FAILED_PRECONDITION||t.message!==gV)throw t;j("LocalStore","Unexpectedly lost primary lease")})}var N=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),c=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(f=>{o[l]=f,++c,c===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function mV(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hd(t){return t.name==="IndexedDbTransactionError"}var yV=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function ev(t){return t==null}function La(t){return t===0&&1/t==-1/0}function vV(t){return typeof t=="number"&&Number.isInteger(t)&&!La(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var _V=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],o9=[..._V,"documentOverlays"],IV=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],wV=IV,EV=[...wV,"indexConfiguration","indexState","indexEntries"];var a9=[...EV,"globals"];function $b(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ba(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function lT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var bt=class t{constructor(e,n){this.comparator=e,this.root=n||ln.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ps(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ps(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ps(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ps(this.root,e,this.comparator,!0)}},Ps=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ln=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw oe();let e=this.left.check();if(e!==this.right.check())throw oe();return e+(this.isRed()?0:1)}};ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw oe()}get value(){throw oe()}get color(){throw oe()}get left(){throw oe()}get right(){throw oe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new ln(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var at=class t{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Kl(this.data.getIterator())}getIteratorFrom(e){return new Kl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Kl=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var un=class t{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new t([])}unionWith(e){let n=new at(Ct.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ks(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var qm=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Un=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new qm("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Un.EMPTY_BYTE_STRING=new Un("");var DV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wr(t){if(je(!!t),typeof t=="string"){let e=0,n=DV.exec(t);if(je(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pe(t.seconds),nanos:Pe(t.nanos)}}function Pe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fs(t){return typeof t=="string"?Un.fromBase64String(t):Un.fromUint8Array(t)}function tv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function dT(t){let e=t.mapValue.fields.__previous_value__;return tv(e)?dT(e):e}function Ql(t){let e=wr(t.mapValue.fields.__local_write_time__.timestampValue);return new tt(e.seconds,e.nanos)}var zm=class{constructor(e,n,r,i,s,o,c,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l}},Gm=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var jl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ls(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?tv(t)?4:fT(t)?9007199254740991:hT(t)?10:11:oe()}function dn(t,e){if(t===e)return!0;let n=Ls(t);if(n!==Ls(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ql(t).isEqual(Ql(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=wr(i.timestampValue),c=wr(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Fs(i.bytesValue).isEqual(Fs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Pe(i.geoPointValue.latitude)===Pe(s.geoPointValue.latitude)&&Pe(i.geoPointValue.longitude)===Pe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Pe(i.integerValue)===Pe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Pe(i.doubleValue),c=Pe(s.doubleValue);return o===c?La(o)===La(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return ks(t.arrayValue.values||[],e.arrayValue.values||[],dn);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},c=s.mapValue.fields||{};if($b(o)!==$b(c))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!dn(o[u],c[u])))return!1;return!0}(t,e);default:return oe()}}function Va(t,e){return(t.values||[]).find(n=>dn(n,e))!==void 0}function Vs(t,e){if(t===e)return 0;let n=Ls(t),r=Ls(e);if(n!==r)return we(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return we(t.booleanValue,e.booleanValue);case 2:return function(s,o){let c=Pe(s.integerValue||s.doubleValue),u=Pe(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return Hb(t.timestampValue,e.timestampValue);case 4:return Hb(Ql(t),Ql(e));case 5:return we(t.stringValue,e.stringValue);case 6:return function(s,o){let c=Fs(s),u=Fs(o);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let c=s.split("/"),u=o.split("/");for(let l=0;l<c.length&&l<u.length;l++){let f=we(c[l],u[l]);if(f!==0)return f}return we(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let c=we(Pe(s.latitude),Pe(o.latitude));return c!==0?c:we(Pe(s.longitude),Pe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return qb(t.arrayValue,e.arrayValue);case 10:return function(s,o){var c,u,l,f;let g=s.fields||{},_=o.fields||{},I=(c=g.value)===null||c===void 0?void 0:c.arrayValue,A=(u=_.value)===null||u===void 0?void 0:u.arrayValue,M=we(((l=I?.values)===null||l===void 0?void 0:l.length)||0,((f=A?.values)===null||f===void 0?void 0:f.length)||0);return M!==0?M:qb(I,A)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===jl.mapValue&&o===jl.mapValue)return 0;if(s===jl.mapValue)return 1;if(o===jl.mapValue)return-1;let c=s.fields||{},u=Object.keys(c),l=o.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){let _=we(u[g],f[g]);if(_!==0)return _;let I=Vs(c[u[g]],l[f[g]]);if(I!==0)return I}return we(u.length,f.length)}(t.mapValue,e.mapValue);default:throw oe()}}function Hb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return we(t,e);let n=wr(t),r=wr(e),i=we(n.seconds,r.seconds);return i!==0?i:we(n.nanos,r.nanos)}function qb(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=Vs(n[i],r[i]);if(s)return s}return we(n.length,r.length)}function js(t){return Wm(t)}function Wm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=wr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Fs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Wm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Wm(n.fields[o])}`;return i+"}"}(t.mapValue):oe()}function Km(t){return!!t&&"integerValue"in t}function nv(t){return!!t&&"arrayValue"in t}function $l(t){return!!t&&"mapValue"in t}function hT(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Pa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ba(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Pa(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function fT(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var cn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!$l(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pa(n)}setAll(e){let n=Ct.emptyPath(),r={},i=[];e.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}o?r[c.lastSegment()]=Pa(o):i.push(c.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());$l(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return dn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];$l(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ba(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Pa(this.value))}};function pT(t){let e=[];return Ba(t.fields,(n,r)=>{let i=new Ct([n]);if($l(r)){let s=pT(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new un(e)}var Us=class t{constructor(e,n,r,i,s,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new t(e,0,Re.min(),Re.min(),Re.min(),cn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Re.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Re.min(),Re.min(),cn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Re.min(),Re.min(),cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Bs=class{constructor(e,n){this.position=e,this.inclusive=n}};function zb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=Vs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Gb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!dn(t.position[n],e.position[n]))return!1;return!0}var $s=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function CV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Yl=class{},qe=class t extends Yl{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Ym(e,n,r):n==="array-contains"?new Xm(e,r):n==="in"?new ey(e,r):n==="not-in"?new ty(e,r):n==="array-contains-any"?new ny(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Zm(e,r):new Jm(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Vs(n,this.value)):n!==null&&Ls(this.value)===Ls(n)&&this.matchesComparison(Vs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Er=class t extends Yl{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return gT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function gT(t){return t.op==="and"}function mT(t){return bV(t)&&gT(t)}function bV(t){for(let e of t.filters)if(e instanceof Er)return!1;return!0}function Qm(t){if(t instanceof qe)return t.field.canonicalString()+t.op.toString()+js(t.value);if(mT(t))return t.filters.map(e=>Qm(e)).join(",");{let e=t.filters.map(n=>Qm(n)).join(",");return`${t.op}(${e})`}}function yT(t,e){return t instanceof qe?function(r,i){return i instanceof qe&&r.op===i.op&&r.field.isEqual(i.field)&&dn(r.value,i.value)}(t,e):t instanceof Er?function(r,i){return i instanceof Er&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,c)=>s&&yT(o,i.filters[c]),!0):!1}(t,e):void oe()}function vT(t){return t instanceof qe?function(n){return`${n.field.canonicalString()} ${n.op} ${js(n.value)}`}(t):t instanceof Er?function(n){return n.op.toString()+" {"+n.getFilters().map(vT).join(" ,")+"}"}(t):"Filter"}var Ym=class extends qe{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){let n=te.comparator(e.key,this.key);return this.matchesComparison(n)}},Zm=class extends qe{constructor(e,n){super(e,"in",n),this.keys=_T("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Jm=class extends qe{constructor(e,n){super(e,"not-in",n),this.keys=_T("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function _T(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}var Xm=class extends qe{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return nv(n)&&Va(n.arrayValue,this.value)}},ey=class extends qe{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Va(this.value.arrayValue,n)}},ty=class extends qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Va(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Va(this.value.arrayValue,n)}},ny=class extends qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!nv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Va(this.value.arrayValue,r))}};var ry=class{constructor(e,n=null,r=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.ue=null}};function Wb(t,e=null,n=[],r=[],i=null,s=null,o=null){return new ry(t,e,n,r,i,s,o)}function rv(t){let e=Ee(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Qm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ev(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>js(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>js(r)).join(",")),e.ue=n}return e.ue}function iv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!CV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!yT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Gb(t.startAt,e.startAt)&&Gb(t.endAt,e.endAt)}var Hs=class{constructor(e,n=null,r=[],i=[],s=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function TV(t,e,n,r,i,s,o,c){return new Hs(t,e,n,r,i,s,o,c)}function SV(t){return new Hs(t)}function Kb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function AV(t){return t.collectionGroup!==null}function Oa(t){let e=Ee(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new at(Ct.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new $s(s,r))}),n.has(Ct.keyField().canonicalString())||e.ce.push(new $s(Ct.keyField(),r))}return e.ce}function pi(t){let e=Ee(t);return e.le||(e.le=RV(e,Oa(t))),e.le}function RV(t,e){if(t.limitType==="F")return Wb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new $s(i.field,s)});let n=t.endAt?new Bs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Bs(t.startAt.position,t.startAt.inclusive):null;return Wb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function iy(t,e,n){return new Hs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function IT(t,e){return iv(pi(t),pi(e))&&t.limitType===e.limitType}function wT(t){return`${rv(pi(t))}|lt:${t.limitType}`}function xa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>vT(i)).join(", ")}]`),ev(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>js(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>js(i)).join(",")),`Target(${r})`}(pi(t))}; limitType=${t.limitType})`}function sv(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):te.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Oa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,c,u){let l=zb(o,c,u);return o.inclusive?l<=0:l<0}(r.startAt,Oa(r),i)||r.endAt&&!function(o,c,u){let l=zb(o,c,u);return o.inclusive?l>=0:l>0}(r.endAt,Oa(r),i))}(t,e)}function MV(t){return(e,n)=>{let r=!1;for(let i of Oa(t)){let s=NV(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function NV(t,e,n){let r=t.field.isKeyField()?te.comparator(e.key,n.key):function(s,o,c){let u=o.data.field(s),l=c.data.field(s);return u!==null&&l!==null?Vs(u,l):oe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe()}}var Dr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ba(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return lT(this.inner)}size(){return this.innerSize}};var xV=new bt(te.comparator);function Zl(){return xV}var ET=new bt(te.comparator);function Ul(...t){let e=ET;for(let n of t)e=e.insert(n.key,n);return e}function DT(t){let e=ET;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function fi(){return ka()}function CT(){return ka()}function ka(){return new Dr(t=>t.toString(),(t,e)=>t.isEqual(e))}var PV=new bt(te.comparator),OV=new at(te.comparator);function et(...t){let e=OV;for(let n of t)e=e.add(n);return e}var kV=new at(we);function FV(){return kV}function ov(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:La(e)?"-0":e}}function bT(t){return{integerValue:""+t}}function LV(t,e){return vV(e)?bT(e):ov(t,e)}var qs=class{constructor(){this._=void 0}};function VV(t,e,n){return t instanceof zs?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&tv(s)&&(s=dT(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof _i?ST(t,e):t instanceof Ii?AT(t,e):function(i,s){let o=TT(i,s),c=Qb(o)+Qb(i.Pe);return Km(o)&&Km(i.Pe)?bT(c):ov(i.serializer,c)}(t,e)}function jV(t,e,n){return t instanceof _i?ST(t,e):t instanceof Ii?AT(t,e):n}function TT(t,e){return t instanceof Gs?function(r){return Km(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var zs=class extends qs{},_i=class extends qs{constructor(e){super(),this.elements=e}};function ST(t,e){let n=RT(e);for(let r of t.elements)n.some(i=>dn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ii=class extends qs{constructor(e){super(),this.elements=e}};function AT(t,e){let n=RT(e);for(let r of t.elements)n=n.filter(i=>!dn(i,r));return{arrayValue:{values:n}}}var Gs=class extends qs{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function Qb(t){return Pe(t.integerValue||t.doubleValue)}function RT(t){return nv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function UV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof _i&&i instanceof _i||r instanceof Ii&&i instanceof Ii?ks(r.elements,i.elements,dn):r instanceof Gs&&i instanceof Gs?dn(r.Pe,i.Pe):r instanceof zs&&i instanceof zs}(t.transform,e.transform)}var sy=class{constructor(e,n){this.version=e,this.transformResults=n}},gi=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Hl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Ws=class{};function MT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Jl(t.key,gi.none()):new wi(t.key,t.data,gi.none());{let n=t.data,r=cn.empty(),i=new at(Ct.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Bn(t.key,r,new un(i.toArray()),gi.none())}}function BV(t,e,n){t instanceof wi?function(i,s,o){let c=i.value.clone(),u=Zb(i.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Bn?function(i,s,o){if(!Hl(i.precondition,s))return void s.convertToUnknownDocument(o.version);let c=Zb(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(NT(i)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Fa(t,e,n,r){return t instanceof wi?function(s,o,c,u){if(!Hl(s.precondition,o))return c;let l=s.value.clone(),f=Jb(s.fieldTransforms,u,o);return l.setAll(f),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Bn?function(s,o,c,u){if(!Hl(s.precondition,o))return c;let l=Jb(s.fieldTransforms,u,o),f=o.data;return f.setAll(NT(s)),f.setAll(l),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,o,c){return Hl(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,n)}function $V(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=TT(r.transform,i||null);s!=null&&(n===null&&(n=cn.empty()),n.set(r.field,s))}return n||null}function Yb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ks(r,i,(s,o)=>UV(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var wi=class extends Ws{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Bn=class extends Ws{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function NT(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function Zb(t,e,n){let r=new Map;je(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,c=e.data.field(s.field);r.set(s.field,jV(o,c,n[i]))}return r}function Jb(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,VV(s,o,e))}return r}var Jl=class extends Ws{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},oy=class extends Ws{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var ay=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&BV(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fa(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Fa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=CT();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,c=this.applyToLocalView(o,s.mutatedFields);c=n.has(i.key)?null:c;let u=MT(o,c);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),et())}isEqual(e){return this.batchId===e.batchId&&ks(this.mutations,e.mutations,(n,r)=>Yb(n,r))&&ks(this.baseMutations,e.baseMutations,(n,r)=>Yb(n,r))}},cy=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){je(e.mutations.length===r.length);let i=function(){return PV}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var uy=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Ne,he;function HV(t){switch(t){default:return oe();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}function qV(t){if(t===void 0)return yi("GRPC error has no .code"),R.UNKNOWN;switch(t){case Ne.OK:return R.OK;case Ne.CANCELLED:return R.CANCELLED;case Ne.UNKNOWN:return R.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return R.INTERNAL;case Ne.UNAVAILABLE:return R.UNAVAILABLE;case Ne.UNAUTHENTICATED:return R.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case Ne.NOT_FOUND:return R.NOT_FOUND;case Ne.ALREADY_EXISTS:return R.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return R.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case Ne.ABORTED:return R.ABORTED;case Ne.OUT_OF_RANGE:return R.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return R.UNIMPLEMENTED;case Ne.DATA_LOSS:return R.DATA_LOSS;default:return oe()}}(he=Ne||(Ne={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";var u9=new bm([4294967295,4294967295],0);var ly=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function dy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zV(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function GV(t,e){return dy(t,e.toTimestamp())}function Os(t){return je(!!t),Re.fromTimestamp(function(n){let r=wr(n);return new tt(r.seconds,r.nanos)}(t))}function xT(t,e){return hy(t,e).canonicalString()}function hy(t,e){let n=function(i){return new Oe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function WV(t){let e=Oe.fromString(t);return je(tj(e)),e}function fy(t,e){return xT(t.databaseId,e.path)}function KV(t){let e=WV(t);return e.length===4?Oe.emptyPath():YV(e)}function QV(t){return new Oe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function YV(t){return je(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Xb(t,e,n){return{name:fy(t,e),fields:n.value.mapValue.fields}}function ZV(t,e){let n;if(e instanceof wi)n={update:Xb(t,e.key,e.value)};else if(e instanceof Jl)n={delete:fy(t,e.key)};else if(e instanceof Bn)n={update:Xb(t,e.key,e.data),updateMask:ej(e.fieldMask)};else{if(!(e instanceof oy))return oe();n={verify:fy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let c=o.transform;if(c instanceof zs)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof _i)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ii)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Gs)return{fieldPath:o.field.canonicalString(),increment:c.Pe};throw oe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:GV(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:oe()}(t,e.precondition)),n}function JV(t,e){return t&&t.length>0?(je(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Os(i.updateTime):Os(s);return o.isEqual(Re.min())&&(o=Os(s)),new sy(o,i.transformResults||[])}(n,e))):[]}function XV(t){let e=KV(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){je(r===1);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(g){let _=PT(g);return _ instanceof Er&&mT(_)?_.getFilters():[_]}(n.where));let o=[];n.orderBy&&(o=function(g){return g.map(_=>function(A){return new $s(xs(A.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(_))}(n.orderBy));let c=null;n.limit&&(c=function(g){let _;return _=typeof g=="object"?g.value:g,ev(_)?null:_}(n.limit));let u=null;n.startAt&&(u=function(g){let _=!!g.before,I=g.values||[];return new Bs(I,_)}(n.startAt));let l=null;return n.endAt&&(l=function(g){let _=!g.before,I=g.values||[];return new Bs(I,_)}(n.endAt)),TV(e,i,o,s,c,"F",u,l)}function PT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=xs(n.unaryFilter.field);return qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=xs(n.unaryFilter.field);return qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=xs(n.unaryFilter.field);return qe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=xs(n.unaryFilter.field);return qe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return oe()}}(t):t.fieldFilter!==void 0?function(n){return qe.create(xs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return oe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Er.create(n.compositeFilter.filters.map(r=>PT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return oe()}}(n.compositeFilter.op))}(t):oe()}function xs(t){return Ct.fromServerFormat(t.fieldPath)}function ej(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function tj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var py=class{constructor(e){this.ct=e}};function nj(t){let e=XV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?iy(e,e.limit,"L"):e}var Xl=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Pe(e.integerValue));else if("doubleValue"in e){let r=Pe(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),La(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=wr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Fs(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?fT(e)?this.dt(n,Number.MAX_SAFE_INTEGER):hT(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):oe()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",c=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Pe(c)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),te.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Xl.vt=new Xl;var gy=class{constructor(){this.un=new my}addToCollectionParentIndex(e,n){return this.un.add(n),N.resolve()}getCollectionParents(e,n){return N.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return N.resolve()}deleteFieldIndex(e,n){return N.resolve()}deleteAllFieldIndexes(e){return N.resolve()}createTargetIndexes(e,n){return N.resolve()}getDocumentsMatchingTarget(e,n){return N.resolve(null)}getIndexType(e,n){return N.resolve(0)}getFieldIndexes(e,n){return N.resolve([])}getNextCollectionGroupToUpdate(e){return N.resolve(null)}getMinOffset(e,n){return N.resolve(vi.min())}getMinOffsetFromCollectionGroup(e,n){return N.resolve(vi.min())}updateCollectionGroup(e,n,r){return N.resolve()}updateIndexEntries(e,n){return N.resolve()}},my=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new at(Oe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new at(Oe.comparator)).toArray()}};var l9=new Uint8Array(0);var an=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(41943040,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);var ja=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var yy=class{constructor(){this.changes=new Dr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Us.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?N.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var vy=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var _y=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Fa(r.mutation,i,un.empty(),tt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,et()).next(()=>r))}getLocalViewOfDocuments(e,n,r=et()){let i=fi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ul();return s.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=fi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,et()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,c)=>{n.set(o,c)})})}computeViews(e,n,r,i){let s=Zl(),o=ka(),c=function(){return ka()}();return n.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof Bn)?s=s.insert(l.key,l):f!==void 0?(o.set(l.key,f.mutation.getFieldMask()),Fa(f.mutation,l,f.mutation.getFieldMask(),tt.now())):o.set(l.key,un.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,f)=>o.set(l,f)),n.forEach((l,f)=>{var g;return c.set(l,new vy(f,(g=o.get(l))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,n){let r=ka(),i=new bt((o,c)=>o-c),s=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let c of o)c.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let f=r.get(u)||un.empty();f=c.applyToLocalView(l,f),r.set(u,f);let g=(i.get(c.batchId)||et()).add(u);i=i.insert(c.batchId,g)})}).next(()=>{let o=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,f=u.value,g=CT();f.forEach(_=>{if(!s.has(_)){let I=MT(n.get(_),r.get(_));I!==null&&g.set(_,I),s=s.add(_)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,g))}return N.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):AV(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):N.resolve(fi()),c=-1,u=s;return o.next(l=>N.forEach(l,(f,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),s.get(f)?N.resolve():this.remoteDocumentCache.getEntry(e,f).next(_=>{u=u.insert(f,_)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,et())).next(f=>({batchId:c,changes:DT(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let i=Ul();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Ul();return this.indexManager.getCollectionParents(e,s).next(c=>N.forEach(c,u=>{let l=function(g,_){return new Hs(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((g,_)=>{o=o.insert(g,_)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let f=l.getKey();o.get(f)===null&&(o=o.insert(f,Us.newInvalidDocument(f)))});let c=Ul();return o.forEach((u,l)=>{let f=s.get(u);f!==void 0&&Fa(f.mutation,l,un.empty(),tt.now()),sv(n,l)&&(c=c.insert(u,l))}),c})}};var Iy=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return N.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Os(i.createTime)}}(n)),N.resolve()}getNamedQuery(e,n){return N.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:nj(i.bundledQuery),readTime:Os(i.readTime)}}(n)),N.resolve()}};var wy=class{constructor(){this.overlays=new bt(te.comparator),this.Ir=new Map}getOverlay(e,n){return N.resolve(this.overlays.get(n))}getOverlays(e,n){let r=fi();return N.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),N.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),N.resolve()}getOverlaysForCollection(e,n,r){let i=fi(),s=n.length+1,o=new te(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return N.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new bt((l,f)=>l-f),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let f=s.get(l.largestBatchId);f===null&&(f=fi(),s=s.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let c=fi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>c.set(l,f)),!(c.size()>=i)););return N.resolve(c)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new uy(n,r));let s=this.Ir.get(n);s===void 0&&(s=et(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var Ey=class{constructor(){this.sessionToken=Un.EMPTY_BYTE_STRING}getSessionToken(e){return N.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,N.resolve()}};var Ua=class{constructor(){this.Tr=new at(xe.Er),this.dr=new at(xe.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new xe(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new xe(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new te(new Oe([])),r=new xe(n,e),i=new xe(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new te(new Oe([])),r=new xe(n,e),i=new xe(n,e+1),s=et();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new xe(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},xe=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return te.comparator(e.key,n.key)||we(e.wr,n.wr)}static Ar(e,n){return we(e.wr,n.wr)||te.comparator(e.key,n.key)}};var Dy=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new at(xe.Er)}checkEmpty(e){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new ay(s,n,r,i);this.mutationQueue.push(o);for(let c of i)this.br=this.br.add(new xe(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return N.resolve(o)}lookupMutationBatch(e,n){return N.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return N.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new xe(n,0),i=new xe(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let c=this.Dr(o.wr);s.push(c)}),N.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new at(we);return n.forEach(i=>{let s=new xe(i,0),o=new xe(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],c=>{r=r.add(c.wr)})}),N.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;te.isDocumentKey(s)||(s=s.child(""));let o=new xe(new te(s),0),c=new at(we);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.wr)),!0)},o),N.resolve(this.Cr(c))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){je(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return N.forEach(n.mutations,i=>{let s=new xe(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new xe(n,0),i=this.br.firstAfterOrEqual(r);return N.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,N.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Cy=class{constructor(e){this.Mr=e,this.docs=function(){return new bt(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return N.resolve(r?r.document.mutableCopy():Us.newInvalidDocument(n))}getEntries(e,n){let r=Zl();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Us.newInvalidDocument(i))}),N.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Zl(),o=n.path,c=new te(o.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||pV(fV(f),r)<=0||(i.has(f.key)||sv(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return N.resolve(s)}getAllFromCollectionGroup(e,n,r,i){oe()}Or(e,n){return N.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new by(this)}getSize(e){return N.resolve(this.size)}},by=class extends yy{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),N.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var Ty=class{constructor(e){this.persistence=e,this.Nr=new Dr(n=>rv(n),iv),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Ua,this.targetCount=0,this.kr=ja.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),N.resolve()}getLastRemoteSnapshotVersion(e){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return N.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),N.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new ja(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,N.resolve()}updateTargetData(e,n){return this.Kn(n),N.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,N.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),N.waitFor(s).next(()=>i)}getTargetCount(e){return N.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return N.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),N.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),N.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),N.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return N.resolve(r)}containsKey(e,n){return N.resolve(this.Br.containsKey(n))}};var Sy=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new yV(0),this.Kr=!1,this.Kr=!0,this.$r=new Ey,this.referenceDelegate=e(this),this.Ur=new Ty(this),this.indexManager=new gy,this.remoteDocumentCache=function(i){return new Cy(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new py(n),this.Gr=new Iy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wy,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Dy(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){j("MemoryPersistence","Starting transaction:",e);let i=new Ay(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return N.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},Ay=class extends Hm{constructor(e){super(),this.currentSequenceNumber=e}},Ry=class t{constructor(e){this.persistence=e,this.Jr=new Ua,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw oe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),N.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),N.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),N.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.Xr,r=>{let i=te.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Re.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return N.or([()=>N.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var My=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=et(),i=et();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var Ny=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var xy=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return vC()?8:mV($e())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Ny;return this.Xi(e,n,o).next(c=>{if(s.result=c,this.zi)return this.es(e,n,o,c.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Na()<=se.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",xa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),N.resolve()):(Na()<=se.DEBUG&&j("QueryEngine","Query:",xa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Na()<=se.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",xa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pi(n))):N.resolve())}Yi(e,n){if(Kb(n))return N.resolve(null);let r=pi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=iy(n,null,"F"),r=pi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=et(...s);return this.Ji.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,c);return this.ns(n,l,o,u.readTime)?this.Yi(e,iy(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return Kb(n)||i.isEqual(Re.min())?N.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?N.resolve(null):(Na()<=se.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xa(n)),this.rs(e,o,n,hV(i,-1)).next(c=>c))})}ts(e,n){let r=new at(MV(e));return n.forEach((i,s)=>{sv(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Na()<=se.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",xa(n)),this.Ji.getDocumentsMatchingQuery(e,n,vi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Py=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new bt(we),this._s=new Dr(s=>rv(s),iv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _y(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function rj(t,e,n,r){return new Py(t,e,n,r)}function OT(t,e){return w(this,null,function*(){let n=Ee(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],c=[],u=et();for(let l of i){o.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of s){c.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:c}))})})})}function ij(t,e){let n=Ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(c,u,l,f){let g=l.batch,_=g.keys(),I=N.resolve();return _.forEach(A=>{I=I.next(()=>f.getEntry(u,A)).next(M=>{let x=l.docVersions.get(A);je(x!==null),M.version.compareTo(x)<0&&(g.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),f.addEntry(M)))})}),I.next(()=>c.mutationQueue.removeMutationBatch(u,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=et();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function sj(t){let e=Ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function oj(t,e){let n=Ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var ed=class{constructor(){this.activeTargetIds=FV()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Oy=class{constructor(){this.so=new ed,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ed,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var ky=class{_o(e){}shutdown(){}};var td=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){j("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){j("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Bl=null;function xm(){return Bl===null?Bl=function(){return 268435456+Math.round(2147483648*Math.random())}():Bl++,"0x"+Bl.toString(16)}var aj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Fy=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Xe="WebChannelConnection",Ly=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let c=xm(),u=this.xo(n,r.toUriEncodedString());j("RestConnection",`Sending RPC '${n}' ${c}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(f=>(j("RestConnection",`Received RPC '${n}' ${c}: `,f),f),f=>{throw ql("RestConnection",`RPC '${n}' ${c} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,s,o,c){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=aj[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=xm();return new Promise((o,c)=>{let u=new Tm;u.setWithCredentials(!0),u.listenOnce(Am.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ma.NO_ERROR:let f=u.getResponseJson();j(Xe,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Ma.TIMEOUT:j(Xe,`RPC '${e}' ${s} timed out`),c(new H(R.DEADLINE_EXCEEDED,"Request time out"));break;case Ma.HTTP_ERROR:let g=u.getStatus();if(j(Xe,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let _=u.getResponseJson();Array.isArray(_)&&(_=_[0]);let I=_?.error;if(I&&I.status&&I.message){let A=function(x){let V=x.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(V)>=0?V:R.UNKNOWN}(I.status);c(new H(A,I.message))}else c(new H(R.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new H(R.UNAVAILABLE,"Connection failed."));break;default:oe()}}finally{j(Xe,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);j(Xe,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=xm(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Nm(),c=Mm(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new Sm({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=s.join("");j(Xe,`Creating RPC '${e}' stream ${i}: ${f}`,u);let g=o.createWebChannel(f,u),_=!1,I=!1,A=new Fy({Io:x=>{I?j(Xe,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(_||(j(Xe,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),j(Xe,`RPC '${e}' stream ${i} sending:`,x),g.send(x))},To:()=>g.close()}),M=(x,V,W)=>{x.listen(V,Z=>{try{W(Z)}catch(ge){setTimeout(()=>{throw ge},0)}})};return M(g,Ns.EventType.OPEN,()=>{I||(j(Xe,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),M(g,Ns.EventType.CLOSE,()=>{I||(I=!0,j(Xe,`RPC '${e}' stream ${i} transport closed`),A.So())}),M(g,Ns.EventType.ERROR,x=>{I||(I=!0,ql(Xe,`RPC '${e}' stream ${i} transport errored:`,x),A.So(new H(R.UNAVAILABLE,"The operation could not be completed")))}),M(g,Ns.EventType.MESSAGE,x=>{var V;if(!I){let W=x.data[0];je(!!W);let Z=W,ge=Z.error||((V=Z[0])===null||V===void 0?void 0:V.error);if(ge){j(Xe,`RPC '${e}' stream ${i} received error:`,ge);let ze=ge.status,fe=function(y){let E=Ne[y];if(E!==void 0)return qV(E)}(ze),D=ge.message;fe===void 0&&(fe=R.INTERNAL,D="Unknown error status: "+ze+" with message "+ge.message),I=!0,A.So(new H(fe,D)),g.close()}else j(Xe,`RPC '${e}' stream ${i} received:`,W),A.bo(W)}}),M(c,Rm.STAT_EVENT,x=>{x.stat===Vl.PROXY?j(Xe,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Vl.NOPROXY&&j(Xe,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function Pm(){return typeof document<"u"?document:null}function fd(t){return new ly(t,!0)}var nd=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Vy=class{constructor(e,n,r,i,s,o,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new nd(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return w(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return w(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return w(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(yi(n.toString()),yi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new H(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>w(this,null,function*(){this.state=0,this.start()}))}I_(e){return j("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(j("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var jy=class extends Vy{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return je(!!e.streamToken),this.lastStreamToken=e.streamToken,je(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=JV(e.writeResults,e.commitTime),r=Os(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=QV(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>ZV(this.serializer,r))};this.a_(n)}};var Uy=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new H(R.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,hy(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(R.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Lo(e,hy(n,r),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(R.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},By=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(yi(n),this.D_=!1):j("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var $y=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>w(this,null,function*(){Ha(this)&&(j("RemoteStore","Restarting streams for network reachability change."),yield function(u){return w(this,null,function*(){let l=Ee(u);l.L_.add(4),yield $a(l),l.q_.set("Unknown"),l.L_.delete(4),yield pd(l)})}(this))}))}),this.q_=new By(r,i)}};function pd(t){return w(this,null,function*(){if(Ha(t))for(let e of t.B_)yield e(!0)})}function $a(t){return w(this,null,function*(){for(let e of t.B_)yield e(!1)})}function Ha(t){return Ee(t).L_.size===0}function kT(t,e,n){return w(this,null,function*(){if(!hd(e))throw e;t.L_.add(1),yield $a(t),t.q_.set("Offline"),n||(n=()=>sj(t.localStore)),t.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){j("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield pd(t)}))})}function FT(t,e){return e().catch(n=>kT(t,n,e))}function gd(t){return w(this,null,function*(){let e=Ee(t),n=Cr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;cj(e);)try{let i=yield oj(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,uj(e,i)}catch(i){yield kT(e,i)}LT(e)&&VT(e)})}function cj(t){return Ha(t)&&t.O_.length<10}function uj(t,e){t.O_.push(e);let n=Cr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function LT(t){return Ha(t)&&!Cr(t).n_()&&t.O_.length>0}function VT(t){Cr(t).start()}function lj(t){return w(this,null,function*(){Cr(t).p_()})}function dj(t){return w(this,null,function*(){let e=Cr(t);for(let n of t.O_)e.m_(n.mutations)})}function hj(t,e,n){return w(this,null,function*(){let r=t.O_.shift(),i=cy.from(r,e,n);yield FT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield gd(t)})}function fj(t,e){return w(this,null,function*(){e&&Cr(t).V_&&(yield function(r,i){return w(this,null,function*(){if(function(o){return HV(o)&&o!==R.ABORTED}(i.code)){let s=r.O_.shift();Cr(r).s_(),yield FT(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield gd(r)}})}(t,e)),LT(t)&&VT(t)})}function eT(t,e){return w(this,null,function*(){let n=Ee(t);n.asyncQueue.verifyOperationInProgress(),j("RemoteStore","RemoteStore received new credentials");let r=Ha(n);n.L_.add(3),yield $a(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield pd(n)})}function pj(t,e){return w(this,null,function*(){let n=Ee(t);e?(n.L_.delete(2),yield pd(n)):e||(n.L_.add(2),yield $a(n),n.q_.set("Unknown"))})}function Cr(t){return t.U_||(t.U_=function(n,r,i){let s=Ee(n);return s.w_(),new jy(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:lj.bind(null,t),mo:fj.bind(null,t),f_:dj.bind(null,t),g_:hj.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.U_.s_(),yield gd(t)):(yield t.U_.stop(),t.O_.length>0&&(j("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var Hy=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Vn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,c=new t(e,n,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function jT(t,e){if(yi("AsyncQueue",`${e}: ${t}`),hd(t))return new H(R.UNAVAILABLE,`${e}: ${t}`);throw t}var qy=class{constructor(){this.queries=tT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=Ee(n),s=i.queries;i.queries=tT(),s.forEach((o,c)=>{for(let u of c.j_)u.onError(r)})})(this,new H(R.ABORTED,"Firestore shutting down"))}};function tT(){return new Dr(t=>wT(t),IT)}function gj(t){t.Y_.forEach(e=>{e.next()})}var nT,rT;(rT=nT||(nT={})).ea="default",rT.Cache="cache";var zy=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Dr(c=>wT(c),IT),this.Ma=new Map,this.xa=new Set,this.Oa=new bt(te.comparator),this.Na=new Map,this.La=new Ua,this.Ba={},this.ka=new Map,this.qa=ja.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function mj(t,e,n){return w(this,null,function*(){let r=Ij(t);try{let i=yield function(o,c){let u=Ee(o),l=tt.now(),f=c.reduce((I,A)=>I.add(A.key),et()),g,_;return u.persistence.runTransaction("Locally write mutations","readwrite",I=>{let A=Zl(),M=et();return u.cs.getEntries(I,f).next(x=>{A=x,A.forEach((V,W)=>{W.isValidDocument()||(M=M.add(V))})}).next(()=>u.localDocuments.getOverlayedDocuments(I,A)).next(x=>{g=x;let V=[];for(let W of c){let Z=$V(W,g.get(W.key).overlayedDocument);Z!=null&&V.push(new Bn(W.key,Z,pT(Z.value.mapValue),gi.exists(!0)))}return u.mutationQueue.addMutationBatch(I,l,V,c)}).next(x=>{_=x;let V=x.applyToLocalDocumentSet(g,M);return u.documentOverlayCache.saveOverlays(I,x.batchId,V)})}).then(()=>({batchId:_.batchId,changes:DT(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,c,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new bt(we)),l=l.insert(c,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield md(r,i.changes),yield gd(r.remoteStore)}catch(i){let s=jT(i,"Failed to persist write");n.reject(s)}})}function iT(t,e,n){let r=Ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let c=o.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(o,c){let u=Ee(o);u.onlineState=c;let l=!1;u.queries.forEach((f,g)=>{for(let _ of g.j_)_.Z_(c)&&(l=!0)}),l&&gj(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function yj(t,e){return w(this,null,function*(){let n=Ee(t),r=e.batch.batchId;try{let i=yield ij(n.localStore,e);BT(n,r,null),UT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield md(n,i)}catch(i){yield uT(i)}})}function vj(t,e,n){return w(this,null,function*(){let r=Ee(t);try{let i=yield function(o,c){let u=Ee(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,c).next(g=>(je(g!==null),f=g.keys(),u.mutationQueue.removeMutationBatch(l,g))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})}(r.localStore,e);BT(r,e,n),UT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield md(r,i)}catch(i){yield uT(i)}})}function UT(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function BT(t,e,n){let r=Ee(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function md(t,e,n){return w(this,null,function*(){let r=Ee(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{o.push(r.Ka(u,e,n).then(l=>{var f;if((l||n)&&r.isPrimaryClient){let g=l?!l.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(l){i.push(l);let g=My.Wi(u.targetId,l);s.push(g)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return w(this,null,function*(){let f=Ee(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>N.forEach(l,_=>N.forEach(_.$i,I=>f.persistence.referenceDelegate.addReference(g,_.targetId,I)).next(()=>N.forEach(_.Ui,I=>f.persistence.referenceDelegate.removeReference(g,_.targetId,I)))))}catch(g){if(!hd(g))throw g;j("LocalStore","Failed to update sequence numbers: "+g)}for(let g of l){let _=g.targetId;if(!g.fromCache){let I=f.os.get(_),A=I.snapshotVersion,M=I.withLastLimboFreeSnapshotVersion(A);f.os=f.os.insert(_,M)}}})}(r.localStore,s))})}function _j(t,e){return w(this,null,function*(){let n=Ee(t);if(!n.currentUser.isEqual(e)){j("SyncEngine","User change. New user:",e.toKey());let r=yield OT(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(c=>{c.forEach(u=>{u.reject(new H(R.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield md(n,r.hs)}})}function Ij(t){let e=Ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vj.bind(null,e),e}var rd=class{constructor(){this.synchronizeTabs=!1}initialize(e){return w(this,null,function*(){this.serializer=fd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return rj(this.persistence,new xy,e.initialUser,this.serializer)}createPersistence(e){return new Sy(Ry.Zr,this.serializer)}createSharedClientState(e){return new Oy}terminate(){return w(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Gy=class{initialize(e,n){return w(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>iT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_j.bind(null,this.syncEngine),yield pj(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new qy}()}createDatastore(e){let n=fd(e.databaseInfo.databaseId),r=function(s){return new Ly(s)}(e.databaseInfo);return function(s,o,c,u){return new Uy(s,o,c,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,c){return new $y(r,i,s,o,c)}(this.localStore,this.datastore,e.asyncQueue,n=>iT(this.syncEngine,n,0),function(){return td.D()?new td:new ky}())}createSyncEngine(e,n){return function(i,s,o,c,u,l,f){let g=new zy(i,s,o,c,u,l);return f&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return w(this,null,function*(){var e,n;yield function(i){return w(this,null,function*(){let s=Ee(i);j("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield $a(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var Wy=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=He.UNAUTHENTICATED,this.clientId=Gl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>w(this,null,function*(){j("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(j("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new H(R.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Vn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=jT(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Om(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),j("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield OT(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function sT(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield Ej(t);j("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>eT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>eT(e.remoteStore,i)),t._onlineComponents=e})}function wj(t){return t.name==="FirebaseError"?t.code===R.FAILED_PRECONDITION||t.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function Ej(t){return w(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){j("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Om(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!wj(n))throw n;ql("Error using user provided cache. Falling back to memory cache: "+n),yield Om(t,new rd)}}else j("FirestoreClient","Using default OfflineComponentProvider"),yield Om(t,new rd);return t._offlineComponents})}function Dj(t){return w(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(j("FirestoreClient","Using user provided OnlineComponentProvider"),yield sT(t,t._uninitializedComponentsProvider._online)):(j("FirestoreClient","Using default OnlineComponentProvider"),yield sT(t,new Gy))),t._onlineComponents})}function Cj(t){return Dj(t).then(e=>e.syncEngine)}function $T(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var oT=new Map;function HT(t,e,n){if(!n)throw new H(R.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function bj(t,e,n,r){if(e===!0&&r===!0)throw new H(R.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function aT(t){if(!te.isDocumentKey(t))throw new H(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function cT(t){if(te.isDocumentKey(t))throw new H(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function av(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe()}function qT(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=av(t);throw new H(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var id=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$T((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new H(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new H(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new H(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ks=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new id({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new H(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new H(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new id(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new km;switch(r.type){case"firstParty":return new jm(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=oT.get(n);r&&(j("ComponentProvider","Removing Datastore"),oT.delete(n),r.terminate())}(this),Promise.resolve()}};function zT(t,e,n,r={}){var i;let s=(t=qT(t,Ks))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ql("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=He.MOCK_USER;else{c=fC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new H(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new He(l)}t._authCredentials=new Fm(new zl(c,u))}}var Ky=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},jn=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ir(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Ir=class t extends Ky{constructor(e,n,r){super(e,n,SV(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new jn(this.firestore,null,new te(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function GT(t,e,...n){if(t=gt(t),HT("collection","path",e),t instanceof Ks){let r=Oe.fromString(e,...n);return cT(r),new Ir(t,null,r)}{if(!(t instanceof jn||t instanceof Ir))throw new H(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Oe.fromString(e,...n));return cT(r),new Ir(t.firestore,null,r)}}function WT(t,e,...n){if(t=gt(t),arguments.length===1&&(e=Gl.newId()),HT("doc","path",e),t instanceof Ks){let r=Oe.fromString(e,...n);return aT(r),new jn(t,null,new te(r))}{if(!(t instanceof jn||t instanceof Ir))throw new H(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Oe.fromString(e,...n));return aT(r),new jn(t.firestore,t instanceof Ir?t.converter:null,new te(r))}}var Qy=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new nd(this,"async_queue_retry"),this.Eu=()=>{let n=Pm();n&&j("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=Pm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=Pm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new Vn;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return w(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!hd(e))throw e;j("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw yi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=Hy.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&oe()}verifyOperationInProgress(){}mu(){return w(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};var sd=class extends Ks{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Qy}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||QT(this),this._firestoreClient.terminate()}};function KT(t,e){let n=typeof t=="object"?t:bs(),r=typeof t=="string"?t:e||"(default)",i=_a(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=hC("firestore");s&&zT(i,...s)}return i}function Tj(t){return t._firestoreClient||QT(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function QT(t){var e,n,r;let i=t._freezeSettings(),s=function(c,u,l,f){return new zm(c,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,$T(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Wy(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var od=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Un.fromBase64String(e))}catch(n){throw new H(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var ad=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var cd=class{constructor(e){this._methodName=e}};var ud=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}};var ld=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var Sj=/^__.*__$/,Yy=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Bn(e,this.data,this.fieldMask,n,this.fieldTransforms):new wi(e,this.data,n,this.fieldTransforms)}};function YT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe()}}var Zy=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return dd(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(YT(this.wu)&&Sj.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},Jy=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||fd(e)}Nu(e,n,r,i=!1){return new Zy({wu:e,methodName:n,Ou:r,path:Ct.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Aj(t){let e=t._freezeSettings(),n=fd(t._databaseId);return new Jy(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Rj(t,e,n,r,i,s={}){let o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);e0("Data must be an object, but it was:",o,r);let c=JT(r,o),u,l;if(s.merge)u=new un(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let f=[];for(let g of s.mergeFields){let _=Mj(e,g,n);if(!o.contains(_))throw new H(R.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);Pj(f,_)||f.push(_)}u=new un(f),l=o.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,l=o.fieldTransforms;return new Yy(new cn(c),u,l)}function ZT(t,e){if(XT(t=gt(t)))return e0("Unsupported field value:",e,t),JT(t,e);if(t instanceof cd)return function(r,i){if(!YT(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let c of r){let u=ZT(c,i.Fu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=gt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return LV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=tt.fromDate(r);return{timestampValue:dy(i.serializer,s)}}if(r instanceof tt){let s=new tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dy(i.serializer,s)}}if(r instanceof ud)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof od)return{bytesValue:zV(i.serializer,r._byteString)};if(r instanceof jn){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:xT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ld)return function(o,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw c.Mu("VectorValues must only contain numeric values.");return ov(c.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${av(r)}`)}(t,e)}function JT(t,e){let n={};return lT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ba(t,(r,i)=>{let s=ZT(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function XT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof tt||t instanceof ud||t instanceof od||t instanceof jn||t instanceof cd||t instanceof ld)}function e0(t,e,n){if(!XT(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=av(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function Mj(t,e,n){if((e=gt(e))instanceof ad)return e._internalPath;if(typeof e=="string")return xj(t,e);throw dd("Field path arguments must be of type string or ",t,!1,void 0,n)}var Nj=new RegExp("[~\\*/\\[\\]]");function xj(t,e,n){if(e.search(Nj)>=0)throw dd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ad(...e.split("."))._internalPath}catch{throw dd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dd(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new H(R.INVALID_ARGUMENT,c+t+u)}function Pj(t,e){return t.some(n=>n.isEqual(e))}function Oj(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function t0(t,e){let n=qT(t.firestore,sd),r=WT(t),i=Oj(t.converter,e);return kj(n,[Rj(Aj(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,gi.exists(!1))]).then(()=>r)}function kj(t,e){return function(r,i){let s=new Vn;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return mj(yield Cj(r),i,s)})),s.promise}(Tj(t),e)}(function(e,n=!0){(function(i){Qs=i})(gr),pr(new Pt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),c=new sd(new Lm(r.getProvider("auth-internal")),new Bm(r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new H(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gm(l.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Ve(Bb,"4.7.1",e),Ve(Bb,"4.7.1","esm2017")})();var $n=class{constructor(e){return e}},n0="firestore",cv=class{constructor(){return Ia(n0)}};var uv=new B("angularfire2.firestore-instances");function Fj(t,e){let n=yl(n0,t,e);return n&&new $n(n)}function Lj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new $n(r)}}var Vj={provide:cv,deps:[[new dt,uv]]},jj={provide:$n,useFactory:Fj,deps:[[new dt,uv],xn]};function r0(t,...e){return Ve("angularfire",ai.full,"fst"),en([jj,Vj,{provide:uv,useFactory:Lj(t),multi:!0,deps:[ye,lt,As,ci,[new dt,Ra],[new dt,Ss],...e]}])}var yd=rn(t0,!0);var vd=rn(GT,!0);var i0=rn(KT,!0);var p0=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(ce(zr),ce(ar))},e.\u0275dir=ot({type:e});let t=e;return t})(),Uj=(()=>{let e=class e extends p0{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=cs(e)))(s||e)}})(),e.\u0275dir=ot({type:e,features:[bn]});let t=e;return t})(),g0=new B("");var Bj={provide:g0,useExisting:Hr(()=>eo),multi:!0};function $j(){let t=Sn()?Sn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Hj=new B(""),eo=(()=>{let e=class e extends p0{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!$j())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(ce(zr),ce(ar),ce(Hj,8))},e.\u0275dir=ot({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&$t("input",function(c){return s._handleInput(c.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(c){return s._compositionEnd(c.target.value)})},features:[Ho([Bj]),bn]});let t=e;return t})();function qj(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var dv=new B(""),m0=new B("");function zj(t){return qj(t.value)?{required:!0}:null}function o0(t){return null}function y0(t){return t!=null}function v0(t){return Kr(t)?Ae(t):t}function _0(t){let e={};return t.forEach(n=>{e=n!=null?O(O({},e),n):e}),Object.keys(e).length===0?null:e}function I0(t,e){return e.map(n=>n(t))}function Gj(t){return!t.validate}function w0(t){return t.map(e=>Gj(e)?e:n=>e.validate(n))}function Wj(t){if(!t)return null;let e=t.filter(y0);return e.length==0?null:function(n){return _0(I0(n,e))}}function hv(t){return t!=null?Wj(w0(t)):null}function Kj(t){if(!t)return null;let e=t.filter(y0);return e.length==0?null:function(n){let r=I0(n,e).map(v0);return Nh(r).pipe(ne(_0))}}function fv(t){return t!=null?Kj(w0(t)):null}function a0(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Qj(t){return t._rawValidators}function Yj(t){return t._rawAsyncValidators}function lv(t){return t?Array.isArray(t)?t:[t]:[]}function Id(t,e){return Array.isArray(t)?t.includes(e):t===e}function c0(t,e){let n=lv(e);return lv(t).forEach(i=>{Id(n,i)||n.push(i)}),n}function u0(t,e){return lv(e).filter(n=>!Id(t,n))}var wd=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=hv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=fv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Js=class extends wd{get formDirective(){return null}get path(){return null}},Qa=class extends wd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Ed=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Zj={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},QW=re(O({},Zj),{"[class.ng-submitted]":"isSubmitted"}),Td=(()=>{let e=class e extends Ed{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(ce(Qa,2))},e.\u0275dir=ot({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&$u("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[bn]});let t=e;return t})(),Sd=(()=>{let e=class e extends Ed{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(ce(Js,10))},e.\u0275dir=ot({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&$u("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[bn]});let t=e;return t})();var qa="VALID",_d="INVALID",Ys="PENDING",za="DISABLED",Xs=class{},Dd=class extends Xs{constructor(e,n){super(),this.value=e,this.source=n}},Wa=class extends Xs{constructor(e,n){super(),this.pristine=e,this.source=n}},Ka=class extends Xs{constructor(e,n){super(),this.touched=e,this.source=n}},Zs=class extends Xs{constructor(e,n){super(),this.status=e,this.source=n}};function E0(t){return(Ad(t)?t.validators:t)||null}function Jj(t){return Array.isArray(t)?hv(t):t||null}function D0(t,e){return(Ad(e)?e.asyncValidators:t)||null}function Xj(t){return Array.isArray(t)?fv(t):t||null}function Ad(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function eU(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new $(1e3,"");if(!r[n])throw new $(1001,"")}function tU(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new $(1002,"")})}var Cd=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=qo(()=>this.statusReactive()),this.statusReactive=Uo(void 0),this._pristine=qo(()=>this.pristineReactive()),this.pristineReactive=Uo(!0),this._touched=qo(()=>this.touchedReactive()),this.touchedReactive=Uo(!1),this._events=new Ue,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Tn(this.statusReactive)}set status(e){Tn(()=>this.statusReactive.set(e))}get valid(){return this.status===qa}get invalid(){return this.status===_d}get pending(){return this.status==Ys}get disabled(){return this.status===za}get enabled(){return this.status!==za}get pristine(){return Tn(this.pristineReactive)}set pristine(e){Tn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Tn(this.touchedReactive)}set touched(e){Tn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(c0(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(c0(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(u0(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(u0(e,this._rawAsyncValidators))}hasValidator(e){return Id(this._rawValidators,e)}hasAsyncValidator(e){return Id(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(re(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ka(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ka(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(re(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Wa(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Wa(!0,r))}markAsPending(e={}){this.status=Ys;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Zs(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(re(O({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=za,this.errors=null,this._forEachChild(i=>{i.disable(re(O({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Dd(this.value,r)),this._events.next(new Zs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(re(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=qa,this._forEachChild(r=>{r.enable(re(O({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(re(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===qa||this.status===Ys)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Dd(this.value,n)),this._events.next(new Zs(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(re(O({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?za:qa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Ys,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=v0(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Zs(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Se,this.statusChanges=new Se}_calculateStatus(){return this._allControlsDisabled()?za:this.errors?_d:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ys)?Ys:this._anyControlsHaveStatus(_d)?_d:qa}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Wa(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Ka(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ad(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Jj(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Xj(this._rawAsyncValidators)}},bd=class extends Cd{constructor(e,n,r){super(E0(n),D0(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){tU(this,!0,e),Object.keys(e).forEach(r=>{eU(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var pv=new B("CallSetDisabledState",{providedIn:"root",factory:()=>gv}),gv="always";function nU(t,e){return[...e.path,t]}function C0(t,e,n=gv){b0(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),iU(t,e),oU(t,e),sU(t,e),rU(t,e)}function l0(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function rU(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function b0(t,e){let n=Qj(t);e.validator!==null?t.setValidators(a0(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=Yj(t);e.asyncValidator!==null?t.setAsyncValidators(a0(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();l0(e._rawValidators,i),l0(e._rawAsyncValidators,i)}function iU(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&T0(t,e)})}function sU(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&T0(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function T0(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function oU(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function aU(t,e){t==null,b0(t,e)}function cU(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function uU(t){return Object.getPrototypeOf(t.constructor)===Uj}function lU(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function dU(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===eo?n=s:uU(s)?r=s:i=s}),i||r||n||null}var hU={provide:Js,useExisting:Hr(()=>Ya)},Ga=Promise.resolve(),Ya=(()=>{let e=class e extends Js{get submitted(){return Tn(this.submittedReactive)}constructor(r,i,s){super(),this.callSetDisabledState=s,this._submitted=qo(()=>this.submittedReactive()),this.submittedReactive=Uo(!1),this._directives=new Set,this.ngSubmit=new Se,this.form=new bd({},hv(r),fv(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Ga.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),C0(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Ga.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Ga.then(()=>{let i=this._findContainer(r.path),s=new bd({});aU(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Ga.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Ga.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submittedReactive.set(!0),lU(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(ce(dv,10),ce(m0,10),ce(pv,8))},e.\u0275dir=ot({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&$t("submit",function(c){return s.onSubmit(c)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ho([hU]),bn]});let t=e;return t})();function d0(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function h0(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var fU=class extends Cd{constructor(e=null,n,r){super(E0(n),D0(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ad(n)&&(n.nonNullable||n.initialValueIsDefault)&&(h0(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){d0(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){d0(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){h0(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var pU={provide:Qa,useExisting:Hr(()=>Za)},f0=Promise.resolve(),Za=(()=>{let e=class e extends Qa{constructor(r,i,s,o,c,u){super(),this._changeDetectorRef=c,this.callSetDisabledState=u,this.control=new fU,this._registered=!1,this.name="",this.update=new Se,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=dU(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),cU(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){C0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){f0.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&ur(i);f0.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?nU(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(ce(Js,9),ce(dv,10),ce(m0,10),ce(g0,10),ce(Yr,8),ce(pv,8))},e.\u0275dir=ot({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ho([pU]),bn,sr]});let t=e;return t})(),Rd=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ot({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var gU=(()=>{let e=class e{constructor(){this._validator=o0}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):o0,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ot({type:e,features:[sr]});let t=e;return t})();var mU={provide:dv,useExisting:Hr(()=>Ja),multi:!0};var Ja=(()=>{let e=class e extends gU{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ur,this.createValidator=r=>zj}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=cs(e)))(s||e)}})(),e.\u0275dir=ot({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,s){i&2&&$o("required",s._enabled?"":null)},inputs:{required:"required"},features:[Ho([mU]),bn]});let t=e;return t})();var yU=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ss({type:e}),e.\u0275inj=is({});let t=e;return t})();var Md=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:pv,useValue:r.callSetDisabledState??gv}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ss({type:e}),e.\u0275inj=is({imports:[yU]});let t=e;return t})();var yv=C_(mv());var xd=class t{constructor(e,n,r){this.auth=e;this.router=n;this.firestore=r}usernameLogin="";passLogin="";usuarioLogeado="";mensajeError="";onEnviarUserLogueado=new Se;autocompletar(){this.usernameLogin="marianaquino@hotmail.com",this.passLogin="124Fasfdh!"}login(){Fb(this.auth,this.usernameLogin,this.passLogin).then(e=>{this.mensajeError="",e.user.email!==null&&(this.usuarioLogeado=e.user.email,(0,yv.default)({text:`Bienvenido, ${this.usuarioLogeado}!`,backgroundColor:"linear-gradient(to right, #00b09b, #96c93d)",duration:3e3}).showToast()),console.log("Emitiendo usuario logueado:",this.usuarioLogeado),this.onEnviarUserLogueado.emit(this.usuarioLogeado);let n=vd(this.firestore,"logins"),r={fecha:new Date,user:e.user.email};yd(n,r),setTimeout(()=>{this.router.navigate(["/home"])},3e3)}).catch(e=>{switch(e.code){case"auth/invalid-email":this.mensajeError="Email inv\xE1lido";break;case"auth/user-not-found":this.mensajeError="Usuario no encontrado";break;case"auth/wrong-password":this.mensajeError="Contrase\xF1a incorrecta";break;case"auth/network-request-failed":this.mensajeError="Error de red. Intenta nuevamente.";break;default:this.mensajeError="Error desconocido: "+e.message;break}(0,yv.default)({text:this.mensajeError,backgroundColor:"linear-gradient(to right, #ff5f6d, #ffc371)",duration:3e3}).showToast()})}static \u0275fac=function(n){return new(n||t)(ce(Fn),ce(ri),ce($n))};static \u0275cmp=ht({type:t,selectors:[["app-login-component"]],outputs:{onEnviarUserLogueado:"onEnviarUserLogueado"},standalone:!0,features:[pt],decls:28,vars:2,consts:[[1,"banner"],[1,"main-ingresar"],[1,"login-principal"],[1,"login"],["id","login-form"],["for","username"],["type","text","id","username","name","username","required","",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","required","",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-danger",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"registro"],["routerLink","/registro",1,"btn","btn-danger"],[1,"imagen-ingresar"],["src","assets/img/terminator.jpg","alt","terminator login"]],template:function(n,r){n&1&&(F(0,"section")(1,"div",0)(2,"h2"),U(3,"INGRESAR"),L()()(),F(4,"section")(5,"div",1)(6,"div",2)(7,"div",3)(8,"h3"),U(9,"Ingresa a tu cuenta"),L(),F(10,"form",4)(11,"label",5),U(12,"USUARIO"),L(),F(13,"input",6),Wr("ngModelChange",function(s){return ds(r.usernameLogin,s)||(r.usernameLogin=s),s}),L(),F(14,"label",7),U(15,"CONTRASE\xD1A"),L(),F(16,"input",8),Wr("ngModelChange",function(s){return ds(r.passLogin,s)||(r.passLogin=s),s}),L(),F(17,"button",9),$t("click",function(){return r.login()}),U(18,"INGRESAR"),L(),F(19,"button",10),$t("click",function(){return r.autocompletar()}),U(20,"AUTOCOMPLETAR"),L()()(),F(21,"div",11)(22,"h3"),U(23,"No tenes cuenta?"),L(),F(24,"button",12),U(25,"REGISTRARSE"),L()()(),F(26,"div",13),Ie(27,"img",14),L()()()),n&2&&(Cn(13),Gr("ngModel",r.usernameLogin),Cn(3),Gr("ngModel",r.passLogin))},dependencies:[Es,Md,Rd,eo,Td,Sd,Ja,Za,Ya],styles:[".main-ingresar[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;align-items:center}.login-principal[_ngcontent-%COMP%]{flex:65%;display:flex;flex-direction:column;padding:30px;margin-left:40px}.login[_ngcontent-%COMP%], .registro[_ngcontent-%COMP%]{display:flex;flex-direction:column}.login[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;width:100%}.login[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:10px}.registro[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:30px}.login[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:ubuntu;color:#fff}.login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px;width:40%}.login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:red}.imagen-ingresar[_ngcontent-%COMP%]{flex:35%;display:flex;justify-content:center;align-items:center}.imagen-ingresar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto}"]})};var Pd=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ht({type:t,selectors:[["app-quien-soy-component"]],standalone:!0,features:[pt],decls:58,vars:0,consts:[[1,"banner"],[1,"acerca-de"],[1,"contenedor-izq-img"],["src","assets/img/perfil2.jpg"],[1,"contenedor-derecho-info"],[1,"fas","fa-gamepad"]],template:function(n,r){n&1&&(F(0,"section")(1,"div",0)(2,"h2"),U(3,"ACERCA DE"),L()()(),F(4,"section")(5,"div",1)(6,"div",2),Ie(7,"img",3),L(),F(8,"div",4)(9,"h3"),U(10," Marian N Aquino S "),L(),F(11,"ul")(12,"li"),Ie(13,"i",5),F(14,"p")(15,"b"),U(16,"Nombre Completo:"),L(),U(17," Mariano Nicolas Aquino"),L()(),F(18,"li"),Ie(19,"i",5),F(20,"p")(21,"b"),U(22,"Numero de Legajo:"),L(),U(23," 114392"),L()(),F(24,"li"),Ie(25,"i",5),F(26,"p")(27,"b"),U(28,"Edad:"),L(),U(29," 27 a\xF1os"),L()(),F(30,"li"),Ie(31,"i",5),F(32,"p")(33,"b"),U(34,"Carrera:"),L(),U(35," Tecnicatura Universitaria en Programacion (UTN)"),L()(),F(36,"li"),Ie(37,"i",5),F(38,"p")(39,"b"),U(40,"Materia:"),L(),U(41," Laboratorio IV"),L()(),F(42,"li"),Ie(43,"i",5),F(44,"p")(45,"b"),U(46,"Tecnolog\xEDa utilizada:"),L(),U(47," Angular"),L()(),F(48,"li"),Ie(49,"i",5),F(50,"p")(51,"b"),U(52,"Ubicacion:"),L(),U(53," Buenos Aires, Argentina"),L()()(),F(54,"h3"),U(55," NAME THE SONG "),L(),F(56,"p"),U(57," Lorem ipsum dolor sit amet, consectetur adipisicing elit. Praesentium expedita sint laborum commodi. Delectus magni labore consequuntur. Non, quis magnam. Corporis natus in quia nulla hic deserunt a! Non, voluptatum? Excepturi pariatur dicta architecto totam. Iste quidem odit neque animi iure dignissimos aut expedita earum et est eos, voluptates veritatis, ipsam aperiam ullam distinctio iusto fugit esse maiores sequi officia. Corporis quos eius quasi quidem illo in tenetur aspernatur velit, inventore sed vero incidunt sequi dolores sit odit at, distinctio fuga? Optio pariatur cupiditate sapiente autem, illo amet ad minus. Doloremque reprehenderit pariatur sunt dolor aperiam tempore incidunt velit hic saepe nemo quia qui, adipisci tenetur quisquam, harum, deserunt corporis ipsum. Velit, debitis perspiciatis quibusdam iusto eius tempora ut esse. Commodi, id aspernatur odit hic maiores repudiandae laudantium in impedit praesentium deleniti. Magni fugit ipsa officia repellendus voluptatum! Vero laudantium aliquam nemo hic. Magnam est laboriosam, fugit rerum ipsam amet. Voluptatum ad modi odio blanditiis fugiat quasi aliquam provident, omnis nostrum illo voluptatem quas facilis eveniet nulla unde sed rem repellat, beatae tenetur obcaecati! Totam vel ratione numquam beatae incidunt? "),L()()()())},styles:[".acerca-de[_ngcontent-%COMP%]{display:flex;flex-direction:row}.contenedor-izq-img[_ngcontent-%COMP%]{flex:50%;display:flex}.contenedor-izq-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.contenedor-derecho-info[_ngcontent-%COMP%]{flex:50%;display:flex;flex-direction:column;padding:10px 20px}.contenedor-derecho-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:30px;margin-bottom:30px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;display:flex;align-items:center;margin-bottom:10px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:red;margin-right:10px}"]})};var Od=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ht({type:t,selectors:[["app-page-not-found"]],standalone:!0,features:[pt],decls:2,vars:0,template:function(n,r){n&1&&(F(0,"p"),U(1,"page-not-found works!"),L())}})};var vv=C_(mv());var kd=class t{constructor(e,n,r){this.auth=e;this.router=n;this.firestore=r}nuevoUsername="";nuevaPass="";usuarioLogeado="";mensajeError="";registrarUsuario(){Ob(this.auth,this.nuevoUsername,this.nuevaPass).then(e=>{this.mensajeError="",e.user.email!==null&&(this.usuarioLogeado=e.user.email,(0,vv.default)({text:`Bienvenido, ${this.usuarioLogeado}!`,backgroundColor:"linear-gradient(to right, #00b09b, #96c93d)",duration:3e3}).showToast());let n=vd(this.firestore,"logins"),r={fecha:new Date,user:e.user.email};yd(n,r),setTimeout(()=>{this.router.navigate(["/home"])},3e3)}).catch(e=>{switch(e.code){case"auth/invalid-email":this.mensajeError="Email invalido";break;case"auth/email-already-in-use":this.mensajeError="Email ya en uso";break;case"auth/missing-password":this.mensajeError="Falta la contrase\xF1a";break;case"auth/weak-password":this.mensajeError="La contrase\xF1a es debil";break;default:this.mensajeError=e.code;break}(0,vv.default)({text:this.mensajeError,backgroundColor:"linear-gradient(to right, #ff5f6d, #ffc371)",duration:3e3}).showToast()})}static \u0275fac=function(n){return new(n||t)(ce(Fn),ce(ri),ce($n))};static \u0275cmp=ht({type:t,selectors:[["app-registro"]],standalone:!0,features:[pt],decls:21,vars:2,consts:[[1,"banner"],[1,"main-ingresar"],[1,"registro-principal"],[1,"registro"],["id","registro-form"],["for","username"],["type","text","id","username","name","username","required","",3,"ngModelChange","ngModel"],["for","password"],["type","text","id","password","name","password","required","",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-danger",3,"click"],[1,"imagen-ingresar"],["src","assets/img/terminator.jpg","alt","terminator login"]],template:function(n,r){n&1&&(F(0,"section")(1,"div",0)(2,"h2"),U(3,"REGISTRO"),L()()(),F(4,"section")(5,"div",1)(6,"div",2)(7,"div",3)(8,"h3"),U(9,"Registra tu nueva cuenta"),L(),F(10,"form",4)(11,"label",5),U(12,"USUARIO"),L(),F(13,"input",6),Wr("ngModelChange",function(s){return ds(r.nuevoUsername,s)||(r.nuevoUsername=s),s}),L(),F(14,"label",7),U(15,"CONTRASE\xD1A"),L(),F(16,"input",8),Wr("ngModelChange",function(s){return ds(r.nuevaPass,s)||(r.nuevaPass=s),s}),L(),F(17,"button",9),$t("click",function(){return r.registrarUsuario()}),U(18,"REGISTRAR"),L()()()(),F(19,"div",10),Ie(20,"img",11),L()()()),n&2&&(Cn(13),Gr("ngModel",r.nuevoUsername),Cn(3),Gr("ngModel",r.nuevaPass))},dependencies:[Md,Rd,eo,Td,Sd,Ja,Za,Ya],styles:[".main-ingresar[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;align-items:center}.registro-principal[_ngcontent-%COMP%]{flex:65%;display:flex;flex-direction:column;padding:30px;margin-left:40px}.registro[_ngcontent-%COMP%]{display:flex;flex-direction:column}.registro[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .registro[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;width:100%}.registro[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:30px;margin-bottom:15px}.registro[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:ubuntu;color:#fff}.registro[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px;width:40%}.imagen-ingresar[_ngcontent-%COMP%]{flex:35%;display:flex;justify-content:center;align-items:center}.imagen-ingresar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto}"]})};var R0=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:ll},{path:"login",component:xd},{path:"quien-soy",component:Pd},{path:"registro",component:kd},{path:"**",component:Od}];var M0={providers:[rD({eventCoalescing:!0}),aC(R0),FC(()=>LC({projectId:"tp-labo-iv-marian-aquino",appId:"1:814389571342:web:fcc55f9f15bcfdcfb1f15f",storageBucket:"tp-labo-iv-marian-aquino.appspot.com",apiKey:"AIzaSyD7XRLaevOsCYqoW3WcRIZu6LJbxpYryHM",authDomain:"tp-labo-iv-marian-aquino.firebaseapp.com",messagingSenderId:"814389571342"})),Pb(()=>kb()),r0(()=>i0())]};function vU(t,e){if(t&1&&(F(0,"p"),U(1),L(),F(2,"li",6),U(3,"LOG OUT"),L()),t&2){let n=KE();Cn(),_p(n.usuarioLogueadoGeneral)}}function _U(t,e){t&1&&(F(0,"li",5),U(1,"INGRESAR"),L())}var Fd=class t{title="tp-labo-iv";usuarioLogueadoGeneral="";capturarUsuarioLogueado(e){this.usuarioLogueadoGeneral=e,console.log("Usuario logueado recibido en el componente padre:",e)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ht({type:t,selectors:[["app-root"]],standalone:!0,features:[pt],decls:15,vars:1,consts:[[1,"navbar"],[1,"navbar-izquierda"],["routerLink","home","alt","Logo",1,"logo"],[1,"nav-derecha"],["routerLink","quien-soy"],["routerLink","login"],["routerLink","home"]],template:function(n,r){n&1&&(F(0,"header")(1,"nav",0)(2,"div",1),Ie(3,"img",2),L(),F(4,"ul",3)(5,"li",4),U(6,"ACERCA DE"),L(),vp(7,vU,4,1)(8,_U,2,0,"li",5),L()()(),F(9,"main"),Ie(10,"router-outlet"),L(),F(11,"footer")(12,"div")(13,"p"),U(14,"\xA9 2024 Gaming Fever"),L()()()),n&2&&(Cn(7),GE(r.usuarioLogueadoGeneral!=""?7:8))},dependencies:[lg,Es],styles:['.navbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:#000;background-image:url("./media/black-paper-Q4KM4EFX.png");padding:10px 20px}.navbar-izquierda[_ngcontent-%COMP%]{display:flex;align-items:center}.logo[_ngcontent-%COMP%]{height:70px;margin-right:15px;content:url("./media/logo-white2-E6LUDGO2.png");cursor:pointer}.logo[_ngcontent-%COMP%]:hover{content:url("./media/logo-red2-S5HODTNX.png")}.nav-derecha[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex}.nav-derecha[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:20px;text-decoration:none;color:#fff;font-size:1.05rem;font-family:ubuntu;transition:color .3s ease;cursor:pointer}.nav-derecha[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:red}footer[_ngcontent-%COMP%]{background-color:#000;background-image:url("./media/black-paper-Q4KM4EFX.png");text-align:center;height:70px;padding:20px;width:100%}.copyright[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem}.active-route[_ngcontent-%COMP%]{color:red}']})};CD(Fd,M0).catch(t=>console.error(t));

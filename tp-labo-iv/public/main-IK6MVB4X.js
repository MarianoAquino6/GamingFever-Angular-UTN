var gS=Object.create;var hh=Object.defineProperty,mS=Object.defineProperties,yS=Object.getOwnPropertyDescriptor,vS=Object.getOwnPropertyDescriptors,_S=Object.getOwnPropertyNames,C_=Object.getOwnPropertySymbols,T_=Object.getPrototypeOf,S_=Object.prototype.hasOwnProperty,IS=Object.prototype.propertyIsEnumerable,wS=Reflect.get;var b_=(t,e,n)=>e in t?hh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,k=(t,e)=>{for(var n in e||={})S_.call(e,n)&&b_(t,n,e[n]);if(C_)for(var n of C_(e))IS.call(e,n)&&b_(t,n,e[n]);return t},ie=(t,e)=>mS(t,vS(e));var ES=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var DS=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of _S(e))!S_.call(t,i)&&i!==n&&hh(t,i,{get:()=>e[i],enumerable:!(r=yS(e,i))||r.enumerable});return t};var A_=(t,e,n)=>(n=t!=null?gS(T_(t)):{},DS(e||!t||!t.__esModule?hh(n,"default",{value:t,enumerable:!0}):n,t));var Kn=(t,e,n)=>wS(T_(t),n,e);var w=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{c(n.next(u))}catch(l){i(l)}},o=u=>{try{c(n.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);c((n=n.apply(t,e)).next())});var Iv=ES((xT,Pd)=>{"use strict";(function(t,e){typeof Pd=="object"&&Pd.exports?Pd.exports=e():t.Toastify=e()})(xT,function(t){var e=function(s){return new e.lib.init(s)},n="1.12.0";e.defaults={oldestFirst:!0,text:"Toastify is awesome!",node:void 0,duration:3e3,selector:void 0,callback:function(){},destination:void 0,newWindow:!1,close:!1,gravity:"toastify-top",positionLeft:!1,position:"",backgroundColor:"",avatar:"",className:"",stopOnFocus:!0,onClick:function(){},offset:{x:0,y:0},escapeMarkup:!0,ariaLive:"polite",style:{background:""}},e.lib=e.prototype={toastify:n,constructor:e,init:function(s){return s||(s={}),this.options={},this.toastElement=null,this.options.text=s.text||e.defaults.text,this.options.node=s.node||e.defaults.node,this.options.duration=s.duration===0?0:s.duration||e.defaults.duration,this.options.selector=s.selector||e.defaults.selector,this.options.callback=s.callback||e.defaults.callback,this.options.destination=s.destination||e.defaults.destination,this.options.newWindow=s.newWindow||e.defaults.newWindow,this.options.close=s.close||e.defaults.close,this.options.gravity=s.gravity==="bottom"?"toastify-bottom":e.defaults.gravity,this.options.positionLeft=s.positionLeft||e.defaults.positionLeft,this.options.position=s.position||e.defaults.position,this.options.backgroundColor=s.backgroundColor||e.defaults.backgroundColor,this.options.avatar=s.avatar||e.defaults.avatar,this.options.className=s.className||e.defaults.className,this.options.stopOnFocus=s.stopOnFocus===void 0?e.defaults.stopOnFocus:s.stopOnFocus,this.options.onClick=s.onClick||e.defaults.onClick,this.options.offset=s.offset||e.defaults.offset,this.options.escapeMarkup=s.escapeMarkup!==void 0?s.escapeMarkup:e.defaults.escapeMarkup,this.options.ariaLive=s.ariaLive||e.defaults.ariaLive,this.options.style=s.style||e.defaults.style,s.backgroundColor&&(this.options.style.background=s.backgroundColor),this},buildToast:function(){if(!this.options)throw"Toastify is not initialized";var s=document.createElement("div");s.className="toastify on "+this.options.className,this.options.position?s.className+=" toastify-"+this.options.position:this.options.positionLeft===!0?(s.className+=" toastify-left",console.warn("Property `positionLeft` will be depreciated in further versions. Please use `position` instead.")):s.className+=" toastify-right",s.className+=" "+this.options.gravity,this.options.backgroundColor&&console.warn('DEPRECATION NOTICE: "backgroundColor" is being deprecated. Please use the "style.background" property.');for(var o in this.options.style)s.style[o]=this.options.style[o];if(this.options.ariaLive&&s.setAttribute("aria-live",this.options.ariaLive),this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)s.appendChild(this.options.node);else if(this.options.escapeMarkup?s.innerText=this.options.text:s.innerHTML=this.options.text,this.options.avatar!==""){var c=document.createElement("img");c.src=this.options.avatar,c.className="toastify-avatar",this.options.position=="left"||this.options.positionLeft===!0?s.appendChild(c):s.insertAdjacentElement("afterbegin",c)}if(this.options.close===!0){var u=document.createElement("button");u.type="button",u.setAttribute("aria-label","Close"),u.className="toast-close",u.innerHTML="&#10006;",u.addEventListener("click",(function(M){M.stopPropagation(),this.removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue)}).bind(this));var l=window.innerWidth>0?window.innerWidth:screen.width;(this.options.position=="left"||this.options.positionLeft===!0)&&l>360?s.insertAdjacentElement("afterbegin",u):s.appendChild(u)}if(this.options.stopOnFocus&&this.options.duration>0){var f=this;s.addEventListener("mouseover",function(M){window.clearTimeout(s.timeOutValue)}),s.addEventListener("mouseleave",function(){s.timeOutValue=window.setTimeout(function(){f.removeElement(s)},f.options.duration)})}if(typeof this.options.destination<"u"&&s.addEventListener("click",(function(M){M.stopPropagation(),this.options.newWindow===!0?window.open(this.options.destination,"_blank"):window.location=this.options.destination}).bind(this)),typeof this.options.onClick=="function"&&typeof this.options.destination>"u"&&s.addEventListener("click",(function(M){M.stopPropagation(),this.options.onClick()}).bind(this)),typeof this.options.offset=="object"){var g=r("x",this.options),_=r("y",this.options),I=this.options.position=="left"?g:"-"+g,A=this.options.gravity=="toastify-top"?_:"-"+_;s.style.transform="translate("+I+","+A+")"}return s},showToast:function(){this.toastElement=this.buildToast();var s;if(typeof this.options.selector=="string"?s=document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||typeof ShadowRoot<"u"&&this.options.selector instanceof ShadowRoot?s=this.options.selector:s=document.body,!s)throw"Root element is not defined";var o=e.defaults.oldestFirst?s.firstChild:s.lastChild;return s.insertBefore(this.toastElement,o),e.reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout((function(){this.removeElement(this.toastElement)}).bind(this),this.options.duration)),this},hideToast:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this.removeElement(this.toastElement)},removeElement:function(s){s.className=s.className.replace(" on",""),window.setTimeout((function(){this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),s.parentNode&&s.parentNode.removeChild(s),this.options.callback.call(s),e.reposition()}).bind(this),400)}},e.reposition=function(){for(var s={top:15,bottom:15},o={top:15,bottom:15},c={top:15,bottom:15},u=document.getElementsByClassName("toastify"),l,f=0;f<u.length;f++){i(u[f],"toastify-top")===!0?l="toastify-top":l="toastify-bottom";var g=u[f].offsetHeight;l=l.substr(9,l.length-1);var _=15,I=window.innerWidth>0?window.innerWidth:screen.width;I<=360?(u[f].style[l]=c[l]+"px",c[l]+=g+_):i(u[f],"toastify-left")===!0?(u[f].style[l]=s[l]+"px",s[l]+=g+_):(u[f].style[l]=o[l]+"px",o[l]+=g+_)}return this};function r(s,o){return o.offset[s]?isNaN(o.offset[s])?o.offset[s]:o.offset[s]+"px":"0px"}function i(s,o){return!s||typeof o!="string"?!1:!!(s.className&&s.className.trim().split(/\s+/gi).indexOf(o)>-1)}return e.lib.init.prototype=e.lib,e})});function R_(t,e){return Object.is(t,e)}var ke=null,_c=!1,Ic=1,yn=Symbol("SIGNAL");function ue(t){let e=ke;return ke=t,e}function M_(){return ke}var Co={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function gh(t){if(_c)throw new Error("");if(ke===null)return;ke.consumerOnSignalRead(t);let e=ke.nextProducerIndex++;if(Cc(ke),e<ke.producerNode.length&&ke.producerNode[e]!==t&&Do(ke)){let n=ke.producerNode[e];Dc(n,ke.producerIndexOfThis[e])}ke.producerNode[e]!==t&&(ke.producerNode[e]=t,ke.producerIndexOfThis[e]=Do(ke)?O_(t,ke,e):0),ke.producerLastReadVersion[e]=t.version}function CS(){Ic++}function N_(t){if(!(Do(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ic)){if(!t.producerMustRecompute(t)&&!yh(t)){t.dirty=!1,t.lastCleanEpoch=Ic;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Ic}}function x_(t){if(t.liveConsumerNode===void 0)return;let e=_c;_c=!0;try{for(let n of t.liveConsumerNode)n.dirty||bS(n)}finally{_c=e}}function P_(){return ke?.consumerAllowSignalWrites!==!1}function bS(t){t.dirty=!0,x_(t),t.consumerMarkedDirty?.(t)}function Ec(t){return t&&(t.nextProducerIndex=0),ue(t)}function mh(t,e){if(ue(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Do(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Dc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function yh(t){Cc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(N_(n),r!==n.version))return!0}return!1}function vh(t){if(Cc(t),Do(t))for(let e=0;e<t.producerNode.length;e++)Dc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function O_(t,e,n){if(k_(t),t.liveConsumerNode.length===0&&F_(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=O_(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Dc(t,e){if(k_(t),t.liveConsumerNode.length===1&&F_(t))for(let r=0;r<t.producerNode.length;r++)Dc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Cc(i),i.producerIndexOfThis[r]=e}}function Do(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Cc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function k_(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function F_(t){return t.producerNode!==void 0}function L_(t){let e=Object.create(TS);e.computation=t;let n=()=>{if(N_(e),gh(e),e.value===wc)throw e.error;return e.value};return n[yn]=e,n}var fh=Symbol("UNSET"),ph=Symbol("COMPUTING"),wc=Symbol("ERRORED"),TS=ie(k({},Co),{value:fh,dirty:!0,error:null,equal:R_,producerMustRecompute(t){return t.value===fh||t.value===ph},producerRecomputeValue(t){if(t.value===ph)throw new Error("Detected cycle in computations.");let e=t.value;t.value=ph;let n=Ec(t),r;try{r=t.computation()}catch(i){r=wc,t.error=i}finally{mh(t,n)}if(e!==fh&&e!==wc&&r!==wc&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function SS(){throw new Error}var V_=SS;function j_(){V_()}function U_(t){V_=t}var AS=null;function B_(t){let e=Object.create(H_);e.value=t;let n=()=>(gh(e),e.value);return n[yn]=e,n}function _h(t,e){P_()||j_(),t.equal(t.value,e)||(t.value=e,RS(t))}function $_(t,e){P_()||j_(),_h(t,e(t.value))}var H_=ie(k({},Co),{equal:R_,value:void 0});function RS(t){t.version++,CS(),x_(t),AS?.()}function K(t){return typeof t=="function"}function Si(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var bc=Si(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Mr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Te=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(K(r))try{r()}catch(s){e=s instanceof bc?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{q_(s)}catch(o){e=e??[],o instanceof bc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new bc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)q_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Mr(n,e)}remove(e){let{_finalizers:n}=this;n&&Mr(n,e),e instanceof t&&e._removeParent(this)}};Te.EMPTY=(()=>{let t=new Te;return t.closed=!0,t})();var Ih=Te.EMPTY;function Tc(t){return t instanceof Te||t&&"closed"in t&&K(t.remove)&&K(t.add)&&K(t.unsubscribe)}function q_(t){K(t)?t():t.unsubscribe()}var Vt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ai={setTimeout(t,e,...n){let{delegate:r}=Ai;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ai;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Sc(t){Ai.setTimeout(()=>{let{onUnhandledError:e}=Vt;if(e)e(t);else throw t})}function bo(){}var z_=wh("C",void 0,void 0);function G_(t){return wh("E",void 0,t)}function W_(t){return wh("N",t,void 0)}function wh(t,e,n){return{kind:t,value:e,error:n}}var Nr=null;function Ri(t){if(Vt.useDeprecatedSynchronousErrorHandling){let e=!Nr;if(e&&(Nr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Nr;if(Nr=null,n)throw r}}else t()}function K_(t){Vt.useDeprecatedSynchronousErrorHandling&&Nr&&(Nr.errorThrown=!0,Nr.error=t)}var xr=class extends Te{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Tc(e)&&e.add(this)):this.destination=xS}static create(e,n,r){return new Mi(e,n,r)}next(e){this.isStopped?Dh(W_(e),this):this._next(e)}error(e){this.isStopped?Dh(G_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Dh(z_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},MS=Function.prototype.bind;function Eh(t,e){return MS.call(t,e)}var Ch=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ac(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ac(r)}else Ac(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ac(n)}}},Mi=class extends xr{constructor(e,n,r){super();let i;if(K(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Vt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Eh(e.next,s),error:e.error&&Eh(e.error,s),complete:e.complete&&Eh(e.complete,s)}):i=e}this.destination=new Ch(i)}};function Ac(t){Vt.useDeprecatedSynchronousErrorHandling?K_(t):Sc(t)}function NS(t){throw t}function Dh(t,e){let{onStoppedNotification:n}=Vt;n&&Ai.setTimeout(()=>n(t,e))}var xS={closed:!0,next:bo,error:NS,complete:bo};var Ni=typeof Symbol=="function"&&Symbol.observable||"@@observable";function yt(t){return t}function bh(...t){return Th(t)}function Th(t){return t.length===0?yt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var le=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=OS(n)?n:new Mi(n,r,i);return Ri(()=>{let{operator:o,source:c}=this;s.add(o?o.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Q_(r),new r((i,s)=>{let o=new Mi({next:c=>{try{n(c)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ni](){return this}pipe(...n){return Th(n)(this)}toPromise(n){return n=Q_(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Q_(t){var e;return(e=t??Vt.Promise)!==null&&e!==void 0?e:Promise}function PS(t){return t&&K(t.next)&&K(t.error)&&K(t.complete)}function OS(t){return t&&t instanceof xr||PS(t)&&Tc(t)}function Sh(t){return K(t?.lift)}function de(t){return e=>{if(Sh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function se(t,e,n,r,i){return new Ah(t,e,n,r,i)}var Ah=class extends xr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function xi(){return de((t,e)=>{let n=null;t._refCount++;let r=se(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Pi=class extends le{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Sh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Te;let n=this.getSubject();e.add(this.source.subscribe(se(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Te.EMPTY)}return e}refCount(){return xi()(this)}};var Y_=Si(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Be=(()=>{class t extends le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Rc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Y_}next(n){Ri(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ri(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ri(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Ih:(this.currentObservers=null,s.push(n),new Te(()=>{this.currentObservers=null,Mr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new le;return n.source=this,n}}return t.create=(e,n)=>new Rc(e,n),t})(),Rc=class extends Be{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Ih}};var Fe=class extends Be{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Rh={now(){return(Rh.delegate||Date).now()},delegate:void 0};var Mc=class extends Te{constructor(e,n){super()}schedule(e,n=0){return this}};var To={setInterval(t,e,...n){let{delegate:r}=To;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=To;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Oi=class extends Mc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return To.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&To.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Mr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ki=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};ki.now=Rh.now;var Fi=class extends ki{constructor(e,n=ki.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Mh=new Fi(Oi);var Nc=class extends Oi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var xc=class extends Fi{};var Nh=new xc(Nc);var vt=new le(t=>t.complete());function Z_(t){return t&&K(t.schedule)}function J_(t){return t[t.length-1]}function Pc(t){return K(J_(t))?t.pop():void 0}function Qn(t){return Z_(J_(t))?t.pop():void 0}function xh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function eI(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(f){try{l(r.next(f))}catch(g){o(g)}}function u(f){try{l(r.throw(f))}catch(g){o(g)}}function l(f){f.done?s(f.value):i(f.value).then(c,u)}l((r=r.apply(t,e||[])).next())})}function X_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pr(t){return this instanceof Pr?(this.v=t,this):new Pr(t)}function tI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(I){return function(A){return Promise.resolve(A).then(I,g)}}function c(I,A){r[I]&&(i[I]=function(M){return new Promise(function(x,j){s.push([I,M,x,j])>1||u(I,M)})},A&&(i[I]=A(i[I])))}function u(I,A){try{l(r[I](A))}catch(M){_(s[0][3],M)}}function l(I){I.value instanceof Pr?Promise.resolve(I.value.v).then(f,g):_(s[0][2],I)}function f(I){u("next",I)}function g(I){u("throw",I)}function _(I,A){I(A),s.shift(),s.length&&u(s[0][0],s[0][1])}}function nI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof X_=="function"?X_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(c,u){o=t[s](o),i(c,u,o.done,o.value)})}}function i(s,o,c,u){Promise.resolve(u).then(function(l){s({value:l,done:c})},o)}}var Oc=t=>t&&typeof t.length=="number"&&typeof t!="function";function kc(t){return K(t?.then)}function Fc(t){return K(t[Ni])}function Lc(t){return Symbol.asyncIterator&&K(t?.[Symbol.asyncIterator])}function Vc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function kS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var jc=kS();function Uc(t){return K(t?.[jc])}function Bc(t){return tI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Pr(n.read());if(i)return yield Pr(void 0);yield yield Pr(r)}}finally{n.releaseLock()}})}function $c(t){return K(t?.getReader)}function Me(t){if(t instanceof le)return t;if(t!=null){if(Fc(t))return FS(t);if(Oc(t))return LS(t);if(kc(t))return VS(t);if(Lc(t))return rI(t);if(Uc(t))return jS(t);if($c(t))return US(t)}throw Vc(t)}function FS(t){return new le(e=>{let n=t[Ni]();if(K(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function LS(t){return new le(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function VS(t){return new le(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Sc)})}function jS(t){return new le(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function rI(t){return new le(e=>{BS(t,e).catch(n=>e.error(n))})}function US(t){return rI(Bc(t))}function BS(t,e){var n,r,i,s;return eI(this,void 0,void 0,function*(){try{for(n=nI(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function ct(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Yn(t,e=0){return de((n,r)=>{n.subscribe(se(r,i=>ct(r,t,()=>r.next(i),e),()=>ct(r,t,()=>r.complete(),e),i=>ct(r,t,()=>r.error(i),e)))})}function Zn(t,e=0){return de((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function iI(t,e){return Me(t).pipe(Zn(e),Yn(e))}function sI(t,e){return Me(t).pipe(Zn(e),Yn(e))}function oI(t,e){return new le(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function aI(t,e){return new le(n=>{let r;return ct(n,e,()=>{r=t[jc](),ct(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>K(r?.return)&&r.return()})}function Hc(t,e){if(!t)throw new Error("Iterable cannot be null");return new le(n=>{ct(n,e,()=>{let r=t[Symbol.asyncIterator]();ct(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function cI(t,e){return Hc(Bc(t),e)}function uI(t,e){if(t!=null){if(Fc(t))return iI(t,e);if(Oc(t))return oI(t,e);if(kc(t))return sI(t,e);if(Lc(t))return Hc(t,e);if(Uc(t))return aI(t,e);if($c(t))return cI(t,e)}throw Vc(t)}function Ae(t,e){return e?uI(t,e):Me(t)}function Q(...t){let e=Qn(t);return Ae(t,e)}function Li(t,e){let n=K(t)?t:()=>t,r=i=>i.error(n());return new le(e?i=>e.schedule(r,0,i):r)}function Ph(t){return!!t&&(t instanceof le||K(t.lift)&&K(t.subscribe))}var vn=Si(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function re(t,e){return de((n,r)=>{let i=0;n.subscribe(se(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:$S}=Array;function HS(t,e){return $S(e)?t(...e):t(e)}function qc(t){return re(e=>HS(t,e))}var{isArray:qS}=Array,{getPrototypeOf:zS,prototype:GS,keys:WS}=Object;function zc(t){if(t.length===1){let e=t[0];if(qS(e))return{args:e,keys:null};if(KS(e)){let n=WS(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function KS(t){return t&&typeof t=="object"&&zS(t)===GS}function Gc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Wc(...t){let e=Qn(t),n=Pc(t),{args:r,keys:i}=zc(t);if(r.length===0)return Ae([],e);let s=new le(QS(r,e,i?o=>Gc(i,o):yt));return n?s.pipe(qc(n)):s}function QS(t,e,n=yt){return r=>{lI(e,()=>{let{length:i}=t,s=new Array(i),o=i,c=i;for(let u=0;u<i;u++)lI(e,()=>{let l=Ae(t[u],e),f=!1;l.subscribe(se(r,g=>{s[u]=g,f||(f=!0,c--),c||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function lI(t,e,n){t?ct(n,t,e):e()}function dI(t,e,n,r,i,s,o,c){let u=[],l=0,f=0,g=!1,_=()=>{g&&!u.length&&!l&&e.complete()},I=M=>l<r?A(M):u.push(M),A=M=>{s&&e.next(M),l++;let x=!1;Me(n(M,f++)).subscribe(se(e,j=>{i?.(j),s?I(j):e.next(j)},()=>{x=!0},void 0,()=>{if(x)try{for(l--;u.length&&l<r;){let j=u.shift();o?ct(e,o,()=>A(j)):A(j)}_()}catch(j){e.error(j)}}))};return t.subscribe(se(e,I,()=>{g=!0,_()})),()=>{c?.()}}function Le(t,e,n=1/0){return K(e)?Le((r,i)=>re((s,o)=>e(r,s,i,o))(Me(t(r,i))),n):(typeof e=="number"&&(n=e),de((r,i)=>dI(r,i,t,n)))}function Oh(t=1/0){return Le(yt,t)}function hI(){return Oh(1)}function Vi(...t){return hI()(Ae(t,Qn(t)))}function Kc(t){return new le(e=>{Me(t()).subscribe(e)})}function kh(...t){let e=Pc(t),{args:n,keys:r}=zc(t),i=new le(s=>{let{length:o}=n;if(!o){s.complete();return}let c=new Array(o),u=o,l=o;for(let f=0;f<o;f++){let g=!1;Me(n[f]).subscribe(se(s,_=>{g||(g=!0,l--),c[f]=_},()=>u--,void 0,()=>{(!u||!g)&&(l||s.next(r?Gc(r,c):c),s.complete())}))}});return e?i.pipe(qc(e)):i}function jt(t,e){return de((n,r)=>{let i=0;n.subscribe(se(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Jn(t){return de((e,n)=>{let r=null,i=!1,s;r=e.subscribe(se(n,void 0,void 0,o=>{s=Me(t(o,Jn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function fI(t,e,n,r,i){return(s,o)=>{let c=n,u=e,l=0;s.subscribe(se(o,f=>{let g=l++;u=c?t(u,f,g):(c=!0,f),r&&o.next(u)},i&&(()=>{c&&o.next(u),o.complete()})))}}function ji(t,e){return K(e)?Le(t,e,1):Le(t,1)}function Xn(t){return de((e,n)=>{let r=!1;e.subscribe(se(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function _n(t){return t<=0?()=>vt:de((e,n)=>{let r=0;e.subscribe(se(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Fh(t){return re(()=>t)}function Qc(t=YS){return de((e,n)=>{let r=!1;e.subscribe(se(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function YS(){return new vn}function So(t){return de((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Wt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?jt((i,s)=>t(i,s,r)):yt,_n(1),n?Xn(e):Qc(()=>new vn))}function Ui(t){return t<=0?()=>vt:de((e,n)=>{let r=[];e.subscribe(se(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Lh(t,e){let n=arguments.length>=2;return r=>r.pipe(t?jt((i,s)=>t(i,s,r)):yt,Ui(1),n?Xn(e):Qc(()=>new vn))}function Vh(t,e){return de(fI(t,e,arguments.length>=2,!0))}function jh(...t){let e=Qn(t);return de((n,r)=>{(e?Vi(t,n,e):Vi(t,n)).subscribe(r)})}function Ut(t,e){return de((n,r)=>{let i=null,s=0,o=!1,c=()=>o&&!i&&r.complete();n.subscribe(se(r,u=>{i?.unsubscribe();let l=0,f=s++;Me(t(u,f)).subscribe(i=se(r,g=>r.next(e?e(u,g,f,l++):g),()=>{i=null,c()}))},()=>{o=!0,c()}))})}function Uh(t){return de((e,n)=>{Me(t).subscribe(se(n,()=>n.complete(),bo)),!n.closed&&e.subscribe(n)})}function Ve(t,e,n){let r=K(t)||e||n?{next:t,error:e,complete:n}:t;return r?de((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let c=!0;i.subscribe(se(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):yt}var ZI="https://g.co/ng/security#xss",$=class extends Error{constructor(e,n){super(Uf(e,n)),this.code=e}};function Uf(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Vo(t){return{toString:t}.toString()}var Yc="__parameters__";function ZS(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function JS(t,e,n){return Vo(()=>{let r=ZS(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return c.annotation=o,c;function c(u,l,f){let g=u.hasOwnProperty(Yc)?u[Yc]:Object.defineProperty(u,Yc,{value:[]})[Yc];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var ef=globalThis;function Ie(t){for(let e in t)if(t[e]===Ie)return e;throw Error("Could not find renamed property on target object.")}function XS(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ut(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ut).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function pI(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var eA=Ie({__forward_ref__:Ie});function qr(t){return t.__forward_ref__=qr,t.toString=function(){return ut(this())},t}function it(t){return JI(t)?t():t}function JI(t){return typeof t=="function"&&t.hasOwnProperty(eA)&&t.__forward_ref__===qr}function q(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ss(t){return{providers:t.providers||[],imports:t.imports||[]}}function Mu(t){return gI(t,ew)||gI(t,tw)}function XI(t){return Mu(t)!==null}function gI(t,e){return t.hasOwnProperty(e)?t[e]:null}function tA(t){let e=t&&(t[ew]||t[tw]);return e||null}function mI(t){return t&&(t.hasOwnProperty(yI)||t.hasOwnProperty(nA))?t[yI]:null}var ew=Ie({\u0275prov:Ie}),yI=Ie({\u0275inj:Ie}),tw=Ie({ngInjectableDef:Ie}),nA=Ie({ngInjectorDef:Ie}),B=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=q({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function nw(t){return t&&!!t.\u0275providers}var rA=Ie({\u0275cmp:Ie}),iA=Ie({\u0275dir:Ie}),sA=Ie({\u0275pipe:Ie}),oA=Ie({\u0275mod:Ie}),ou=Ie({\u0275fac:Ie}),Mo=Ie({__NG_ELEMENT_ID__:Ie}),vI=Ie({__NG_ENV_ID__:Ie});function Nu(t){return typeof t=="string"?t:t==null?"":String(t)}function aA(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Nu(t)}function cA(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new $(-200,t)}function Bf(t,e){throw new $(-201,!1)}var X=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(X||{}),tf;function rw(){return tf}function St(t){let e=tf;return tf=t,e}function iw(t,e,n){let r=Mu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&X.Optional)return null;if(e!==void 0)return e;Bf(t,"Injector")}var uA={},No=uA,nf="__NG_DI_FLAG__",au="ngTempTokenPath",lA="ngTokenPath",dA=/\n/gm,hA="\u0275",_I="__source",qi;function fA(){return qi}function er(t){let e=qi;return qi=t,e}function pA(t,e=X.Default){if(qi===void 0)throw new $(-203,!1);return qi===null?iw(t,void 0,e):qi.get(t,e&X.Optional?null:void 0,e)}function te(t,e=X.Default){return(rw()||pA)(it(t),e)}function L(t,e=X.Default){return te(t,xu(e))}function xu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function rf(t){let e=[];for(let n=0;n<t.length;n++){let r=it(t[n]);if(Array.isArray(r)){if(r.length===0)throw new $(900,!1);let i,s=X.Default;for(let o=0;o<r.length;o++){let c=r[o],u=mA(c);typeof u=="number"?u===-1?i=c.token:s|=u:i=c}e.push(te(i,s))}else e.push(te(r))}return e}function gA(t,e){return t[nf]=e,t.prototype[nf]=e,t}function mA(t){return t[nf]}function yA(t,e,n,r){let i=t[au];throw e[_I]&&i.unshift(e[_I]),t.message=vA(`
`+t.message,i,n,r),t[lA]=i,t[au]=null,t}function vA(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==hA?t.slice(2):t;let i=ut(e);if(Array.isArray(e))i=e.map(ut).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let c=e[o];s.push(o+":"+(typeof c=="string"?JSON.stringify(c):ut(c)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(dA,`
  `)}`}var dt=gA(JS("Optional"),8);function Gi(t,e){let n=t.hasOwnProperty(ou);return n?t[ou]:null}function $f(t,e){t.forEach(n=>Array.isArray(n)?$f(n,e):e(n))}function sw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function cu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function _A(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function IA(t,e,n){let r=jo(t,e);return r>=0?t[r|1]=n:(r=~r,_A(t,r,e,n)),r}function Bh(t,e){let n=jo(t,e);if(n>=0)return t[n|1]}function jo(t,e){return wA(t,e,1)}function wA(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Wi={},At=[],Ki=new B(""),ow=new B("",-1),aw=new B(""),uu=class{get(e,n=No){if(n===No){let r=new Error(`NullInjectorError: No provider for ${ut(e)}!`);throw r.name="NullInjectorError",r}return n}},cw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(cw||{}),Yt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Yt||{}),rr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(rr||{});function EA(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function sf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],c=n[r++];t.setAttribute(e,o,c,s)}else{let s=i,o=n[++r];DA(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function uw(t){return t===3||t===4||t===6}function DA(t){return t.charCodeAt(0)===64}function xo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?II(t,n,i,null,e[++r]):II(t,n,i,null,null))}}return t}function II(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let c=t[s++];if(typeof c=="number"){if(c===e){o=-1;break}else if(c>e){o=s-1;break}}}for(;s<t.length;){let c=t[s];if(typeof c=="number")break;if(c===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var lw="ng-template";function CA(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&EA(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Hf(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Hf(t){return t.type===4&&t.value!==lw}function bA(t,e,n){let r=t.type===4&&!n?lw:t.value;return e===r}function TA(t,e,n){let r=4,i=t.attrs,s=i!==null?RA(i):0,o=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!o&&!Bt(r)&&!Bt(u))return!1;if(o&&Bt(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!bA(t,u,n)||u===""&&e.length===1){if(Bt(r))return!1;o=!0}}else if(r&8){if(i===null||!CA(t,i,u,n)){if(Bt(r))return!1;o=!0}}else{let l=e[++c],f=SA(u,i,Hf(t),n);if(f===-1){if(Bt(r))return!1;o=!0;continue}if(l!==""){let g;if(f>s?g="":g=i[f+1].toLowerCase(),r&2&&l!==g){if(Bt(r))return!1;o=!0}}}}return Bt(r)||o}function Bt(t){return(t&1)===0}function SA(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return MA(e,t)}function AA(t,e,n=!1){for(let r=0;r<e.length;r++)if(TA(t,e[r],n))return!0;return!1}function RA(t){for(let e=0;e<t.length;e++){let n=t[e];if(uw(n))return e}return t.length}function MA(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function wI(t,e){return t?":not("+e.trim()+")":e}function NA(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let c=t[++n];i+="["+o+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Bt(o)&&(e+=wI(s,i),i=""),r=o,s=s||!Bt(r);n++}return i!==""&&(e+=wI(s,i)),e}function xA(t){return t.map(NA).join(",")}function PA(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Bt(i))break;i=s}r++}return{attrs:e,classes:n}}function ht(t){return Vo(()=>{let e=gw(t),n=ie(k({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===cw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Yt.Emulated,styles:t.styles||At,_:null,schemas:t.schemas||null,tView:null,id:""});mw(n);let r=t.dependencies;return n.directiveDefs=DI(r,!1),n.pipeDefs=DI(r,!0),n.id=FA(n),n})}function OA(t){return Lr(t)||dw(t)}function kA(t){return t!==null}function os(t){return Vo(()=>({type:t.type,bootstrap:t.bootstrap||At,declarations:t.declarations||At,imports:t.imports||At,exports:t.exports||At,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function EI(t,e){if(t==null)return Wi;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,c=rr.None;Array.isArray(i)?(c=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=c!==rr.None?[r,c]:r,e[s]=o):n[s]=r}return n}function ot(t){return Vo(()=>{let e=gw(t);return mw(e),e})}function Lr(t){return t[rA]||null}function dw(t){return t[iA]||null}function hw(t){return t[sA]||null}function fw(t){let e=Lr(t)||dw(t)||hw(t);return e!==null?e.standalone:!1}function pw(t,e){let n=t[oA]||null;if(!n&&e===!0)throw new Error(`Type ${ut(t)} does not have '\u0275mod' property.`);return n}function gw(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Wi,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||At,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:EI(t.inputs,e),outputs:EI(t.outputs),debugInfo:null}}function mw(t){t.features?.forEach(e=>e(t))}function DI(t,e){if(!t)return null;let n=e?hw:OA;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(kA)}function FA(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function tn(t){return{\u0275providers:t}}function LA(...t){return{\u0275providers:yw(!0,t),\u0275fromNgModule:!0}}function yw(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return $f(e,o=>{let c=o;of(c,s,[],r)&&(i||=[],i.push(c))}),i!==void 0&&vw(i,s),n}function vw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];qf(i,s=>{e(s,r)})}}function of(t,e,n,r){if(t=it(t),!t)return!1;let i=null,s=mI(t),o=!s&&Lr(t);if(!s&&!o){let u=t.ngModule;if(s=mI(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let c=r.has(i);if(o){if(c)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)of(l,e,n,r)}}else if(s){if(s.imports!=null&&!c){r.add(i);let l;try{$f(s.imports,f=>{of(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&vw(l,e)}if(!c){let l=Gi(i)||(()=>new i);e({provide:i,useFactory:l,deps:At},i),e({provide:aw,useValue:i,multi:!0},i),e({provide:Ki,useValue:()=>te(i),multi:!0},i)}let u=s.providers;if(u!=null&&!c){let l=t;qf(u,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function qf(t,e){for(let n of t)nw(n)&&(n=n.\u0275providers),Array.isArray(n)?qf(n,e):e(n)}var VA=Ie({provide:String,useValue:Ie});function _w(t){return t!==null&&typeof t=="object"&&VA in t}function jA(t){return!!(t&&t.useExisting)}function UA(t){return!!(t&&t.useFactory)}function Qi(t){return typeof t=="function"}function BA(t){return!!t.useClass}var Pu=new B(""),tu={},$A={},$h;function zf(){return $h===void 0&&($h=new uu),$h}var Mt=class{},Po=class extends Mt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,cf(e,o=>this.processProvider(o)),this.records.set(ow,Bi(void 0,this)),i.has("environment")&&this.records.set(Mt,Bi(void 0,this));let s=this.records.get(Pu);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(aw,At,X.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ue(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ue(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=er(this),r=St(void 0),i;try{return e()}finally{er(n),St(r)}}get(e,n=No,r=X.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(vI))return e[vI](this);r=xu(r);let i,s=er(this),o=St(void 0);try{if(!(r&X.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=WA(e)&&Mu(e);l&&this.injectableDefInScope(l)?u=Bi(af(e),tu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&X.Self?zf():this.parent;return n=r&X.Optional&&n===No?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[au]=c[au]||[]).unshift(ut(e)),s)throw c;return yA(c,e,"R3InjectorError",this.source)}else throw c}finally{St(o),er(s)}}resolveInjectorInitializers(){let e=ue(null),n=er(this),r=St(void 0),i;try{let s=this.get(Ki,At,X.Self);for(let o of s)o()}finally{er(n),St(r),ue(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ut(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $(205,!1)}processProvider(e){e=it(e);let n=Qi(e)?e:it(e&&e.provide),r=qA(e);if(!Qi(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Bi(void 0,tu,!0),i.factory=()=>rf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ue(null);try{return n.value===tu&&(n.value=$A,n.value=n.factory()),typeof n.value=="object"&&n.value&&GA(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ue(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=it(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function af(t){let e=Mu(t),n=e!==null?e.factory:Gi(t);if(n!==null)return n;if(t instanceof B)throw new $(204,!1);if(t instanceof Function)return HA(t);throw new $(204,!1)}function HA(t){if(t.length>0)throw new $(204,!1);let n=tA(t);return n!==null?()=>n.factory(t):()=>new t}function qA(t){if(_w(t))return Bi(void 0,t.useValue);{let e=Iw(t);return Bi(e,tu)}}function Iw(t,e,n){let r;if(Qi(t)){let i=it(t);return Gi(i)||af(i)}else if(_w(t))r=()=>it(t.useValue);else if(UA(t))r=()=>t.useFactory(...rf(t.deps||[]));else if(jA(t))r=()=>te(it(t.useExisting));else{let i=it(t&&(t.useClass||t.provide));if(zA(t))r=()=>new i(...rf(t.deps));else return Gi(i)||af(i)}return r}function Bi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function zA(t){return!!t.deps}function GA(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function WA(t){return typeof t=="function"||typeof t=="object"&&t instanceof B}function cf(t,e){for(let n of t)Array.isArray(n)?cf(n,e):n&&nw(n)?cf(n.\u0275providers,e):e(n)}function Dn(t,e){t instanceof Po&&t.assertNotDestroyed();let n,r=er(t),i=St(void 0);try{return e()}finally{er(r),St(i)}}function KA(){return rw()!==void 0||fA()!=null}function QA(t){return typeof t=="function"}var Cn=0,ee=1,G=2,st=3,$t=4,Ht=5,lu=6,du=7,Nt=8,Yi=9,Zt=10,$e=11,Oo=12,CI=13,as=14,Jt=15,Zi=16,$i=17,Ji=18,Ou=19,ww=20,tr=21,Hh=22,Rt=23,Xt=25,Ew=1;var Vr=7,hu=8,fu=9,_t=10,pu=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(pu||{});function nr(t){return Array.isArray(t)&&typeof t[Ew]=="object"}function bn(t){return Array.isArray(t)&&t[Ew]===!0}function Dw(t){return(t.flags&4)!==0}function ku(t){return t.componentOffset>-1}function Gf(t){return(t.flags&1)===1}function ir(t){return!!t.template}function uf(t){return(t[G]&512)!==0}var lf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Cw(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function or(){return bw}function bw(t){return t.type.prototype.ngOnChanges&&(t.setInput=ZA),YA}or.ngInherit=!0;function YA(){let t=Sw(this),e=t?.current;if(e){let n=t.previous;if(n===Wi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function ZA(t,e,n,r,i){let s=this.declaredInputs[r],o=Sw(t)||JA(t,{previous:Wi,current:null}),c=o.current||(o.current={}),u=o.previous,l=u[s];c[s]=new lf(l&&l.currentValue,n,u===Wi),Cw(t,e,i,n)}var Tw="__ngSimpleChanges__";function Sw(t){return t[Tw]||null}function JA(t,e){return t[Tw]=e}var bI=null;var Kt=function(t,e,n){bI?.(t,e,n)},XA="svg",eR="math";function en(t){for(;Array.isArray(t);)t=t[Cn];return t}function Aw(t,e){return en(e[t])}function xt(t,e){return en(e[t.index])}function Wf(t,e){return t.data[e]}function ar(t,e){let n=e[t];return nr(n)?n:n[Cn]}function Kf(t){return(t[G]&128)===128}function tR(t){return bn(t[st])}function gu(t,e){return e==null?null:t[e]}function Rw(t){t[$i]=0}function Mw(t){t[G]&1024||(t[G]|=1024,Kf(t)&&Lu(t))}function nR(t,e){for(;t>0;)e=e[as],t--;return e}function Fu(t){return!!(t[G]&9216||t[Rt]?.dirty)}function df(t){t[Zt].changeDetectionScheduler?.notify(8),t[G]&64&&(t[G]|=1024),Fu(t)&&Lu(t)}function Lu(t){t[Zt].changeDetectionScheduler?.notify(0);let e=jr(t);for(;e!==null&&!(e[G]&8192||(e[G]|=8192,!Kf(e)));)e=jr(e)}function Nw(t,e){if((t[G]&256)===256)throw new $(911,!1);t[tr]===null&&(t[tr]=[]),t[tr].push(e)}function rR(t,e){if(t[tr]===null)return;let n=t[tr].indexOf(e);n!==-1&&t[tr].splice(n,1)}function jr(t){let e=t[st];return bn(e)?e[st]:e}var oe={lFrame:$w(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var xw=!1;function iR(){return oe.lFrame.elementDepthCount}function sR(){oe.lFrame.elementDepthCount++}function oR(){oe.lFrame.elementDepthCount--}function Pw(){return oe.bindingsEnabled}function aR(){return oe.skipHydrationRootTNode!==null}function cR(t){return oe.skipHydrationRootTNode===t}function uR(){oe.skipHydrationRootTNode=null}function Ce(){return oe.lFrame.lView}function Pt(){return oe.lFrame.tView}function Ow(t){return oe.lFrame.contextLView=t,t[Nt]}function kw(t){return oe.lFrame.contextLView=null,t}function ft(){let t=Fw();for(;t!==null&&t.type===64;)t=t.parent;return t}function Fw(){return oe.lFrame.currentTNode}function lR(){let t=oe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Uo(t,e){let n=oe.lFrame;n.currentTNode=t,n.isParent=e}function Lw(){return oe.lFrame.isParent}function dR(){oe.lFrame.isParent=!1}function Vw(){return xw}function TI(t){xw=t}function hR(t){return oe.lFrame.bindingIndex=t}function Vu(){return oe.lFrame.bindingIndex++}function fR(t){let e=oe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function pR(){return oe.lFrame.inI18n}function gR(t,e){let n=oe.lFrame;n.bindingIndex=n.bindingRootIndex=t,hf(e)}function mR(){return oe.lFrame.currentDirectiveIndex}function hf(t){oe.lFrame.currentDirectiveIndex=t}function yR(t){let e=oe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function jw(t){oe.lFrame.currentQueryIndex=t}function vR(t){let e=t[ee];return e.type===2?e.declTNode:e.type===1?t[Ht]:null}function Uw(t,e,n){if(n&X.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&X.Host);)if(i=vR(s),i===null||(s=s[as],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=oe.lFrame=Bw();return r.currentTNode=e,r.lView=t,!0}function Qf(t){let e=Bw(),n=t[ee];oe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Bw(){let t=oe.lFrame,e=t===null?null:t.child;return e===null?$w(t):e}function $w(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Hw(){let t=oe.lFrame;return oe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var qw=Hw;function Yf(){let t=Hw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function _R(t){return(oe.lFrame.contextLView=nR(t,oe.lFrame.contextLView))[Nt]}function cs(){return oe.lFrame.selectedIndex}function Ur(t){oe.lFrame.selectedIndex=t}function zw(){let t=oe.lFrame;return Wf(t.tView,t.selectedIndex)}function IR(){return oe.lFrame.currentNamespace}var Gw=!0;function Zf(){return Gw}function Jf(t){Gw=t}function wR(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=bw(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Xf(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=s;o&&(t.contentHooks??=[]).push(-n,o),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function nu(t,e,n){Ww(t,e,3,n)}function ru(t,e,n,r){(t[G]&3)===n&&Ww(t,e,n,r)}function qh(t,e){let n=t[G];(n&3)===e&&(n&=16383,n+=1,t[G]=n)}function Ww(t,e,n,r){let i=r!==void 0?t[$i]&65535:0,s=r??-1,o=e.length-1,c=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[$i]+=65536),(c<s||s==-1)&&(ER(t,n,e,u),t[$i]=(t[$i]&4294901760)+u+2),u++}function SI(t,e){Kt(4,t,e);let n=ue(null);try{e.call(t)}finally{ue(n),Kt(5,t,e)}}function ER(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],c=t[o];i?t[G]>>14<t[$i]>>16&&(t[G]&3)===e&&(t[G]+=16384,SI(c,s)):SI(c,s)}var zi=-1,Br=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function DR(t){return t instanceof Br}function CR(t){return(t.flags&8)!==0}function bR(t){return(t.flags&16)!==0}var zh={},ff=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=xu(r);let i=this.injector.get(e,zh,r);return i!==zh||n===zh?i:this.parentInjector.get(e,n,r)}};function Kw(t){return t!==zi}function mu(t){return t&32767}function TR(t){return t>>16}function yu(t,e){let n=TR(t),r=e;for(;n>0;)r=r[as],n--;return r}var pf=!0;function AI(t){let e=pf;return pf=t,e}var SR=256,Qw=SR-1,Yw=5,AR=0,Qt={};function RR(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Mo)&&(r=n[Mo]),r==null&&(r=n[Mo]=AR++);let i=r&Qw,s=1<<i;e.data[t+(i>>Yw)]|=s}function vu(t,e){let n=Zw(t,e);if(n!==-1)return n;let r=e[ee];r.firstCreatePass&&(t.injectorIndex=e.length,Gh(r.data,t),Gh(e,null),Gh(r.blueprint,null));let i=ep(t,e),s=t.injectorIndex;if(Kw(i)){let o=mu(i),c=yu(i,e),u=c[ee].data;for(let l=0;l<8;l++)e[s+l]=c[o+l]|u[o+l]}return e[s+8]=i,s}function Gh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Zw(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function ep(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=nE(i),r===null)return zi;if(n++,i=i[as],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return zi}function gf(t,e,n){RR(t,e,n)}function MR(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(uw(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function Jw(t,e,n){if(n&X.Optional||t!==void 0)return t;Bf(e,"NodeInjector")}function Xw(t,e,n,r){if(n&X.Optional&&r===void 0&&(r=null),!(n&(X.Self|X.Host))){let i=t[Yi],s=St(void 0);try{return i?i.get(e,r,n&X.Optional):iw(e,r,n&X.Optional)}finally{St(s)}}return Jw(r,e,n)}function eE(t,e,n,r=X.Default,i){if(t!==null){if(e[G]&2048&&!(r&X.Self)){let o=kR(t,e,n,r,Qt);if(o!==Qt)return o}let s=tE(t,e,n,r,Qt);if(s!==Qt)return s}return Xw(e,n,r,i)}function tE(t,e,n,r,i){let s=PR(n);if(typeof s=="function"){if(!Uw(e,t,r))return r&X.Host?Jw(i,n,r):Xw(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&X.Optional))Bf(n);else return o}finally{qw()}}else if(typeof s=="number"){let o=null,c=Zw(t,e),u=zi,l=r&X.Host?e[Jt][Ht]:null;for((c===-1||r&X.SkipSelf)&&(u=c===-1?ep(t,e):e[c+8],u===zi||!MI(r,!1)?c=-1:(o=e[ee],c=mu(u),e=yu(u,e)));c!==-1;){let f=e[ee];if(RI(s,c,f.data)){let g=NR(c,e,n,o,r,l);if(g!==Qt)return g}u=e[c+8],u!==zi&&MI(r,e[ee].data[c+8]===l)&&RI(s,c,e)?(o=f,c=mu(u),e=yu(u,e)):c=-1}}return i}function NR(t,e,n,r,i,s){let o=e[ee],c=o.data[t+8],u=r==null?ku(c)&&pf:r!=o&&(c.type&3)!==0,l=i&X.Host&&s===c,f=xR(c,o,n,u,l);return f!==null?Xi(e,o,f,c):Qt}function xR(t,e,n,r,i){let s=t.providerIndexes,o=e.data,c=s&1048575,u=t.directiveStart,l=t.directiveEnd,f=s>>20,g=r?c:c+f,_=i?c+f:l;for(let I=g;I<_;I++){let A=o[I];if(I<u&&n===A||I>=u&&A.type===n)return I}if(i){let I=o[u];if(I&&ir(I)&&I.type===n)return u}return null}function Xi(t,e,n,r){let i=t[n],s=e.data;if(DR(i)){let o=i;o.resolving&&cA(aA(s[n]));let c=AI(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?St(o.injectImpl):null,f=Uw(t,r,X.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&wR(n,s[n],e)}finally{l!==null&&St(l),AI(c),o.resolving=!1,qw()}}return i}function PR(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Mo)?t[Mo]:void 0;return typeof e=="number"?e>=0?e&Qw:OR:e}function RI(t,e,n){let r=1<<t;return!!(n[e+(t>>Yw)]&r)}function MI(t,e){return!(t&X.Self)&&!(t&X.Host&&e)}var Fr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return eE(this._tNode,this._lView,e,xu(r),n)}};function OR(){return new Fr(ft(),Ce())}function us(t){return Vo(()=>{let e=t.prototype.constructor,n=e[ou]||mf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[ou]||mf(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function mf(t){return JI(t)?()=>{let e=mf(it(t));return e&&e()}:Gi(t)}function kR(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[G]&2048&&!(o[G]&512);){let c=tE(s,o,n,r|X.Self,Qt);if(c!==Qt)return c;let u=s.parent;if(!u){let l=o[ww];if(l){let f=l.get(n,Qt,r);if(f!==Qt)return f}u=nE(o),o=o[as]}s=u}return i}function nE(t){let e=t[ee],n=e.type;return n===2?e.declTNode:n===1?t[Ht]:null}function tp(t){return MR(ft(),t)}function NI(t,e=null,n=null,r){let i=rE(t,e,n,r);return i.resolveInjectorInitializers(),i}function rE(t,e=null,n=null,r,i=new Set){let s=[n||At,LA(t)];return r=r||(typeof t=="object"?void 0:ut(t)),new Po(s,e||zf(),r||null,i)}var Or=class Or{static create(e,n){if(Array.isArray(e))return NI({name:""},n,e,"");{let r=e.name??"";return NI({name:r},e.parent,e.providers,r)}}};Or.THROW_IF_NOT_FOUND=No,Or.NULL=new uu,Or.\u0275prov=q({token:Or,providedIn:"any",factory:()=>te(ow)}),Or.__NG_ELEMENT_ID__=-1;var lt=Or;var FR=new B("");FR.__NG_ELEMENT_ID__=t=>{let e=ft();if(e===null)throw new $(204,!1);if(e.type&2)return e.value;if(t&X.Optional)return null;throw new $(204,!1)};var LR="ngOriginalError";function Wh(t){return t[LR]}var iE=!0,sE=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=VR,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),yf=class extends sE{constructor(e){super(),this._lView=e}onDestroy(e){return Nw(this._lView,e),()=>rR(this._lView,e)}};function VR(){return new yf(Ce())}var ls=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Fe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=q({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var vf=class extends Be{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,KA()&&(this.destroyRef=L(sE,{optional:!0})??void 0,this.pendingTasks=L(ls,{optional:!0})??void 0)}emit(e){let n=ue(null);try{super.next(e)}finally{ue(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let c=super.subscribe({next:i,error:s,complete:o});return e instanceof Te&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Se=vf;function _u(...t){}function oE(t){let e,n;function r(){t=_u;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function xI(t){return queueMicrotask(()=>t()),()=>{t=_u}}var np="isAngularZone",Iu=np+"_ID",jR=0,ve=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Se(!1),this.onMicrotaskEmpty=new Se(!1),this.onStable=new Se(!1),this.onError=new Se(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=iE}=e;if(typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,$R(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(np)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new $(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,UR,_u,_u);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},UR={};function rp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function BR(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){oE(()=>{t.callbackScheduled=!1,_f(t),t.isCheckStableRunning=!0,rp(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),_f(t)}function $R(t){let e=()=>{BR(t)},n=jR++;t._inner=t._inner.fork({name:"angular",properties:{[np]:!0,[Iu]:n,[Iu+n]:!0},onInvokeTask:(r,i,s,o,c,u)=>{if(HR(u))return r.invokeTask(s,o,c,u);try{return PI(t),r.invokeTask(s,o,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),OI(t)}},onInvoke:(r,i,s,o,c,u,l)=>{try{return PI(t),r.invoke(s,o,c,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!qR(u)&&e(),OI(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,_f(t),rp(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function _f(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function PI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function OI(t){t._nesting--,rp(t)}var If=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Se,this.onMicrotaskEmpty=new Se,this.onStable=new Se,this.onError=new Se}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function HR(t){return aE(t,"__ignore_ng_zone__")}function qR(t){return aE(t,"__scheduler_tick__")}function aE(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var In=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Wh(e);for(;n&&Wh(n);)n=Wh(n);return n||null}},zR=new B("",{providedIn:"root",factory:()=>{let t=L(ve),e=L(In);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function GR(){return ip(ft(),Ce())}function ip(t,e){return new cr(xt(t,e))}var cr=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=GR;let t=e;return t})();function cE(t){return(t.flags&128)===128}var uE=new Map,WR=0;function KR(){return WR++}function QR(t){uE.set(t[Ou],t)}function wf(t){uE.delete(t[Ou])}var kI="__ngContext__";function $r(t,e){nr(e)?(t[kI]=e[Ou],QR(e)):t[kI]=e}function lE(t){return hE(t[Oo])}function dE(t){return hE(t[$t])}function hE(t){for(;t!==null&&!bn(t);)t=t[$t];return t}var Ef;function fE(t){Ef=t}function YR(){if(Ef!==void 0)return Ef;if(typeof document<"u")return document;throw new $(210,!1)}var sp=new B("",{providedIn:"root",factory:()=>ZR}),ZR="ng",op=new B(""),ur=new B("",{providedIn:"platform",factory:()=>"unknown"});var ap=new B("",{providedIn:"root",factory:()=>YR().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var JR="h",XR="b";var eM=()=>null;function cp(t,e,n=!1){return eM(t,e,n)}var pE=!1,tM=new B("",{providedIn:"root",factory:()=>pE});var Zc;function nM(){if(Zc===void 0&&(Zc=null,ef.trustedTypes))try{Zc=ef.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Zc}function FI(t){return nM()?.createScriptURL(t)||t}var wu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ZI})`}};function Bo(t){return t instanceof wu?t.changingThisBreaksApplicationSecurity:t}function up(t,e){let n=rM(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${ZI})`)}return n===e}function rM(t){return t instanceof wu&&t.getTypeName()||null}var iM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function gE(t){return t=String(t),t.match(iM)?t:"unsafe:"+t}var ju=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ju||{});function sM(t){let e=yE();return e?e.sanitize(ju.URL,t)||"":up(t,"URL")?Bo(t):gE(Nu(t))}function oM(t){let e=yE();if(e)return FI(e.sanitize(ju.RESOURCE_URL,t)||"");if(up(t,"ResourceURL"))return FI(Bo(t));throw new $(904,!1)}function aM(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?oM:sM}function mE(t,e,n){return aM(e,n)(t)}function yE(){let t=Ce();return t&&t[Zt].sanitizer}function vE(t){return t instanceof Function?t():t}var wn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(wn||{}),cM;function lp(t,e){return cM(t,e)}function Hi(t,e,n,r,i){if(r!=null){let s,o=!1;bn(r)?s=r:nr(r)&&(o=!0,r=r[Cn]);let c=en(r);t===0&&n!==null?i==null?EE(e,n,c):Du(e,n,c,i||null,!0):t===1&&n!==null?Du(e,n,c,i||null,!0):t===2?DM(e,c,o):t===3&&e.destroyNode(c),s!=null&&bM(e,t,s,n,i)}}function uM(t,e){return t.createText(e)}function lM(t,e,n){t.setValue(e,n)}function _E(t,e,n){return t.createElement(e,n)}function dM(t,e){IE(t,e),e[Cn]=null,e[Ht]=null}function hM(t,e,n,r,i,s){r[Cn]=i,r[Ht]=e,Uu(t,r,n,1,i,s)}function IE(t,e){e[Zt].changeDetectionScheduler?.notify(9),Uu(t,e,e[$e],2,null,null)}function fM(t){let e=t[Oo];if(!e)return Kh(t[ee],t);for(;e;){let n=null;if(nr(e))n=e[Oo];else{let r=e[_t];r&&(n=r)}if(!n){for(;e&&!e[$t]&&e!==t;)nr(e)&&Kh(e[ee],e),e=e[st];e===null&&(e=t),nr(e)&&Kh(e[ee],e),n=e&&e[$t]}e=n}}function pM(t,e,n,r){let i=_t+r,s=n.length;r>0&&(n[i-1][$t]=e),r<s-_t?(e[$t]=n[i],sw(n,_t+r,e)):(n.push(e),e[$t]=null),e[st]=n;let o=e[Zi];o!==null&&n!==o&&wE(o,e);let c=e[Ji];c!==null&&c.insertView(t),df(e),e[G]|=128}function wE(t,e){let n=t[fu],r=e[st];if(nr(r))t[G]|=pu.HasTransplantedViews;else{let i=r[st][Jt];e[Jt]!==i&&(t[G]|=pu.HasTransplantedViews)}n===null?t[fu]=[e]:n.push(e)}function dp(t,e){let n=t[fu],r=n.indexOf(e);n.splice(r,1)}function Eu(t,e){if(t.length<=_t)return;let n=_t+e,r=t[n];if(r){let i=r[Zi];i!==null&&i!==t&&dp(i,r),e>0&&(t[n-1][$t]=r[$t]);let s=cu(t,_t+e);dM(r[ee],r);let o=s[Ji];o!==null&&o.detachView(s[ee]),r[st]=null,r[$t]=null,r[G]&=-129}return r}function hp(t,e){if(!(e[G]&256)){let n=e[$e];n.destroyNode&&Uu(t,e,n,3,null,null),fM(e)}}function Kh(t,e){if(e[G]&256)return;let n=ue(null);try{e[G]&=-129,e[G]|=256,e[Rt]&&vh(e[Rt]),mM(t,e),gM(t,e),e[ee].type===1&&e[$e].destroy();let r=e[Zi];if(r!==null&&bn(e[st])){r!==e[st]&&dp(r,e);let i=e[Ji];i!==null&&i.detachView(t)}wf(e)}finally{ue(n)}}function gM(t,e){let n=t.cleanup,r=e[du];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[du]=null);let i=e[tr];if(i!==null){e[tr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function mM(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Br)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let c=i[s[o]],u=s[o+1];Kt(4,c,u);try{u.call(c)}finally{Kt(5,c,u)}}else{Kt(4,i,s);try{s.call(i)}finally{Kt(5,i,s)}}}}}function yM(t,e,n){return vM(t,e.parent,n)}function vM(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Cn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Yt.None||s===Yt.Emulated)return null}return xt(r,n)}}function Du(t,e,n,r,i){t.insertBefore(e,n,r,i)}function EE(t,e,n){t.appendChild(e,n)}function LI(t,e,n,r,i){r!==null?Du(t,e,n,r,i):EE(t,e,n)}function DE(t,e){return t.parentNode(e)}function _M(t,e){return t.nextSibling(e)}function IM(t,e,n){return EM(t,e,n)}function wM(t,e,n){return t.type&40?xt(t,n):null}var EM=wM,VI;function fp(t,e,n,r){let i=yM(t,r,e),s=e[$e],o=r.parent||e[Ht],c=IM(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)LI(s,i,n[u],c,!1);else LI(s,i,n,c,!1);VI!==void 0&&VI(s,r,e,n,i)}function Ao(t,e){if(e!==null){let n=e.type;if(n&3)return xt(e,t);if(n&4)return Df(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ao(t,r);{let i=t[e.index];return bn(i)?Df(-1,i):en(i)}}else{if(n&128)return Ao(t,e.next);if(n&32)return lp(e,t)()||en(t[e.index]);{let r=CE(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=jr(t[Jt]);return Ao(i,r)}else return Ao(t,e.next)}}}return null}function CE(t,e){if(e!==null){let r=t[Jt][Ht],i=e.projection;return r.projection[i]}return null}function Df(t,e){let n=_t+t+1;if(n<e.length){let r=e[n],i=r[ee].firstChild;if(i!==null)return Ao(r,i)}return e[Vr]}function DM(t,e,n){t.removeChild(null,e,n)}function pp(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(o&&e===0&&(c&&$r(en(c),r),n.flags|=2),(n.flags&32)!==32)if(u&8)pp(t,e,n.child,r,i,s,!1),Hi(e,t,i,c,s);else if(u&32){let l=lp(n,r),f;for(;f=l();)Hi(e,t,i,f,s);Hi(e,t,i,c,s)}else u&16?CM(t,e,r,n,i,s):Hi(e,t,i,c,s);n=o?n.projectionNext:n.next}}function Uu(t,e,n,r,i,s){pp(n,r,t.firstChild,e,i,s,!1)}function CM(t,e,n,r,i,s){let o=n[Jt],u=o[Ht].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];Hi(e,t,i,f,s)}else{let l=u,f=o[st];cE(r)&&(l.flags|=128),pp(t,e,l,f,i,s,!0)}}function bM(t,e,n,r,i){let s=n[Vr],o=en(n);s!==o&&Hi(e,t,r,s,i);for(let c=_t;c<n.length;c++){let u=n[c];Uu(u[ee],u,t,e,r,s)}}function TM(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:wn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=wn.Important),t.setStyle(n,r,i,s))}}function SM(t,e,n){t.setAttribute(e,"style",n)}function bE(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function TE(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&sf(t,e,r),i!==null&&bE(t,e,i),s!==null&&SM(t,e,s)}var zr={};function qt(t=1){SE(Pt(),Ce(),cs()+t,!1)}function SE(t,e,n,r){if(!r)if((e[G]&3)===3){let s=t.preOrderCheckHooks;s!==null&&nu(e,s,n)}else{let s=t.preOrderHooks;s!==null&&ru(e,s,0,n)}Ur(n)}function Y(t,e=X.Default){let n=Ce();if(n===null)return te(t,e);let r=ft();return eE(r,n,it(t),e)}function AE(t,e,n,r,i,s){let o=ue(null);try{let c=null;i&rr.SignalBased&&(c=e[r][yn]),c!==null&&c.transformFn!==void 0&&(s=c.transformFn(s)),i&rr.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,c,s,n,r):Cw(e,c,r,s)}finally{ue(o)}}function AM(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Ur(~i);else{let s=i,o=n[++r],c=n[++r];gR(o,s);let u=e[s];c(2,u)}}}finally{Ur(-1)}}function Bu(t,e,n,r,i,s,o,c,u,l,f){let g=e.blueprint.slice();return g[Cn]=i,g[G]=r|4|128|8|64,(l!==null||t&&t[G]&2048)&&(g[G]|=2048),Rw(g),g[st]=g[as]=t,g[Nt]=n,g[Zt]=o||t&&t[Zt],g[$e]=c||t&&t[$e],g[Yi]=u||t&&t[Yi]||null,g[Ht]=s,g[Ou]=KR(),g[lu]=f,g[ww]=l,g[Jt]=e.type==2?t[Jt]:g,g}function $u(t,e,n,r,i){let s=t.data[e];if(s===null)s=RM(t,e,n,r,i),pR()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=lR();s.injectorIndex=o===null?-1:o.injectorIndex}return Uo(s,!0),s}function RM(t,e,n,r,i){let s=Fw(),o=Lw(),c=o?s:s&&s.parent,u=t.data[e]=OM(t,c,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function RE(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ME(t,e,n,r,i){let s=cs(),o=r&2;try{Ur(-1),o&&e.length>Xt&&SE(t,e,Xt,!1),Kt(o?2:0,i),n(r,i)}finally{Ur(s),Kt(o?3:1,i)}}function NE(t,e,n){if(Dw(e)){let r=ue(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let c=t.data[o];if(c.contentQueries){let u=n[o];c.contentQueries(1,u,o)}}}finally{ue(r)}}}function xE(t,e,n){Pw()&&(BM(t,e,n,xt(n,e)),(n.flags&64)===64&&LE(t,e,n))}function PE(t,e,n=xt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],c=o===-1?n(e,t):t[o];t[i++]=c}}}function OE(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=gp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function gp(t,e,n,r,i,s,o,c,u,l,f){let g=Xt+r,_=g+i,I=MM(g,_),A=typeof l=="function"?l():l;return I[ee]={type:t,blueprint:I,template:n,queries:null,viewQuery:c,declTNode:e,data:I.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:f}}function MM(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:zr);return n}function NM(t,e,n,r){let s=r.get(tM,pE)||n===Yt.ShadowDom,o=t.selectRootElement(e,s);return xM(o),o}function xM(t){PM(t)}var PM=()=>null;function OM(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,c=0;return aR()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function jI(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let c,u=rr.None;Array.isArray(o)?(c=o[0],u=o[1]):c=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?UI(r,n,l,c,u):UI(r,n,l,c)}return r}function UI(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function kM(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,c=[],u=null,l=null;for(let f=r;f<i;f++){let g=s[f],_=n?n.get(g):null,I=_?_.inputs:null,A=_?_.outputs:null;u=jI(0,g.inputs,f,u,I),l=jI(1,g.outputs,f,l,A);let M=u!==null&&o!==null&&!Hf(e)?JM(u,f,o):null;c.push(M)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=l}function FM(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function LM(t,e,n,r,i,s,o,c){let u=xt(e,n),l=e.inputs,f;!c&&l!=null&&(f=l[r])?(mp(t,n,f,r,i),ku(e)&&VM(n,e.index)):e.type&3?(r=FM(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function VM(t,e){let n=ar(e,t);n[G]&16||(n[G]|=64)}function kE(t,e,n,r){if(Pw()){let i=r===null?null:{"":-1},s=HM(t,n),o,c;s===null?o=c=null:[o,c]=s,o!==null&&FE(t,e,n,o,i,c),i&&qM(n,r,i)}n.mergedAttrs=xo(n.mergedAttrs,n.attrs)}function FE(t,e,n,r,i,s){for(let l=0;l<r.length;l++)gf(vu(n,e),t,r[l].type);GM(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let f=r[l];f.providersResolver&&f.providersResolver(f)}let o=!1,c=!1,u=RE(t,e,r.length,null);for(let l=0;l<r.length;l++){let f=r[l];n.mergedAttrs=xo(n.mergedAttrs,f.hostAttrs),WM(t,n,e,u,f),zM(u,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let g=f.type.prototype;!o&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!c&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),u++}kM(t,n,s)}function jM(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let c=~e.index;UM(o)!=c&&o.push(c),o.push(n,r,s)}}function UM(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function BM(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;ku(n)&&KM(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||vu(n,e),$r(r,e);let o=n.initialInputs;for(let c=i;c<s;c++){let u=t.data[c],l=Xi(e,t,c,n);if($r(l,e),o!==null&&ZM(e,c-i,l,u,n,o),ir(u)){let f=ar(n.index,e);f[Nt]=Xi(e,t,c,n)}}}function LE(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=mR();try{Ur(s);for(let c=r;c<i;c++){let u=t.data[c],l=e[c];hf(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&$M(u,l)}}finally{Ur(-1),hf(o)}}function $M(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function HM(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(AA(e,o.selectors,!1))if(r||(r=[]),ir(o))if(o.findHostDirectiveDefs!==null){let c=[];i=i||new Map,o.findHostDirectiveDefs(o,c,i),r.unshift(...c,o);let u=c.length;Cf(t,e,u)}else r.unshift(o),Cf(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Cf(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function qM(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new $(-301,!1);r.push(e[i],s)}}}function zM(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ir(e)&&(n[""]=t)}}function GM(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function WM(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Gi(i.type,!0)),o=new Br(s,ir(i),Y);t.blueprint[r]=o,n[r]=o,jM(t,e,r,RE(t,n,i.hostVars,zr),i)}function KM(t,e,n){let r=xt(e,t),i=OE(n),s=t[Zt].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let c=Hu(t,Bu(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=c}function QM(t,e,n,r,i,s){let o=xt(t,e);YM(e[$e],o,s,t.value,n,r,i)}function YM(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let c=o==null?Nu(s):o(s,r||"",i);t.setAttribute(e,i,c,n)}}function ZM(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let c=0;c<o.length;){let u=o[c++],l=o[c++],f=o[c++],g=o[c++];AE(r,n,u,l,f,g)}}function JM(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let c=0;c<o.length;c+=3)if(o[c]===e){r.push(s,o[c+1],o[c+2],n[i+1]);break}}i+=2}return r}function VE(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function jE(t,e){let n=t.contentQueries;if(n!==null){let r=ue(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let c=t.data[o];jw(s),c.contentQueries(2,e[o],o)}}}finally{ue(r)}}}function Hu(t,e){return t[Oo]?t[CI][$t]=e:t[Oo]=e,t[CI]=e,e}function bf(t,e,n){jw(0);let r=ue(null);try{e(t,n)}finally{ue(r)}}function XM(t){return t[du]??=[]}function eN(t){return t.cleanup??=[]}function UE(t,e){let n=t[Yi],r=n?n.get(In,null):null;r&&r.handleError(e)}function mp(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],c=n[s++],u=n[s++],l=e[o],f=t.data[o];AE(f,l,r,c,u,i)}}function tN(t,e,n){let r=Aw(e,t);lM(t[$e],r,n)}function nN(t,e){let n=ar(e,t),r=n[ee];rN(r,n);let i=n[Cn];i!==null&&n[lu]===null&&(n[lu]=cp(i,n[Yi])),yp(r,n,n[Nt])}function rN(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function yp(t,e,n){Qf(e);try{let r=t.viewQuery;r!==null&&bf(1,r,n);let i=t.template;i!==null&&ME(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ji]?.finishViewCreation(t),t.staticContentQueries&&jE(t,e),t.staticViewQueries&&bf(2,t.viewQuery,n);let s=t.components;s!==null&&iN(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[G]&=-5,Yf()}}function iN(t,e){for(let n=0;n<e.length;n++)nN(t,e[n])}function sN(t,e,n,r){let i=ue(null);try{let s=e.tView,c=t[G]&4096?4096:16,u=Bu(t,s,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Zi]=l;let f=t[Ji];return f!==null&&(u[Ji]=f.createEmbeddedView(s)),yp(s,u,n),u}finally{ue(i)}}function oN(t,e){let n=_t+e;if(n<t.length)return t[n]}function Tf(t,e){return!e||e.firstChild===null||cE(t)}function BE(t,e,n,r=!0){let i=e[ee];if(pM(i,e,t,n),r){let o=Df(n,t),c=e[$e],u=DE(c,t[Vr]);u!==null&&hM(i,t[Ht],c,e,u,o)}let s=e[lu];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function aN(t,e){let n=Eu(t,e);return n!==void 0&&hp(n[ee],n),n}function Cu(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(en(s)),bn(s)&&cN(s,r);let o=n.type;if(o&8)Cu(t,e,n.child,r);else if(o&32){let c=lp(n,e),u;for(;u=c();)r.push(u)}else if(o&16){let c=CE(e,n);if(Array.isArray(c))r.push(...c);else{let u=jr(e[Jt]);Cu(u[ee],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function cN(t,e){for(let n=_t;n<t.length;n++){let r=t[n],i=r[ee].firstChild;i!==null&&Cu(r[ee],r,i,e)}t[Vr]!==t[Cn]&&e.push(t[Vr])}var $E=[];function uN(t){return t[Rt]??lN(t)}function lN(t){let e=$E.pop()??Object.create(hN);return e.lView=t,e}function dN(t){t.lView[Rt]!==t&&(t.lView=null,$E.push(t))}var hN=ie(k({},Co),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Lu(t.lView)},consumerOnSignalRead(){this.lView[Rt]=this}});function fN(t){let e=t[Rt]??Object.create(pN);return e.lView=t,e}var pN=ie(k({},Co),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=jr(t.lView);for(;e&&!HE(e[ee]);)e=jr(e);e&&Mw(e)},consumerOnSignalRead(){this.lView[Rt]=this}});function HE(t){return t.type!==2}var gN=100;function qE(t,e=!0,n=0){let r=t[Zt],i=r.rendererFactory,s=!1;s||i.begin?.();try{mN(t,n)}catch(o){throw e&&UE(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function mN(t,e){let n=Vw();try{TI(!0),Sf(t,e);let r=0;for(;Fu(t);){if(r===gN)throw new $(103,!1);r++,Sf(t,1)}}finally{TI(n)}}function yN(t,e,n,r){let i=e[G];if((i&256)===256)return;let s=!1,o=!1;!s&&e[Zt].inlineEffectRunner?.flush(),Qf(e);let c=!0,u=null,l=null;s||(HE(t)?(l=uN(e),u=Ec(l)):M_()===null?(c=!1,l=fN(e),u=Ec(l)):e[Rt]&&(vh(e[Rt]),e[Rt]=null));try{Rw(e),hR(t.bindingStartIndex),n!==null&&ME(t,e,n,2,r);let f=(i&3)===3;if(!s)if(f){let I=t.preOrderCheckHooks;I!==null&&nu(e,I,null)}else{let I=t.preOrderHooks;I!==null&&ru(e,I,0,null),qh(e,0)}if(o||vN(e),zE(e,0),t.contentQueries!==null&&jE(t,e),!s)if(f){let I=t.contentCheckHooks;I!==null&&nu(e,I)}else{let I=t.contentHooks;I!==null&&ru(e,I,1),qh(e,1)}AM(t,e);let g=t.components;g!==null&&WE(e,g,0);let _=t.viewQuery;if(_!==null&&bf(2,_,r),!s)if(f){let I=t.viewCheckHooks;I!==null&&nu(e,I)}else{let I=t.viewHooks;I!==null&&ru(e,I,2),qh(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Hh]){for(let I of e[Hh])I();e[Hh]=null}s||(e[G]&=-73)}catch(f){throw s||Lu(e),f}finally{l!==null&&(mh(l,u),c&&dN(l)),Yf()}}function zE(t,e){for(let n=lE(t);n!==null;n=dE(n))for(let r=_t;r<n.length;r++){let i=n[r];GE(i,e)}}function vN(t){for(let e=lE(t);e!==null;e=dE(e)){if(!(e[G]&pu.HasTransplantedViews))continue;let n=e[fu];for(let r=0;r<n.length;r++){let i=n[r];Mw(i)}}}function _N(t,e,n){let r=ar(e,t);GE(r,n)}function GE(t,e){Kf(t)&&Sf(t,e)}function Sf(t,e){let r=t[ee],i=t[G],s=t[Rt],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&yh(s)),o||=!1,s&&(s.dirty=!1),t[G]&=-9217,o)yN(r,t,r.template,t[Nt]);else if(i&8192){zE(t,1);let c=r.components;c!==null&&WE(t,c,1)}}function WE(t,e,n){for(let r=0;r<e.length;r++)_N(t,e[r],n)}function vp(t,e){let n=Vw()?64:1088;for(t[Zt].changeDetectionScheduler?.notify(e);t;){t[G]|=n;let r=jr(t);if(uf(t)&&!r)return t;t=r}return null}var es=class{get rootNodes(){let e=this._lView,n=e[ee];return Cu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Nt]}set context(e){this._lView[Nt]=e}get destroyed(){return(this._lView[G]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[st];if(bn(e)){let n=e[hu],r=n?n.indexOf(this):-1;r>-1&&(Eu(e,r),cu(n,r))}this._attachedToViewContainer=!1}hp(this._lView[ee],this._lView)}onDestroy(e){Nw(this._lView,e)}markForCheck(){vp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[G]&=-129}reattach(){df(this._lView),this._lView[G]|=128}detectChanges(){this._lView[G]|=1024,qE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=uf(this._lView),n=this._lView[Zi];n!==null&&!e&&dp(n,this._lView),IE(this._lView[ee],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e;let n=uf(this._lView),r=this._lView[Zi];r!==null&&!n&&wE(r,this._lView),df(this._lView)}};var $z=new RegExp(`^(\\d+)*(${XR}|${JR})*(.*)`);var IN=()=>null;function Af(t,e){return IN(t,e)}var ts=class{},_p=new B("",{providedIn:"root",factory:()=>!1});var KE=new B(""),QE=new B(""),Rf=class{},bu=class{};function wN(t){let e=Error(`No component factory found for ${ut(t)}.`);return e[EN]=t,e}var EN="ngComponent";var Mf=class{resolveComponentFactory(e){throw wN(e)}},Sp=class Sp{};Sp.NULL=new Mf;var ns=Sp,rs=class{},Gr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>DN();let t=e;return t})();function DN(){let t=Ce(),e=ft(),n=ar(e.index,t);return(nr(n)?n:t)[$e]}var CN=(()=>{let e=class e{};e.\u0275prov=q({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();function Nf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let c=e[o];if(typeof c=="number")s=c;else if(s==1)i=pI(i,c);else if(s==2){let u=c,l=e[++o];r=pI(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Tu=class extends ns{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Lr(e);return new ko(n,this.ngModule)}};function BI(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,c=s?i[1]:rr.None;e?n.push({propName:o,templateName:r,isSignal:(c&rr.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function bN(t){let e=t.toLowerCase();return e==="svg"?XA:e==="math"?eR:null}var ko=class extends bu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=BI(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return BI(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=xA(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=ue(null);try{i=i||this.ngModule;let o=i instanceof Mt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let c=o?new ff(e,o):e,u=c.get(rs,null);if(u===null)throw new $(407,!1);let l=c.get(CN,null),f=c.get(ts,null),g={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:f},_=u.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",A=r?NM(_,r,this.componentDef.encapsulation,c):_E(_,I,bN(I)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let x=null;A!==null&&(x=cp(A,c,!0));let j=gp(0,null,null,1,0,null,null,null,null,null,null),W=Bu(null,j,null,M,null,null,g,_,c,null,x);Qf(W);let J,ge,Ge=null;try{let fe=this.componentDef,D,m=null;fe.findHostDirectiveDefs?(D=[],m=new Map,fe.findHostDirectiveDefs(fe,D,m),D.push(fe)):D=[fe];let y=TN(W,A);Ge=SN(y,A,fe,D,W,g,_),ge=Wf(j,Xt),A&&MN(_,fe,A,r),n!==void 0&&NN(ge,this.ngContentSelectors,n),J=RN(Ge,fe,D,m,W,[xN]),yp(j,W,null)}catch(fe){throw Ge!==null&&wf(Ge),wf(W),fe}finally{Yf()}return new xf(this.componentType,J,ip(ge,W),W,ge)}finally{ue(s)}}},xf=class extends Rf{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new es(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;mp(s[ee],s,i,e,n),this.previousInputValues.set(e,n);let o=ar(this._tNode.index,s);vp(o,1)}}get injector(){return new Fr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function TN(t,e){let n=t[ee],r=Xt;return t[r]=e,$u(n,r,2,"#host",null)}function SN(t,e,n,r,i,s,o){let c=i[ee];AN(r,t,e,o);let u=null;e!==null&&(u=cp(e,i[Yi]));let l=s.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let g=Bu(i,OE(n),null,f,i[t.index],t,s,l,null,null,u);return c.firstCreatePass&&Cf(c,t,r.length-1),Hu(i,g),i[t.index]=g}function AN(t,e,n,r){for(let i of t)e.mergedAttrs=xo(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Nf(e,e.mergedAttrs,!0),n!==null&&TE(r,n,e))}function RN(t,e,n,r,i,s){let o=ft(),c=i[ee],u=xt(o,i);FE(c,i,o,n,null,r);for(let f=0;f<n.length;f++){let g=o.directiveStart+f,_=Xi(i,c,g,o);$r(_,i)}LE(c,i,o),u&&$r(u,i);let l=Xi(i,c,o.directiveStart+o.componentOffset,o);if(t[Nt]=i[Nt]=l,s!==null)for(let f of s)f(l,e);return NE(c,o,i),l}function MN(t,e,n,r){if(r)sf(t,n,["ng-version","18.2.3"]);else{let{attrs:i,classes:s}=PA(e.selectors[0]);i&&sf(t,n,i),s&&s.length>0&&bE(t,n,s.join(" "))}}function NN(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function xN(){let t=ft();Xf(Ce()[ee],t)}var qu=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=PN;let t=e;return t})();function PN(){let t=ft();return kN(t,Ce())}var ON=qu,YE=class extends ON{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ip(this._hostTNode,this._hostLView)}get injector(){return new Fr(this._hostTNode,this._hostLView)}get parentInjector(){let e=ep(this._hostTNode,this._hostLView);if(Kw(e)){let n=yu(e,this._hostLView),r=mu(e),i=n[ee].data[r+8];return new Fr(i,n)}else return new Fr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=$I(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-_t}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Af(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(c,i,Tf(this._hostTNode,o)),c}createComponent(e,n,r,i,s){let o=e&&!QA(e),c;if(o)c=n;else{let A=n||{};c=A.index,r=A.injector,i=A.projectableNodes,s=A.environmentInjector||A.ngModuleRef}let u=o?e:new ko(Lr(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let M=(o?l:this.parentInjector).get(Mt,null);M&&(s=M)}let f=Lr(u.componentType??{}),g=Af(this._lContainer,f?.id??null),_=g?.firstChild??null,I=u.create(l,i,_,s);return this.insertImpl(I.hostView,c,Tf(this._hostTNode,g)),I}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(tR(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[st],l=new YE(u,u[Ht],u[st]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return BE(o,i,s,r),e.attachToViewContainerRef(),sw(Qh(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=$I(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Eu(this._lContainer,n);r&&(cu(Qh(this._lContainer),n),hp(r[ee],r))}detach(e){let n=this._adjustIndex(e,-1),r=Eu(this._lContainer,n);return r&&cu(Qh(this._lContainer),n)!=null?new es(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function $I(t){return t[hu]}function Qh(t){return t[hu]||(t[hu]=[])}function kN(t,e){let n,r=e[t.index];return bn(r)?n=r:(n=VE(r,e,null,t),e[t.index]=n,Hu(e,n)),LN(n,e,t,r),new YE(n,t,e)}function FN(t,e){let n=t[$e],r=n.createComment(""),i=xt(e,t),s=DE(n,i);return Du(n,s,r,_M(n,i),!1),r}var LN=UN,VN=()=>!1;function jN(t,e,n){return VN(t,e,n)}function UN(t,e,n,r){if(t[Vr])return;let i;n.type&8?i=en(r):i=FN(e,n),t[Vr]=i}var HI=new Set;function ds(t){HI.has(t)||(HI.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function BN(t){return typeof t=="function"&&t[yn]!==void 0}function $o(t,e){ds("NgSignals");let n=B_(t),r=n[yn];return e?.equal&&(r.equal=e.equal),n.set=i=>_h(r,i),n.update=i=>$_(r,i),n.asReadonly=$N.bind(n),n}function $N(){let t=this[yn];if(t.readonlyFn===void 0){let e=()=>this();e[yn]=t,t.readonlyFn=e}return t.readonlyFn}function ZE(t){return BN(t)&&typeof t.set=="function"}function HN(t){return Object.getPrototypeOf(t.prototype).constructor}function Tn(t){let e=HN(t.type),n=!0,r=[t];for(;e;){let i;if(ir(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new $(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Jc(t.inputs),o.inputTransforms=Jc(t.inputTransforms),o.declaredInputs=Jc(t.declaredInputs),o.outputs=Jc(t.outputs);let c=i.hostBindings;c&&KN(t,c);let u=i.viewQuery,l=i.contentQueries;if(u&&GN(t,u),l&&WN(t,l),qN(t,i),XS(t.outputs,i.outputs),ir(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let c=s[o];c&&c.ngInherit&&c(t),c===Tn&&(n=!1)}}e=Object.getPrototypeOf(e)}zN(r)}function qN(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function zN(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=xo(i.hostAttrs,n=xo(n,i.hostAttrs))}}function Jc(t){return t===Wi?{}:t===At?[]:t}function GN(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function WN(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function KN(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Ip(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var sr=class{},Fo=class{};var Pf=class extends sr{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Tu(this);let s=pw(e);this._bootstrapComponents=vE(s.bootstrap),this._r3Injector=rE(e,n,[{provide:sr,useValue:this},{provide:ns,useValue:this.componentFactoryResolver},...r],ut(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Of=class extends Fo{constructor(e){super(),this.moduleType=e}create(e){return new Pf(this.moduleType,e,[])}};var Su=class extends sr{constructor(e){super(),this.componentFactoryResolver=new Tu(this),this.instance=null;let n=new Po([...e.providers,{provide:sr,useValue:this},{provide:ns,useValue:this.componentFactoryResolver}],e.parent||zf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function wp(t,e,n=null){return new Su({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function Ho(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function QN(t){return(t.flags&32)===32}function YN(t,e,n,r,i,s,o,c,u){let l=e.consts,f=$u(e,t,4,o||null,c||null);kE(e,n,f,gu(l,u)),Xf(e,f);let g=f.tView=gp(2,f,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,f),g.queries=e.queries.embeddedTView(f)),f}function ZN(t,e,n,r,i,s,o,c,u,l){let f=n+Xt,g=e.firstCreatePass?YN(f,e,t,r,i,s,o,c,u):e.data[f];Uo(g,!1);let _=JN(e,t,g,n);Zf()&&fp(e,t,_,g),$r(_,t);let I=VE(_,t,_,g);return t[f]=I,Hu(t,I),jN(I,g,t),Gf(g)&&xE(e,t,g),u!=null&&PE(t,g,l),g}function qo(t,e,n,r,i,s,o,c){let u=Ce(),l=Pt(),f=gu(l.consts,s);return ZN(u,l,t,e,n,r,i,f,o,c),qo}var JN=XN;function XN(t,e,n,r){return Jf(!0),e[$e].createComment("")}var Ro=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ro||{}),ex=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=q({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})(),kr=class kr{constructor(){this.ngZone=L(ve),this.scheduler=L(ts),this.errorHandler=L(In,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of kr.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};kr.PHASES=[Ro.EarlyRead,Ro.Write,Ro.MixedReadWrite,Ro.Read],kr.\u0275prov=q({token:kr,providedIn:"root",factory:()=>new kr});var qI=kr;function zo(t,e,n,r){let i=Ce(),s=Vu();if(Ho(i,s,e)){let o=Pt(),c=zw();QM(c,i,t,e,n,r)}return zo}function tx(t,e,n,r){return Ho(t,Vu(),n)?e+Nu(n)+r:zr}function Xc(t,e){return t<<17|e<<2}function Hr(t){return t>>17&32767}function nx(t){return(t&2)==2}function rx(t,e){return t&131071|e<<17}function kf(t){return t|2}function is(t){return(t&131068)>>2}function Yh(t,e){return t&-131069|e<<2}function ix(t){return(t&1)===1}function Ff(t){return t|1}function sx(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,c=Hr(o),u=is(o);t[r]=n;let l=!1,f;if(Array.isArray(n)){let g=n;f=g[1],(f===null||jo(g,f)>0)&&(l=!0)}else f=n;if(i)if(u!==0){let _=Hr(t[c+1]);t[r+1]=Xc(_,c),_!==0&&(t[_+1]=Yh(t[_+1],r)),t[c+1]=rx(t[c+1],r)}else t[r+1]=Xc(c,0),c!==0&&(t[c+1]=Yh(t[c+1],r)),c=r;else t[r+1]=Xc(u,0),c===0?c=r:t[u+1]=Yh(t[u+1],r),u=r;l&&(t[r+1]=kf(t[r+1])),zI(t,f,r,!0),zI(t,f,r,!1),ox(e,f,t,r,s),o=Xc(c,u),s?e.classBindings=o:e.styleBindings=o}function ox(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&jo(s,e)>=0&&(n[r+1]=Ff(n[r+1]))}function zI(t,e,n,r){let i=t[n+1],s=e===null,o=r?Hr(i):is(i),c=!1;for(;o!==0&&(c===!1||s);){let u=t[o],l=t[o+1];ax(u,e)&&(c=!0,t[o+1]=r?Ff(l):kf(l)),o=r?Hr(l):is(l)}c&&(t[n+1]=r?kf(i):Ff(i))}function ax(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?jo(t,e)>=0:!1}function GI(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";mp(t,n,s[o],o,r)}function zu(t,e){return cx(t,e,null,!0),zu}function cx(t,e,n,r){let i=Ce(),s=Pt(),o=fR(2);if(s.firstUpdatePass&&lx(s,t,o,r),e!==zr&&Ho(i,o,e)){let c=s.data[cs()];gx(s,c,i,i[$e],t,i[o+1]=mx(e,n),r,o)}}function ux(t,e){return e>=t.expandoStartIndex}function lx(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[cs()],o=ux(t,n);yx(s,r)&&e===null&&!o&&(e=!1),e=dx(i,s,e,r),sx(i,s,e,n,o,r)}}function dx(t,e,n,r){let i=yR(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Zh(null,t,e,n,r),n=Lo(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Zh(i,t,e,n,r),s===null){let u=hx(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Zh(null,t,e,u[1],r),u=Lo(u,e.attrs,r),fx(t,e,r,u))}else s=px(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function hx(t,e,n){let r=n?e.classBindings:e.styleBindings;if(is(r)!==0)return t[Hr(r)]}function fx(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Hr(i)]=r}function px(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Lo(r,o,n)}return Lo(r,e.attrs,n)}function Zh(t,e,n,r,i){let s=null,o=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<o&&(s=e[c],r=Lo(r,s.hostAttrs,i),s!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function Lo(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),IA(t,o,n?!0:e[++s]))}return t===void 0?null:t}function gx(t,e,n,r,i,s,o,c){if(!(e.type&3))return;let u=t.data,l=u[c+1],f=ix(l)?WI(u,e,n,i,is(l),o):void 0;if(!Au(f)){Au(s)||nx(l)&&(s=WI(u,null,n,i,c,o));let g=Aw(cs(),n);TM(r,o,g,i,s)}}function WI(t,e,n,r,i,s){let o=e===null,c;for(;i>0;){let u=t[i],l=Array.isArray(u),f=l?u[1]:u,g=f===null,_=n[i+1];_===zr&&(_=g?At:void 0);let I=g?Bh(_,r):f===r?_:void 0;if(l&&!Au(I)&&(I=Bh(u,r)),Au(I)&&(c=I,o))return c;let A=t[i+1];i=o?Hr(A):is(A)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(c=Bh(u,r))}return c}function Au(t){return t!==void 0}function mx(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ut(Bo(t)))),t}function yx(t,e){return(t.flags&(e?8:16))!==0}function Gu(t,e){ds("NgControlFlow");let n=Ce(),r=Vu(),i=n[r]!==zr?n[r]:-1,s=i!==-1?KI(n,Xt+i):void 0,o=0;if(Ho(n,r,t)){let c=ue(null);try{if(s!==void 0&&aN(s,o),t!==-1){let u=Xt+t,l=KI(n,u),f=vx(n[ee],u),g=Af(l,f.tView.ssrId),_=sN(n,f,e,{dehydratedView:g});BE(l,_,o,Tf(f,g))}}finally{ue(c)}}else if(s!==void 0){let c=oN(s,o);c!==void 0&&(c[Nt]=e)}}function KI(t,e){return t[e]}function vx(t,e){return Wf(t,e)}function _x(t,e,n,r,i,s){let o=e.consts,c=gu(o,i),u=$u(e,t,2,r,c);return kE(e,n,u,gu(o,s)),u.attrs!==null&&Nf(u,u.attrs,!1),u.mergedAttrs!==null&&Nf(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function O(t,e,n,r){let i=Ce(),s=Pt(),o=Xt+t,c=i[$e],u=s.firstCreatePass?_x(o,s,i,e,n,r):s.data[o],l=Ix(s,i,u,c,e,t);i[o]=l;let f=Gf(u);return Uo(u,!0),TE(c,l,u),!QN(u)&&Zf()&&fp(s,i,l,u),iR()===0&&$r(l,i),sR(),f&&(xE(s,i,u),NE(s,u,i)),r!==null&&PE(i,u),O}function F(){let t=ft();Lw()?dR():(t=t.parent,Uo(t,!1));let e=t;cR(e)&&uR(),oR();let n=Pt();return n.firstCreatePass&&(Xf(n,t),Dw(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&CR(e)&&GI(n,e,Ce(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&bR(e)&&GI(n,e,Ce(),e.stylesWithoutHost,!1),F}function me(t,e,n,r){return O(t,e,n,r),F(),me}var Ix=(t,e,n,r,i,s)=>(Jf(!0),_E(r,i,IR()));function JE(){return Ce()}var Ru="en-US";var wx=Ru;function Ex(t){typeof t=="string"&&(wx=t.toLowerCase().replace(/_/g,"-"))}var Dx=(t,e,n)=>{};function It(t,e,n,r){let i=Ce(),s=Pt(),o=ft();return XE(s,i,i[$e],o,t,e,r),It}function Cx(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let c=e[du],u=i[s+2];return c.length>u?c[u]:null}typeof o=="string"&&(s+=2)}return null}function XE(t,e,n,r,i,s,o){let c=Gf(r),l=t.firstCreatePass&&eN(t),f=e[Nt],g=XM(e),_=!0;if(r.type&3||o){let M=xt(r,e),x=o?o(M):M,j=g.length,W=o?ge=>o(en(ge[r.index])):r.index,J=null;if(!o&&c&&(J=Cx(t,e,i,r.index)),J!==null){let ge=J.__ngLastListenerFn__||J;ge.__ngNextListenerFn__=s,J.__ngLastListenerFn__=s,_=!1}else{s=YI(r,e,f,s),Dx(M,i,s);let ge=n.listen(x,i,s);g.push(s,ge),l&&l.push(i,W,j,j+1)}}else s=YI(r,e,f,s);let I=r.outputs,A;if(_&&I!==null&&(A=I[i])){let M=A.length;if(M)for(let x=0;x<M;x+=2){let j=A[x],W=A[x+1],Ge=e[j][W].subscribe(s),fe=g.length;g.push(s,Ge),l&&l.push(i,r.index,fe,-(fe+1))}}}function QI(t,e,n,r){let i=ue(null);try{return Kt(6,e,n),n(r)!==!1}catch(s){return UE(t,s),!1}finally{Kt(7,e,n),ue(i)}}function YI(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?ar(t.index,e):e;vp(o,5);let c=QI(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)c=QI(e,n,u,s)&&c,u=u.__ngNextListenerFn__;return c}}function Ep(t=1){return _R(t)}function V(t,e=""){let n=Ce(),r=Pt(),i=t+Xt,s=r.firstCreatePass?$u(r,i,1,e,null):r.data[i],o=bx(r,n,s,e,t);n[i]=o,Zf()&&fp(r,n,o,s),Uo(s,!1)}var bx=(t,e,n,r,i)=>(Jf(!0),uM(e[$e],r));function Dp(t,e,n){let r=Ce(),i=tx(r,t,e,n);return i!==zr&&tN(r,cs(),i),Dp}function Wr(t,e,n){ZE(e)&&(e=e());let r=Ce(),i=Vu();if(Ho(r,i,e)){let s=Pt(),o=zw();LM(s,o,r,t,e,r[$e],n,!1)}return Wr}function hs(t,e){let n=ZE(t);return n&&t.set(e),n}function Kr(t,e){let n=Ce(),r=Pt(),i=ft();return XE(r,n,n[$e],i,t,e),Kr}function Tx(t,e,n){let r=Pt();if(r.firstCreatePass){let i=ir(t);Lf(n,r.data,r.blueprint,i,!0),Lf(e,r.data,r.blueprint,i,!1)}}function Lf(t,e,n,r,i){if(t=it(t),Array.isArray(t))for(let s=0;s<t.length;s++)Lf(t[s],e,n,r,i);else{let s=Pt(),o=Ce(),c=ft(),u=Qi(t)?t:it(t.provide),l=Iw(t),f=c.providerIndexes&1048575,g=c.directiveStart,_=c.providerIndexes>>20;if(Qi(t)||!t.multi){let I=new Br(l,i,Y),A=Xh(u,e,i?f:f+_,g);A===-1?(gf(vu(c,o),s,u),Jh(s,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(I),o.push(I)):(n[A]=I,o[A]=I)}else{let I=Xh(u,e,f+_,g),A=Xh(u,e,f,f+_),M=I>=0&&n[I],x=A>=0&&n[A];if(i&&!x||!i&&!M){gf(vu(c,o),s,u);let j=Rx(i?Ax:Sx,n.length,i,r,l);!i&&x&&(n[A].providerFactory=j),Jh(s,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(j),o.push(j)}else{let j=eD(n[i?A:I],l,!i&&r);Jh(s,t,I>-1?I:A,j)}!i&&r&&x&&n[A].componentProviders++}}}function Jh(t,e,n,r){let i=Qi(e),s=BA(e);if(i||s){let u=(s?it(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=l.indexOf(n);f===-1?l.push(n,[r,u]):l[f+1].push(r,u)}else l.push(n,u)}}}function eD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Xh(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Sx(t,e,n,r){return Vf(this.multi,[])}function Ax(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,c=Xi(n,n[ee],this.providerFactory.index,r);s=c.slice(0,o),Vf(i,s);for(let u=o;u<c.length;u++)s.push(c[u])}else s=[],Vf(i,s);return s}function Vf(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function Rx(t,e,n,r,i){let s=new Br(t,n,Y);return s.multi=[],s.index=e,s.componentProviders=0,eD(s,i,r&&!n),s}function Go(t,e=[]){return n=>{n.providersResolver=(r,i)=>Tx(r,i?i(t):t,e)}}var Mx=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=yw(!1,r.type),s=i.length>0?wp([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=q({token:e,providedIn:"environment",factory:()=>new e(te(Mt))});let t=e;return t})();function pt(t){ds("NgStandalone"),t.getStandaloneInjector=e=>e.get(Mx).getOrCreateStandaloneInjector(t)}var En=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},tD=new En("18.2.3");var Wu=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var nD=new B("");function Qr(t){return!!t&&typeof t.then=="function"}function rD(t){return!!t&&typeof t.subscribe=="function"}var iD=new B(""),sD=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=L(iD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Qr(o))r.push(o);else if(rD(o)){let c=new Promise((u,l)=>{o.subscribe({complete:u,error:l})});r.push(c)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Cp=new B("");function Nx(){U_(()=>{throw new $(600,!1)})}function xx(t){return t.isBoundToModule}var Px=10;function Ox(t,e,n){try{let r=n();return Qr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Yr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=L(zR),this.afterRenderManager=L(ex),this.zonelessEnabled=L(_p),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Be,this.afterTick=new Be,this.componentTypes=[],this.components=[],this.isStable=L(ls).hasPendingTasks.pipe(re(r=>!r)),this._injector=L(Mt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:s=>{s&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof bu;if(!this._injector.get(sD).done){let I=!s&&fw(r),A=!1;throw new $(405,A)}let c;s?c=r:c=this._injector.get(ns).resolveComponentFactory(r),this.componentTypes.push(c.componentType);let u=xx(c)?void 0:this._injector.get(sr),l=i||c.selector,f=c.create(lt.NULL,[],l,u),g=f.location.nativeElement,_=f.injector.get(nD,null);return _?.registerApplication(g),f.onDestroy(()=>{this.detachView(f.hostView),iu(this.components,f),_?.unregisterApplication(g)}),this._loadComponent(f),f}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new $(101,!1);let r=ue(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,ue(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(rs,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<Px;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:s,notifyErrorHandler:o}of this._views)kx(s,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else r?.begin?.(),r?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:r})=>Fu(r))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;iu(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Cp,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>iu(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new $(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function iu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function kx(t,e,n,r){if(!n&&!Fu(t))return;qE(t,e,n&&!r?0:1)}var jf=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},bp=(()=>{let e=class e{compileModuleSync(r){return new Of(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=pw(r),o=vE(s.declarations).reduce((c,u)=>{let l=Lr(u);return l&&c.push(new ko(l)),c},[]);return new jf(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Fx=(()=>{let e=class e{constructor(){this.zone=L(ve),this.changeDetectionScheduler=L(ts),this.applicationRef=L(Yr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Lx=new B("",{factory:()=>!1});function oD({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new ve(ie(k({},cD()),{scheduleInRootZone:n})),[{provide:ve,useFactory:t},{provide:Ki,multi:!0,useFactory:()=>{let r=L(Fx,{optional:!0});return()=>r.initialize()}},{provide:Ki,multi:!0,useFactory:()=>{let r=L(Vx);return()=>{r.initialize()}}},e===!0?{provide:KE,useValue:!0}:[],{provide:QE,useValue:n??iE}]}function aD(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=oD({ngZoneFactory:()=>{let i=cD(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&ds("NgZone_CoalesceEvent"),new ve(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return tn([{provide:Lx,useValue:!0},{provide:_p,useValue:!1},r])}function cD(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Vx=(()=>{let e=class e{constructor(){this.subscription=new Te,this.initialized=!1,this.zone=L(ve),this.pendingTasks=L(ls)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ve.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ve.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var jx=(()=>{let e=class e{constructor(){this.appRef=L(Yr),this.taskService=L(ls),this.ngZone=L(ve),this.zonelessEnabled=L(_p),this.disableScheduling=L(KE,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Te,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Iu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(L(QE,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof If||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?xI:oE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Iu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(r),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,xI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ux(){return typeof $localize<"u"&&$localize.locale||Ru}var Tp=new B("",{providedIn:"root",factory:()=>L(Tp,X.Optional|X.SkipSelf)||Ux()});var uD=new B("");function eu(t){return!!t.platformInjector}function Bx(t){let e=eu(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ve);return n.run(()=>{eu(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(In,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),eu(t)){let s=()=>e.destroy(),o=t.platformInjector.get(uD);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else t.moduleRef.onDestroy(()=>{iu(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return Ox(r,n,()=>{let s=e.get(sD);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Tp,Ru);if(Ex(o||Ru),eu(t)){let c=e.get(Yr);return t.rootComponent!==void 0&&c.bootstrap(t.rootComponent),c}else return $x(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function $x(t,e){let n=t.injector.get(Yr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new $(-403,!1);e.push(t)}var su=null;function Hx(t=[],e){return lt.create({name:e,providers:[{provide:Pu,useValue:"platform"},{provide:uD,useValue:new Set([()=>su=null])},...t]})}function qx(t=[]){if(su)return su;let e=Hx(t);return su=e,Nx(),zx(e),e}function zx(t){t.get(op,null)?.forEach(n=>n())}var Zr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Gx;let t=e;return t})();function Gx(t){return Wx(ft(),Ce(),(t&16)===16)}function Wx(t,e,n){if(ku(t)&&!n){let r=ar(t.index,e);return new es(r,r)}else if(t.type&175){let r=e[Jt];return new es(r,e)}return null}function lD(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=qx(r),s=[oD({}),{provide:ts,useExisting:jx},...n||[]],o=new Su({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return Bx({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var dD=new B("");function lr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Wo(t,e){ds("NgSignals");let n=L_(t);return e?.equal&&(n[yn].equal=e.equal),n}function Sn(t){let e=ue(null);try{return t()}finally{ue(e)}}var pD=null;function An(){return pD}function gD(t){pD??=t}var Ku=class{};var wt=new B(""),mD=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>L(Kx),providedIn:"platform"});let t=e;return t})();var Kx=(()=>{let e=class e extends mD{constructor(){super(),this._doc=L(wt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return An().getBaseHref(this._doc)}onPopState(r){let i=An().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=An().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function yD(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function hD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Jr(t){return t&&t[0]!=="?"?"?"+t:t}var fs=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>L(vD),providedIn:"root"});let t=e;return t})(),Qx=new B(""),vD=(()=>{let e=class e extends fs{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??L(wt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return yD(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Jr(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let c=this.prepareExternalUrl(s+Jr(o));this._platformLocation.pushState(r,i,c)}replaceState(r,i,s,o){let c=this.prepareExternalUrl(s+Jr(o));this._platformLocation.replaceState(r,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(te(mD),te(Qx,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ko=(()=>{let e=class e{constructor(r){this._subject=new Se,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=Jx(hD(fD(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Jr(i))}normalize(r){return e.stripTrailingSlash(Zx(this._basePath,fD(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Jr(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Jr(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Jr,e.joinWithSlash=yD,e.stripTrailingSlash=hD,e.\u0275fac=function(i){return new(i||e)(te(fs))},e.\u0275prov=q({token:e,factory:()=>Yx(),providedIn:"root"});let t=e;return t})();function Yx(){return new Ko(te(fs))}function Zx(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function fD(t){return t.replace(/\/index.html$/,"")}function Jx(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function _D(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var ID="browser",Xx="server";function Ap(t){return t===Xx}var Qu=class{};var Np=class extends Ku{constructor(){super(...arguments),this.supportsDOMEvents=!0}},xp=class t extends Np{static makeCurrent(){gD(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=tP();return n==null?null:nP(n)}resetBaseElement(){Qo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return _D(document.cookie,e)}},Qo=null;function tP(){return Qo=Qo||document.querySelector("base"),Qo?Qo.getAttribute("href"):null}function nP(t){return new URL(t,document.baseURI).pathname}var rP=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),Yu=new B(""),CD=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new $(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(te(Yu),te(ve))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),Yo=class{constructor(e){this._doc=e}},Rp="ng-app-id",bD=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ap(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Rp}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Rp),o;{let c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=i,this.platformIsServer&&c.setAttribute(Rp,this.appId),r.appendChild(c),c}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,c=o.get(i)?.elements;c?c.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(te(wt),te(sp),te(ap,8),te(ur))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),Mp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Op=/%COMP%/g,TD="%COMP%",iP=`_nghost-${TD}`,sP=`_ngcontent-${TD}`,oP=!0,aP=new B("",{providedIn:"root",factory:()=>oP});function cP(t){return sP.replace(Op,t)}function uP(t){return iP.replace(Op,t)}function SD(t,e){return e.map(n=>n.replace(Op,t))}var wD=(()=>{let e=class e{constructor(r,i,s,o,c,u,l,f=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=c,this.platformId=u,this.ngZone=l,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=Ap(u),this.defaultRenderer=new Zo(r,c,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Yt.ShadowDom&&(i=ie(k({},i),{encapsulation:Yt.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Zu?s.applyToHost(r):s instanceof Jo&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let c=this.doc,u=this.ngZone,l=this.eventManager,f=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,_=this.platformIsServer;switch(i.encapsulation){case Yt.Emulated:o=new Zu(l,f,i,this.appId,g,c,u,_);break;case Yt.ShadowDom:return new Pp(l,f,r,i,c,u,this.nonce,_);default:o=new Jo(l,f,i,g,c,u,_);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(te(CD),te(bD),te(sp),te(aP),te(wt),te(ur),te(ve),te(ap))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),Zo=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Mp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(ED(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(ED(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new $(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Mp[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Mp[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(wn.DashCase|wn.Important)?e.style.setProperty(n,r,i&wn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&wn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=An().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function ED(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Pp=class extends Zo{constructor(e,n,r,i,s,o,c,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=SD(i.id,i.styles);for(let f of l){let g=document.createElement("style");c&&g.setAttribute("nonce",c),g.textContent=f,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Jo=class extends Zo{constructor(e,n,r,i,s,o,c,u){super(e,s,o,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?SD(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Zu=class extends Jo{constructor(e,n,r,i,s,o,c,u){let l=i+"-"+r.id;super(e,n,r,s,o,c,u,l),this.contentAttr=cP(l),this.hostAttr=uP(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},lP=(()=>{let e=class e extends Yo{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(te(wt))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),dP=(()=>{let e=class e extends Yo{constructor(r){super(r),this.delegate=L(dD,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,s){return this.delegate.addEventListener(r,i,s)}removeEventListener(r,i,s){return this.delegate.removeEventListener(r,i,s)}};e.\u0275fac=function(i){return new(i||e)(te(wt))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),DD=["alt","control","meta","shift"],hP={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fP={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},pP=(()=>{let e=class e extends Yo{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),c=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>An().onAndCancel(r,o.domEventName,c))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),c="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),c="code."),DD.forEach(f=>{let g=i.indexOf(f);g>-1&&(i.splice(g,1),c+=f+".")}),c+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=c,l}static matchEventFullKeyCode(r,i){let s=hP[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),DD.forEach(c=>{if(c!==s){let u=fP[c];u(r)&&(o+=c+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(te(wt))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})();function AD(t,e){return lD(k({rootComponent:t},gP(e)))}function gP(t){return{appProviders:[...IP,...t?.providers??[]],platformProviders:_P}}function mP(){xp.makeCurrent()}function yP(){return new In}function vP(){return fE(document),document}var _P=[{provide:ur,useValue:ID},{provide:op,useValue:mP,multi:!0},{provide:wt,useFactory:vP,deps:[]}];var IP=[{provide:Pu,useValue:"root"},{provide:In,useFactory:yP,deps:[]},{provide:Yu,useClass:lP,multi:!0,deps:[wt,ve,ur]},{provide:Yu,useClass:pP,multi:!0,deps:[wt]},{provide:Yu,useClass:dP,multi:!0},wD,bD,CD,{provide:rs,useExisting:wD},{provide:Qu,useClass:rP,deps:[]},[]];var RD=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(te(wt))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Z="primary",pa=Symbol("RouteTitle"),jp=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function _s(t){return new jp(t)}function EP(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],c=t[s];if(o[0]===":")i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function DP(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!nn(t[n],e[n]))return!1;return!0}function nn(t,e){let n=t?Up(t):void 0,r=e?Up(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!LD(t[i],e[i]))return!1;return!0}function Up(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function LD(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function VD(t){return t.length>0?t[t.length-1]:null}function hr(t){return Ph(t)?t:Qr(t)?Ae(Promise.resolve(t)):Q(t)}var CP={exact:UD,subset:BD},jD={exact:bP,subset:TP,ignored:()=>!0};function MD(t,e,n){return CP[n.paths](t.root,e.root,n.matrixParams)&&jD[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function bP(t,e){return nn(t,e)}function UD(t,e,n){if(!ei(t.segments,e.segments)||!el(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!UD(t.children[r],e.children[r],n))return!1;return!0}function TP(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>LD(t[n],e[n]))}function BD(t,e,n){return $D(t,e,e.segments,n)}function $D(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ei(i,n)||e.hasChildren()||!el(i,n,r))}else if(t.segments.length===n.length){if(!ei(t.segments,n)||!el(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!BD(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!ei(t.segments,i)||!el(t.segments,i,r)||!t.children[Z]?!1:$D(t.children[Z],e,s,r)}}function el(t,e,n){return e.every((r,i)=>jD[n](t[i].parameters,r.parameters))}var Mn=class{constructor(e=new ye([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=_s(this.queryParams),this._queryParamMap}toString(){return RP.serialize(this)}},ye=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return tl(this)}},Xr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=_s(this.parameters),this._parameterMap}toString(){return qD(this)}};function SP(t,e){return ei(t,e)&&t.every((n,r)=>nn(n.parameters,e[r].parameters))}function ei(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function AP(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Z&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Z&&(n=n.concat(e(i,r)))}),n}var hg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>new sa,providedIn:"root"});let t=e;return t})(),sa=class{parse(e){let n=new $p(e);return new Mn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Xo(e.root,!0)}`,r=xP(e.queryParams),i=typeof e.fragment=="string"?`#${MP(e.fragment)}`:"";return`${n}${r}${i}`}},RP=new sa;function tl(t){return t.segments.map(e=>qD(e)).join("/")}function Xo(t,e){if(!t.hasChildren())return tl(t);if(e){let n=t.children[Z]?Xo(t.children[Z],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==Z&&r.push(`${i}:${Xo(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=AP(t,(r,i)=>i===Z?[Xo(t.children[Z],!1)]:[`${i}:${Xo(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[Z]!=null?`${tl(t)}/${n[0]}`:`${tl(t)}/(${n.join("//")})`}}function HD(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ju(t){return HD(t).replace(/%3B/gi,";")}function MP(t){return encodeURI(t)}function Bp(t){return HD(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nl(t){return decodeURIComponent(t)}function ND(t){return nl(t.replace(/\+/g,"%20"))}function qD(t){return`${Bp(t.path)}${NP(t.parameters)}`}function NP(t){return Object.entries(t).map(([e,n])=>`;${Bp(e)}=${Bp(n)}`).join("")}function xP(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Ju(n)}=${Ju(i)}`).join("&"):`${Ju(n)}=${Ju(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var PP=/^[^\/()?;#]+/;function kp(t){let e=t.match(PP);return e?e[0]:""}var OP=/^[^\/()?;=#]+/;function kP(t){let e=t.match(OP);return e?e[0]:""}var FP=/^[^=?&#]+/;function LP(t){let e=t.match(FP);return e?e[0]:""}var VP=/^[^&#]+/;function jP(t){let e=t.match(VP);return e?e[0]:""}var $p=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ye([],{}):new ye([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Z]=new ye(e,n)),r}parseSegment(){let e=kp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new Xr(nl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=kP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=kp(this.remaining);i&&(r=i,this.capture(r))}e[nl(n)]=nl(r)}parseQueryParam(e){let n=LP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=jP(this.remaining);o&&(r=o,this.capture(r))}let i=ND(n),s=ND(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=kp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new $(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Z);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[Z]:new ye([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}};function zD(t){return t.segments.length>0?new ye([],{[Z]:t}):t}function GD(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=GD(i);if(r===Z&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new ye(t.segments,e);return UP(n)}function UP(t){if(t.numberOfChildren===1&&t.children[Z]){let e=t.children[Z];return new ye(t.segments.concat(e.segments),e.children)}return t}function ti(t){return t instanceof Mn}function BP(t,e,n=null,r=null){let i=WD(t);return KD(i,e,n,r)}function WD(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let c=new ye(s.url,o);return s===t&&(e=c),c}let r=n(t.root),i=zD(r);return e??i}function KD(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Fp(i,i,i,n,r);let s=$P(e);if(s.toRoot())return Fp(i,i,new ye([],{}),n,r);let o=HP(s,i,t),c=o.processChildren?na(o.segmentGroup,o.index,s.commands):YD(o.segmentGroup,o.index,s.commands);return Fp(i,o.segmentGroup,c,n,r)}function rl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function oa(t){return typeof t=="object"&&t!=null&&t.outlets}function Fp(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let o;t===e?o=n:o=QD(t,e,n);let c=zD(GD(o));return new Mn(c,s,i)}function QD(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=QD(s,e,n)}),new ye(t.segments,r)}var il=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&rl(r[0]))throw new $(4003,!1);let i=r.find(oa);if(i&&i!==VD(r))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function $P(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new il(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new il(n,e,r)}var ms=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function HP(t,e,n){if(t.isAbsolute)return new ms(e,!0,0);if(!n)return new ms(e,!1,NaN);if(n.parent===null)return new ms(n,!0,0);let r=rl(t.commands[0])?0:1,i=n.segments.length-1+r;return qP(n,i,t.numberOfDoubleDots)}function qP(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new $(4005,!1);i=r.segments.length}return new ms(r,!1,i-s)}function zP(t){return oa(t[0])?t[0].outlets:{[Z]:t}}function YD(t,e,n){if(t??=new ye([],{}),t.segments.length===0&&t.hasChildren())return na(t,e,n);let r=GP(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new ye(t.segments.slice(0,r.pathIndex),{});return s.children[Z]=new ye(t.segments.slice(r.pathIndex),t.children),na(s,0,i)}else return r.match&&i.length===0?new ye(t.segments,{}):r.match&&!t.hasChildren()?Hp(t,e,n):r.match?na(t,0,i):Hp(t,e,n)}function na(t,e,n){if(n.length===0)return new ye(t.segments,{});{let r=zP(n),i={};if(Object.keys(r).some(s=>s!==Z)&&t.children[Z]&&t.numberOfChildren===1&&t.children[Z].segments.length===0){let s=na(t.children[Z],e,n);return new ye(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=YD(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ye(t.segments,i)}}function GP(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],c=n[r];if(oa(c))break;let u=`${c}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!PD(u,l,o))return s;r+=2}else{if(!PD(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Hp(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(oa(s)){let u=WP(s.outlets);return new ye(r,u)}if(i===0&&rl(n[0])){let u=t.segments[e];r.push(new Xr(u.path,xD(n[0]))),i++;continue}let o=oa(s)?s.outlets[Z]:`${s}`,c=i<n.length-1?n[i+1]:null;o&&c&&rl(c)?(r.push(new Xr(o,xD(c))),i+=2):(r.push(new Xr(o,{})),i++)}return new ye(r,{})}function WP(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Hp(new ye([],{}),0,r))}),e}function xD(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function PD(t,e,n){return t==n.path&&nn(e,n.parameters)}var ra="imperative",Ke=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ke||{}),kt=class{constructor(e,n){this.id=e,this.url=n}},aa=class extends kt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ke.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},dr=class extends kt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ke.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Dt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Dt||{}),qp=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(qp||{}),Rn=class extends kt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ke.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ni=class extends kt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ke.NavigationSkipped}},ca=class extends kt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ke.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},sl=class extends kt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zp=class extends kt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gp=class extends kt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Ke.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Wp=class extends kt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kp=class extends kt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qp=class{constructor(e){this.route=e,this.type=Ke.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Yp=class{constructor(e){this.route=e,this.type=Ke.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Zp=class{constructor(e){this.snapshot=e,this.type=Ke.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jp=class{constructor(e){this.snapshot=e,this.type=Ke.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xp=class{constructor(e){this.snapshot=e,this.type=Ke.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},eg=class{constructor(e){this.snapshot=e,this.type=Ke.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ua=class{},Is=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function KP(t,e){return t.providers&&!t._injector&&(t._injector=wp(t.providers,e,`Route: ${t.path}`)),t._injector??e}function zt(t){return t.outlet||Z}function QP(t,e){let n=t.filter(r=>zt(r)===e);return n.push(...t.filter(r=>zt(r)!==e)),n}function ga(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var tg=class{get injector(){return ga(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new hl(this.rootInjector),this.attachRef=null}},hl=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new tg(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(te(Mt))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ol=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=ng(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=ng(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=rg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return rg(e,this._root).map(n=>n.value)}};function ng(t,e){if(t===e.value)return e;for(let n of e.children){let r=ng(t,n);if(r)return r}return null}function rg(t,e){if(t===e.value)return[e];for(let n of e.children){let r=rg(t,n);if(r.length)return r.unshift(e),r}return[]}var Et=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function gs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var al=class extends ol{constructor(e,n){super(e),this.snapshot=n,fg(this,e)}toString(){return this.snapshot.toString()}};function ZD(t){let e=YP(t),n=new Fe([new Xr("",{})]),r=new Fe({}),i=new Fe({}),s=new Fe({}),o=new Fe(""),c=new ri(n,r,s,o,i,Z,t,e.root);return c.snapshot=e.root,new al(new Et(c,[]),e)}function YP(t){let e={},n={},r={},i="",s=new ys([],e,r,i,n,Z,t,null,{});return new ul("",new Et(s,[]))}var ri=class{constructor(e,n,r,i,s,o,c,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(re(l=>l[pa]))??Q(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(re(e=>_s(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(re(e=>_s(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function cl(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:k(k({},e.params),t.params),data:k(k({},e.data),t.data),resolve:k(k(k(k({},t.data),e.data),i?.data),t._resolvedData)}:r={params:k({},t.params),data:k({},t.data),resolve:k(k({},t.data),t._resolvedData??{})},i&&XD(i)&&(r.resolve[pa]=i.title),r}var ys=class{get title(){return this.data?.[pa]}constructor(e,n,r,i,s,o,c,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=_s(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=_s(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},ul=class extends ol{constructor(e,n){super(n),this.url=e,fg(this,n)}toString(){return JD(this._root)}};function fg(t,e){e.value._routerState=t,e.children.forEach(n=>fg(t,n))}function JD(t){let e=t.children.length>0?` { ${t.children.map(JD).join(", ")} } `:"";return`${t.value}${e}`}function Lp(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,nn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),nn(e.params,n.params)||t.paramsSubject.next(n.params),DP(e.url,n.url)||t.urlSubject.next(n.url),nn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function ig(t,e){let n=nn(t.params,e.params)&&SP(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||ig(t.parent,e.parent))}function XD(t){return typeof t.title=="string"||t.title===null}var pg=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Z,this.activateEvents=new Se,this.deactivateEvents=new Se,this.attachEvents=new Se,this.detachEvents=new Se,this.parentContexts=L(hl),this.location=L(qu),this.changeDetector=L(Zr),this.inputBinder=L(gg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=r;let s=this.location,c=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new sg(r,u,s.injector);this.activated=s.createComponent(c,{index:s.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ot({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[or]});let t=e;return t})(),sg=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ri?this.route:e===hl?this.childContexts:this.parent.get(e,n)}},gg=new B("");function ZP(t,e,n){let r=la(t,e._root,n?n._root:void 0);return new al(r,e)}function la(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=JP(t,e,n);return new Et(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>la(t,c)),o}}let r=XP(e.value),i=e.children.map(s=>la(t,s));return new Et(r,i)}}function JP(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return la(t,r,i);return la(t,r)})}function XP(t){return new ri(new Fe(t.url),new Fe(t.params),new Fe(t.queryParams),new Fe(t.fragment),new Fe(t.data),t.outlet,t.component,t)}var da=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},eC="ngNavigationCancelingError";function ll(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ti(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=tC(!1,Dt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function tC(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[eC]=!0,n.cancellationCode=e,n}function eO(t){return nC(t)&&ti(t.url)}function nC(t){return!!t&&t[eC]}var tO=(t,e,n,r)=>re(i=>(new og(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),og=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Lp(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=gs(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=gs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=gs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=gs(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new eg(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Jp(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Lp(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),Lp(c.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},dl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},vs=class{constructor(e,n){this.component=e,this.route=n}};function nO(t,e,n){let r=t._root,i=e?e._root:null;return ea(r,i,n,[r.value])}function rO(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Es(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!XI(t)?t:e.get(t):r}function ea(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=gs(e);return t.children.forEach(o=>{iO(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>ia(c,n.getContext(o),i)),i}function iO(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=sO(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new dl(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?ea(t,e,c?c.children:null,r,i):ea(t,e,n,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new vs(c.outlet.component,o))}else o&&ia(e,c,i),i.canActivateChecks.push(new dl(r)),s.component?ea(t,null,c?c.children:null,r,i):ea(t,null,n,r,i);return i}function sO(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ei(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ei(t.url,e.url)||!nn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ig(t,e)||!nn(t.queryParams,e.queryParams);case"paramsChange":default:return!ig(t,e)}}function ia(t,e,n){let r=gs(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?ia(o,e.children.getContext(s),n):ia(o,null,n):ia(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new vs(e.outlet.component,i)):n.canDeactivateChecks.push(new vs(null,i)):n.canDeactivateChecks.push(new vs(null,i))}function ma(t){return typeof t=="function"}function oO(t){return typeof t=="boolean"}function aO(t){return t&&ma(t.canLoad)}function cO(t){return t&&ma(t.canActivate)}function uO(t){return t&&ma(t.canActivateChild)}function lO(t){return t&&ma(t.canDeactivate)}function dO(t){return t&&ma(t.canMatch)}function rC(t){return t instanceof vn||t?.name==="EmptyError"}var Xu=Symbol("INITIAL_VALUE");function ws(){return Ut(t=>Wc(t.map(e=>e.pipe(_n(1),jh(Xu)))).pipe(re(e=>{for(let n of e)if(n!==!0){if(n===Xu)return Xu;if(n===!1||hO(n))return n}return!0}),jt(e=>e!==Xu),_n(1)))}function hO(t){return ti(t)||t instanceof da}function fO(t,e){return Le(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?Q(ie(k({},n),{guardsResult:!0})):pO(o,r,i,t).pipe(Le(c=>c&&oO(c)?gO(r,s,t,e):Q(c)),re(c=>ie(k({},n),{guardsResult:c})))})}function pO(t,e,n,r){return Ae(t).pipe(Le(i=>IO(i.component,i.route,n,e,r)),Wt(i=>i!==!0,!0))}function gO(t,e,n,r){return Ae(e).pipe(ji(i=>Vi(yO(i.route.parent,r),mO(i.route,r),_O(t,i.path,n),vO(t,i.route,n))),Wt(i=>i!==!0,!0))}function mO(t,e){return t!==null&&e&&e(new Xp(t)),Q(!0)}function yO(t,e){return t!==null&&e&&e(new Zp(t)),Q(!0)}function vO(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Q(!0);let i=r.map(s=>Kc(()=>{let o=ga(e)??n,c=Es(s,o),u=cO(c)?c.canActivate(e,t):Dn(o,()=>c(e,t));return hr(u).pipe(Wt())}));return Q(i).pipe(ws())}function _O(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>rO(o)).filter(o=>o!==null).map(o=>Kc(()=>{let c=o.guards.map(u=>{let l=ga(o.node)??n,f=Es(u,l),g=uO(f)?f.canActivateChild(r,t):Dn(l,()=>f(r,t));return hr(g).pipe(Wt())});return Q(c).pipe(ws())}));return Q(s).pipe(ws())}function IO(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return Q(!0);let o=s.map(c=>{let u=ga(e)??i,l=Es(c,u),f=lO(l)?l.canDeactivate(t,e,n,r):Dn(u,()=>l(t,e,n,r));return hr(f).pipe(Wt())});return Q(o).pipe(ws())}function wO(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Q(!0);let s=i.map(o=>{let c=Es(o,t),u=aO(c)?c.canLoad(e,n):Dn(t,()=>c(e,n));return hr(u)});return Q(s).pipe(ws(),iC(r))}function iC(t){return bh(Ve(e=>{if(typeof e!="boolean")throw ll(t,e)}),re(e=>e===!0))}function EO(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Q(!0);let s=i.map(o=>{let c=Es(o,t),u=dO(c)?c.canMatch(e,n):Dn(t,()=>c(e,n));return hr(u)});return Q(s).pipe(ws(),iC(r))}var ha=class{constructor(e){this.segmentGroup=e||null}},fa=class extends Error{constructor(e){super(),this.urlTree=e}};function ps(t){return Li(new ha(t))}function DO(t){return Li(new $(4e3,!1))}function CO(t){return Li(tC(!1,Dt.GuardRejected))}var ag=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Q(r);if(i.numberOfChildren>1||!i.children[Z])return DO(`${e.redirectTo}`);i=i.children[Z]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let c=n,{queryParams:u,fragment:l,routeConfig:f,url:g,outlet:_,params:I,data:A,title:M}=i,x=Dn(s,()=>c({params:I,data:A,queryParams:u,fragment:l,routeConfig:f,url:g,outlet:_,title:M}));if(x instanceof Mn)throw new fa(x);n=x}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new fa(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Mn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);r[i]=n[c]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([c,u])=>{o[c]=this.createSegmentGroup(e,u,r,i)}),new ye(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new $(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},cg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bO(t,e,n,r,i){let s=sC(t,e,n);return s.matched?(r=KP(e,r),EO(r,e,n,i).pipe(re(o=>o===!0?s:k({},cg)))):Q(s)}function sC(t,e,n){if(e.path==="**")return TO(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?k({},cg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||EP)(n,t,e);if(!i)return k({},cg);let s={};Object.entries(i.posParams??{}).forEach(([c,u])=>{s[c]=u.path});let o=i.consumed.length>0?k(k({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function TO(t){return{matched:!0,parameters:t.length>0?VD(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function OD(t,e,n,r){return n.length>0&&RO(t,n,r)?{segmentGroup:new ye(e,AO(r,new ye(n,t.children))),slicedSegments:[]}:n.length===0&&MO(t,n,r)?{segmentGroup:new ye(t.segments,SO(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ye(t.segments,t.children),slicedSegments:n}}function SO(t,e,n,r){let i={};for(let s of n)if(fl(t,e,s)&&!r[zt(s)]){let o=new ye([],{});i[zt(s)]=o}return k(k({},r),i)}function AO(t,e){let n={};n[Z]=e;for(let r of t)if(r.path===""&&zt(r)!==Z){let i=new ye([],{});n[zt(r)]=i}return n}function RO(t,e,n){return n.some(r=>fl(t,e,r)&&zt(r)!==Z)}function MO(t,e,n){return n.some(r=>fl(t,e,r))}function fl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function NO(t,e,n){return e.length===0&&!t.children[n]}var ug=class{};function xO(t,e,n,r,i,s,o="emptyOnly"){return new lg(t,e,n,r,i,o,s).recognize()}var PO=31,lg=class{constructor(e,n,r,i,s,o,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new ag(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new $(4002,`'${e.segmentGroup}'`)}recognize(){let e=OD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(re(({children:n,rootSnapshot:r})=>{let i=new Et(r,n),s=new ul("",i),o=BP(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new ys([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Z,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Z,n).pipe(re(r=>({children:r,rootSnapshot:n})),Jn(r=>{if(r instanceof fa)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ha?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(re(o=>o instanceof Et?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Ae(s).pipe(ji(o=>{let c=r.children[o],u=QP(n,o);return this.processSegmentGroup(e,u,c,o,i)}),Vh((o,c)=>(o.push(...c),o)),Xn(null),Lh(),Le(o=>{if(o===null)return ps(r);let c=oC(o);return OO(c),Q(c)}))}processSegment(e,n,r,i,s,o,c){return Ae(n).pipe(ji(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,c).pipe(Jn(l=>{if(l instanceof ha)return Q(null);throw l}))),Wt(u=>!!u),Jn(u=>{if(rC(u))return NO(r,i,s)?Q(new ug):ps(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,c,u){return zt(r)!==o&&(o===Z||!fl(i,s,r))?ps(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):ps(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,c){let{matched:u,parameters:l,consumedSegments:f,positionalParamSegments:g,remainingSegments:_}=sC(n,i,s);if(!u)return ps(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>PO&&(this.allowRedirects=!1));let I=new ys(s,l,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,kD(i),zt(i),i.component??i._loadedComponent??null,i,FD(i)),A=cl(I,c,this.paramsInheritanceStrategy);I.params=Object.freeze(A.params),I.data=Object.freeze(A.data);let M=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,g,I,e);return this.applyRedirects.lineralizeSegments(i,M).pipe(Le(x=>this.processSegment(e,r,n,x.concat(_),o,!1,c)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let c=bO(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),c.pipe(Ut(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ut(({routes:l})=>{let f=r._loadedInjector??e,{parameters:g,consumedSegments:_,remainingSegments:I}=u,A=new ys(_,g,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,kD(r),zt(r),r.component??r._loadedComponent??null,r,FD(r)),M=cl(A,o,this.paramsInheritanceStrategy);A.params=Object.freeze(M.params),A.data=Object.freeze(M.data);let{segmentGroup:x,slicedSegments:j}=OD(n,_,I,l);if(j.length===0&&x.hasChildren())return this.processChildren(f,l,x,A).pipe(re(J=>new Et(A,J)));if(l.length===0&&j.length===0)return Q(new Et(A,[]));let W=zt(r)===s;return this.processSegment(f,l,x,j,W?Z:s,!0,A).pipe(re(J=>new Et(A,J instanceof Et?[J]:[])))}))):ps(n)))}getChildConfig(e,n,r){return n.children?Q({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Q({routes:n._loadedRoutes,injector:n._loadedInjector}):wO(e,n,r,this.urlSerializer).pipe(Le(i=>i?this.configLoader.loadChildren(e,n).pipe(Ve(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):CO(n))):Q({routes:[],injector:e})}};function OO(t){t.sort((e,n)=>e.value.outlet===Z?-1:n.value.outlet===Z?1:e.value.outlet.localeCompare(n.value.outlet))}function kO(t){let e=t.value.routeConfig;return e&&e.path===""}function oC(t){let e=[],n=new Set;for(let r of t){if(!kO(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=oC(r.children);e.push(new Et(r.value,i))}return e.filter(r=>!n.has(r))}function kD(t){return t.data||{}}function FD(t){return t.resolve||{}}function FO(t,e,n,r,i,s){return Le(o=>xO(t,e,n,r,o.extractedUrl,i,s).pipe(re(({state:c,tree:u})=>ie(k({},o),{targetSnapshot:c,urlAfterRedirects:u}))))}function LO(t,e){return Le(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Q(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of aC(u))o.add(l);let c=0;return Ae(o).pipe(ji(u=>s.has(u)?VO(u,r,t,e):(u.data=cl(u,u.parent,t).resolve,Q(void 0))),Ve(()=>c++),Ui(1),Le(u=>c===o.size?Q(n):vt))})}function aC(t){let e=t.children.map(n=>aC(n)).flat();return[t,...e]}function VO(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!XD(i)&&(s[pa]=i.title),jO(s,t,e,r).pipe(re(o=>(t._resolvedData=o,t.data=cl(t,t.parent,n).resolve,null)))}function jO(t,e,n,r){let i=Up(t);if(i.length===0)return Q({});let s={};return Ae(i).pipe(Le(o=>UO(t[o],e,n,r).pipe(Wt(),Ve(c=>{if(c instanceof da)throw ll(new sa,c);s[o]=c}))),Ui(1),Fh(s),Jn(o=>rC(o)?vt:Li(o)))}function UO(t,e,n,r){let i=ga(e)??r,s=Es(t,i),o=s.resolve?s.resolve(e,n):Dn(i,()=>s(e,n));return hr(o)}function Vp(t){return Ut(e=>{let n=t(e);return n?Ae(n).pipe(re(()=>e)):Q(e)})}var cC=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===Z);return i}getResolvedTitleForRoute(r){return r.data[pa]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>L(BO),providedIn:"root"});let t=e;return t})(),BO=(()=>{let e=class e extends cC{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(te(RD))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),mg=new B("",{providedIn:"root",factory:()=>({})}),$O=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ht({type:e,selectors:[["ng-component"]],standalone:!0,features:[pt],decls:1,vars:0,template:function(i,s){i&1&&me(0,"router-outlet")},dependencies:[pg],encapsulation:2});let t=e;return t})();function yg(t){let e=t.children&&t.children.map(yg),n=e?ie(k({},t),{children:e}):k({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Z&&(n.component=$O),n}var vg=new B(""),HO=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=L(bp)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Q(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=hr(r.loadComponent()).pipe(re(uC),Ve(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),So(()=>{this.componentLoaders.delete(r)})),s=new Pi(i,()=>new Be).pipe(xi());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Q({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=qO(i,this.compiler,r,this.onLoadEndListener).pipe(So(()=>{this.childrenLoaders.delete(i)})),c=new Pi(o,()=>new Be).pipe(xi());return this.childrenLoaders.set(i,c),c}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function qO(t,e,n,r){return hr(t.loadChildren()).pipe(re(uC),Le(i=>i instanceof Fo||Array.isArray(i)?Q(i):Ae(e.compileModuleAsync(i))),re(i=>{r&&r(t);let s,o,c=!1;return Array.isArray(i)?(o=i,c=!0):(s=i.create(n).injector,o=s.get(vg,[],{optional:!0,self:!0}).flat()),{routes:o.map(yg),injector:s}}))}function zO(t){return t&&typeof t=="object"&&"default"in t}function uC(t){return zO(t)?t.default:t}var _g=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>L(GO),providedIn:"root"});let t=e;return t})(),GO=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),WO=new B("");var KO=new B(""),QO=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Be,this.transitionAbortSubject=new Be,this.configLoader=L(HO),this.environmentInjector=L(Mt),this.urlSerializer=L(hg),this.rootContexts=L(hl),this.location=L(Ko),this.inputBindingEnabled=L(gg,{optional:!0})!==null,this.titleStrategy=L(cC),this.options=L(mg,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=L(_g),this.createViewTransition=L(WO,{optional:!0}),this.navigationErrorHandler=L(KO,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Q(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Qp(s)),i=s=>this.events.next(new Yp(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ie(k(k({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Fe({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ra,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(jt(o=>o.id!==0),re(o=>ie(k({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ut(o=>{let c=!1,u=!1;return Q(o).pipe(Ut(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Dt.SupersededByNewNavigation),vt;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?ie(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let f=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),g=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!f&&g!=="reload"){let _="";return this.events.next(new ni(l.id,this.urlSerializer.serialize(l.rawUrl),_,qp.IgnoredSameUrlNavigation)),l.resolve(!1),vt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Q(l).pipe(Ut(_=>{let I=this.transitions?.getValue();return this.events.next(new aa(_.id,this.urlSerializer.serialize(_.extractedUrl),_.source,_.restoredState)),I!==this.transitions?.getValue()?vt:Promise.resolve(_)}),FO(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ve(_=>{o.targetSnapshot=_.targetSnapshot,o.urlAfterRedirects=_.urlAfterRedirects,this.currentNavigation=ie(k({},this.currentNavigation),{finalUrl:_.urlAfterRedirects});let I=new sl(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(I)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:_,extractedUrl:I,source:A,restoredState:M,extras:x}=l,j=new aa(_,this.urlSerializer.serialize(I),A,M);this.events.next(j);let W=ZD(this.rootComponentType).snapshot;return this.currentTransition=o=ie(k({},l),{targetSnapshot:W,urlAfterRedirects:I,extras:ie(k({},x),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=I,Q(o)}else{let _="";return this.events.next(new ni(l.id,this.urlSerializer.serialize(l.extractedUrl),_,qp.IgnoredByUrlHandlingStrategy)),l.resolve(!1),vt}}),Ve(l=>{let f=new zp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),re(l=>(this.currentTransition=o=ie(k({},l),{guards:nO(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),fO(this.environmentInjector,l=>this.events.next(l)),Ve(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw ll(this.urlSerializer,l.guardsResult);let f=new Gp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(f)}),jt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Dt.GuardRejected),!1)),Vp(l=>{if(l.guards.canActivateChecks.length)return Q(l).pipe(Ve(f=>{let g=new Wp(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}),Ut(f=>{let g=!1;return Q(f).pipe(LO(this.paramsInheritanceStrategy,this.environmentInjector),Ve({next:()=>g=!0,complete:()=>{g||this.cancelNavigationTransition(f,"",Dt.NoDataFromResolver)}}))}),Ve(f=>{let g=new Kp(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}))}),Vp(l=>{let f=g=>{let _=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(g.routeConfig).pipe(Ve(I=>{g.component=I}),re(()=>{})));for(let I of g.children)_.push(...f(I));return _};return Wc(f(l.targetSnapshot.root)).pipe(Xn(null),_n(1))}),Vp(()=>this.afterPreactivation()),Ut(()=>{let{currentSnapshot:l,targetSnapshot:f}=o,g=this.createViewTransition?.(this.environmentInjector,l.root,f.root);return g?Ae(g).pipe(re(()=>o)):Q(o)}),re(l=>{let f=ZP(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=ie(k({},l),{targetRouterState:f}),this.currentNavigation.targetRouterState=f,o}),Ve(()=>{this.events.next(new ua)}),tO(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),_n(1),Ve({next:l=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new dr(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{c=!0}}),Uh(this.transitionAbortSubject.pipe(Ve(l=>{throw l}))),So(()=>{!c&&!u&&this.cancelNavigationTransition(o,"",Dt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Jn(l=>{if(u=!0,nC(l))this.events.next(new Rn(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),eO(l)?this.events.next(new Is(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let f=new ca(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let g=Dn(this.environmentInjector,()=>this.navigationErrorHandler?.(f));if(g instanceof da){let{message:_,cancellationCode:I}=ll(this.urlSerializer,g);this.events.next(new Rn(o.id,this.urlSerializer.serialize(o.extractedUrl),_,I)),this.events.next(new Is(g.redirectTo,g.navigationBehaviorOptions))}else{this.events.next(f);let _=r.errorHandler(l);o.resolve(!!_)}}catch(g){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(g)}}return vt}))}))}cancelNavigationTransition(r,i,s){let o=new Rn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function YO(t){return t!==ra}var ZO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>L(JO),providedIn:"root"});let t=e;return t})(),dg=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},JO=(()=>{let e=class e extends dg{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=us(e)))(s||e)}})(),e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),lC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>L(XO),providedIn:"root"});let t=e;return t})(),XO=(()=>{let e=class e extends lC{constructor(){super(...arguments),this.location=L(Ko),this.urlSerializer=L(hg),this.options=L(mg,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=L(_g),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Mn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=ZD(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof aa)this.stateMemento=this.createStateMemento();else if(r instanceof ni)this.rawUrlTree=i.initialUrl;else if(r instanceof sl){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??s,i)}}else r instanceof ua?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof Rn&&(r.code===Dt.GuardRejected||r.code===Dt.NoDataFromResolver)?this.restoreHistory(i):r instanceof ca?this.restoreHistory(i,!0):r instanceof dr&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=r instanceof Mn?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,c=k(k({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",c)}else{let o=k(k({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=us(e)))(s||e)}})(),e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ta=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ta||{});function ek(t,e){t.events.pipe(jt(n=>n instanceof dr||n instanceof Rn||n instanceof ca||n instanceof ni),re(n=>n instanceof dr||n instanceof ni?ta.COMPLETE:(n instanceof Rn?n.code===Dt.Redirect||n.code===Dt.SupersededByNewNavigation:!1)?ta.REDIRECTING:ta.FAILED),jt(n=>n!==ta.REDIRECTING),_n(1)).subscribe(()=>{e()})}function tk(t){throw t}var nk={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},rk={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ii=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=L(Wu),this.stateManager=L(lC),this.options=L(mg,{optional:!0})||{},this.pendingTasks=L(ls),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=L(QO),this.urlSerializer=L(hg),this.location=L(Ko),this.urlHandlingStrategy=L(_g),this._events=new Be,this.errorHandler=this.options.errorHandler||tk,this.navigated=!1,this.routeReuseStrategy=L(ZO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=L(vg,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!L(gg,{optional:!0}),this.eventsSubscription=new Te,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Rn&&i.code!==Dt.Redirect&&i.code!==Dt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof dr)this.navigated=!0;else if(i instanceof Is){let c=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),l=k({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||YO(s.source)},c);this.scheduleNavigation(u,ra,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}sk(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ra,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},c=s?.navigationId?s:null;if(s){let l=k({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,c,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(yg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:c,queryParamsHandling:u,preserveFragment:l}=i,f=l?this.currentUrlTree.fragment:c,g=null;switch(u??this.options.defaultQueryParamsHandling){case"merge":g=k(k({},this.currentUrlTree.queryParams),o);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=o||null}g!==null&&(g=this.removeEmptyProps(g));let _;try{let I=s?s.snapshot:this.routerState.snapshot.root;_=WD(I)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),_=this.currentUrlTree.root}return KD(_,r,g,f??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=ti(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,ra,null,i)}navigate(r,i={skipLocationChange:!1}){return ik(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=k({},nk):i===!1?s=k({},rk):s=i,ti(r))return MD(this.currentUrlTree,r,s);let o=this.parseUrl(r);return MD(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,c){if(this.disposed)return Promise.resolve(!1);let u,l,f;c?(u=c.resolve,l=c.reject,f=c.promise):f=new Promise((_,I)=>{u=_,l=I});let g=this.pendingTasks.add();return ek(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:l,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(_=>Promise.reject(_))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ik(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new $(4008,!1)}function sk(t){return!(t instanceof ua)&&!(t instanceof Is)}var Ds=(()=>{let e=class e{constructor(r,i,s,o,c,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=c,this.locationStrategy=u,this.href=null,this.onChanges=new Be,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(f=>{f instanceof dr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ti(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,i,s,o,c){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||s||o||c||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:mE(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.routerLinkInput===null?null:ti(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(Y(ii),Y(ri),tp("tabindex"),Y(Gr),Y(cr),Y(fs))},e.\u0275dir=ot({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&It("click",function(c){return s.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),i&2&&zo("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",lr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",lr],replaceUrl:[2,"replaceUrl","replaceUrl",lr],routerLink:"routerLink"},standalone:!0,features:[Ip,or]});let t=e;return t})();var ok=new B("");function dC(t,...e){return tn([{provide:vg,multi:!0,useValue:t},[],{provide:ri,useFactory:ak,deps:[ii]},{provide:Cp,multi:!0,useFactory:ck},e.map(n=>n.\u0275providers)])}function ak(t){return t.routerState.root}function ck(){let t=L(lt);return e=>{let n=t.get(Yr);if(e!==n.components[0])return;let r=t.get(ii),i=t.get(uk);t.get(lk)===1&&r.initialNavigation(),t.get(dk,null,X.Optional)?.setUpPreloading(),t.get(ok,null,X.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var uk=new B("",{factory:()=>new Be}),lk=new B("",{providedIn:"root",factory:()=>1});var dk=new B("");var pC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},hk=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],c=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},gC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,c=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=s>>2,g=(s&3)<<4|c>>4,_=(c&15)<<2|l>>6,I=l&63;u||(I=64,o||(_=64)),r.push(n[f],n[g],n[_],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):hk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||l==null||g==null)throw new wg;let _=s<<2|c>>4;if(r.push(_),l!==64){let I=c<<4&240|l>>2;if(r.push(I),g!==64){let A=l<<6&192|g;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},wg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},fk=function(t){let e=pC(t);return gC.encodeByteArray(e,!0)},ya=function(t){return fk(t).replace(/\./g,"")},Dg=function(t){try{return gC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function pk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var gk=()=>pk().__FIREBASE_DEFAULTS__,mk=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Dg(t[1]);return e&&JSON.parse(e)},gl=()=>{try{return gk()||mk()||yk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Cg=t=>{var e,n;return(n=(e=gl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},mC=t=>{let e=Cg(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},bg=()=>{var t;return(t=gl())===null||t===void 0?void 0:t.config},Tg=t=>{var e;return(e=gl())===null||e===void 0?void 0:e[`_${t}`]};var pl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function yC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ya(JSON.stringify(n)),ya(JSON.stringify(o)),""].join(".")}function He(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(He())}function vk(){var t;let e=(t=gl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _C(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function IC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wC(){let t=He();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function EC(){return!vk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Sg(){try{return typeof indexedDB=="object"}catch{return!1}}function DC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var _k="FirebaseError",Ct=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_k,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nn.prototype.create)}},Nn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Ik(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new Ct(i,c,r)}};function Ik(t,e){return t.replace(wk,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var wk=/\{\$([^}]+)}/g;function CC(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function si(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(fC(s)&&fC(o)){if(!si(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function fC(t){return t!==null&&typeof t=="object"}function va(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Cs(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function bs(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function bC(t,e){let n=new Eg(t,e);return n.subscribe.bind(n)}var Eg=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Ek(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ig),i.error===void 0&&(i.error=Ig),i.complete===void 0&&(i.complete=Ig);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Ek(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ig(){}var yG=4*60*60*1e3;function gt(t){return t&&t._delegate?t._delegate:t}var Ft=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var oi="[DEFAULT]";var Ag=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new pl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ck(e))try{this.getOrInitializeService({instanceIdentifier:oi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=oi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=oi){return this.instances.has(e)}getOptions(e=oi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Dk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=oi){return this.component?this.component.multipleInstances?e:oi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Dk(t){return t===oi?void 0:t}function Ck(t){return t.instantiationMode==="EAGER"}var ml=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Ag(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var bk=[],ae=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ae||{}),Tk={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},Sk=ae.INFO,Ak={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},Rk=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=Ak[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},fr=class{constructor(e){this.name=e,this._logLevel=Sk,this._logHandler=Rk,this._userLogHandler=null,bk.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Tk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}};var Mk=(t,e)=>e.some(n=>t instanceof n),TC,SC;function Nk(){return TC||(TC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xk(){return SC||(SC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var AC=new WeakMap,Mg=new WeakMap,RC=new WeakMap,Rg=new WeakMap,xg=new WeakMap;function Pk(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(rn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&AC.set(n,t)}).catch(()=>{}),xg.set(e,t),e}function Ok(t){if(Mg.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Mg.set(t,e)}var Ng={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Mg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||RC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function MC(t){Ng=t(Ng)}function kk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(yl(this),e,...n);return RC.set(r,e.sort?e.sort():[e]),rn(r)}:xk().includes(t)?function(...e){return t.apply(yl(this),e),rn(AC.get(this))}:function(...e){return rn(t.apply(yl(this),e))}}function Fk(t){return typeof t=="function"?kk(t):(t instanceof IDBTransaction&&Ok(t),Mk(t,Nk())?new Proxy(t,Ng):t)}function rn(t){if(t instanceof IDBRequest)return Pk(t);if(Rg.has(t))return Rg.get(t);let e=Fk(t);return e!==t&&(Rg.set(t,e),xg.set(e,t)),e}var yl=t=>xg.get(t);function xC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),c=rn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(rn(o.result),u.oldVersion,u.newVersion,rn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var Lk=["get","getKey","getAll","getAllKeys","count"],Vk=["put","add","delete","clear"],Pg=new Map;function NC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Pg.get(e))return Pg.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=Vk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Lk.includes(n)))return;let s=function(o,...c){return w(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]})};return Pg.set(e,s),s}MC(t=>ie(k({},t),{get:(e,n,r)=>NC(e,n)||t.get(e,n,r),has:(e,n)=>!!NC(e,n)||t.has(e,n)}));var kg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(jk(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function jk(t){let e=t.getComponent();return e?.type==="VERSION"}var Fg="@firebase/app",PC="0.10.10";var xn=new fr("@firebase/app"),Uk="@firebase/app-compat",Bk="@firebase/analytics-compat",$k="@firebase/analytics",Hk="@firebase/app-check-compat",qk="@firebase/app-check",zk="@firebase/auth",Gk="@firebase/auth-compat",Wk="@firebase/database",Kk="@firebase/database-compat",Qk="@firebase/functions",Yk="@firebase/functions-compat",Zk="@firebase/installations",Jk="@firebase/installations-compat",Xk="@firebase/messaging",e1="@firebase/messaging-compat",t1="@firebase/performance",n1="@firebase/performance-compat",r1="@firebase/remote-config",i1="@firebase/remote-config-compat",s1="@firebase/storage",o1="@firebase/storage-compat",a1="@firebase/firestore",c1="@firebase/vertexai-preview",u1="@firebase/firestore-compat",l1="firebase",d1="10.13.1";var Lg="[DEFAULT]",h1={[Fg]:"fire-core",[Uk]:"fire-core-compat",[$k]:"fire-analytics",[Bk]:"fire-analytics-compat",[qk]:"fire-app-check",[Hk]:"fire-app-check-compat",[zk]:"fire-auth",[Gk]:"fire-auth-compat",[Wk]:"fire-rtdb",[Kk]:"fire-rtdb-compat",[Qk]:"fire-fn",[Yk]:"fire-fn-compat",[Zk]:"fire-iid",[Jk]:"fire-iid-compat",[Xk]:"fire-fcm",[e1]:"fire-fcm-compat",[t1]:"fire-perf",[n1]:"fire-perf-compat",[r1]:"fire-rc",[i1]:"fire-rc-compat",[s1]:"fire-gcs",[o1]:"fire-gcs-compat",[a1]:"fire-fst",[u1]:"fire-fst-compat",[c1]:"fire-vertex","fire-js":"fire-js",[l1]:"fire-js-all"};var _a=new Map,f1=new Map,Vg=new Map;function OC(t,e){try{t.container.addComponent(e)}catch(n){xn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function gr(t){let e=t.name;if(Vg.has(e))return xn.debug(`There were multiple attempts to register component ${e}.`),!1;Vg.set(e,t);for(let n of _a.values())OC(n,t);for(let n of f1.values())OC(n,t);return!0}function wa(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Gt(t){return t.settings!==void 0}var p1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pr=new Nn("app","Firebase",p1);var jg=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ft("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}};var mr=d1;function $g(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Lg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw pr.create("bad-app-name",{appName:String(i)});if(n||(n=bg()),!n)throw pr.create("no-options");let s=_a.get(i);if(s){if(si(n,s.options)&&si(r,s.config))return s;throw pr.create("duplicate-app",{appName:i})}let o=new ml(i);for(let u of Vg.values())o.addComponent(u);let c=new jg(n,r,o);return _a.set(i,c),c}function Ts(t=Lg){let e=_a.get(t);if(!e&&t===Lg&&bg())return $g();if(!e)throw pr.create("no-app",{appName:t});return e}function vl(){return Array.from(_a.values())}function je(t,e,n){var r;let i=(r=h1[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xn.warn(c.join(" "));return}gr(new Ft(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var g1="firebase-heartbeat-database",m1=1,Ia="firebase-heartbeat-store",Og=null;function VC(){return Og||(Og=xC(g1,m1,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ia)}catch(n){console.warn(n)}}}}).catch(t=>{throw pr.create("idb-open",{originalErrorMessage:t.message})})),Og}function y1(t){return w(this,null,function*(){try{let n=(yield VC()).transaction(Ia),r=yield n.objectStore(Ia).get(jC(t));return yield n.done,r}catch(e){if(e instanceof Ct)xn.warn(e.message);else{let n=pr.create("idb-get",{originalErrorMessage:e?.message});xn.warn(n.message)}}})}function kC(t,e){return w(this,null,function*(){try{let r=(yield VC()).transaction(Ia,"readwrite");yield r.objectStore(Ia).put(e,jC(t)),yield r.done}catch(n){if(n instanceof Ct)xn.warn(n.message);else{let r=pr.create("idb-set",{originalErrorMessage:n?.message});xn.warn(r.message)}}})}function jC(t){return`${t.name}!${t.options.appId}`}var v1=1024,_1=30*24*60*60*1e3,Ug=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Bg(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=FC();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=_1}),this._storage.overwrite(this._heartbeatsCache))}catch(r){xn.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=FC(),{heartbeatsToSend:r,unsentEntries:i}=I1(this._heartbeatsCache.heartbeats),s=ya(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return xn.warn(n),""}})}};function FC(){return new Date().toISOString().substring(0,10)}function I1(t,e=v1){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),LC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),LC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Bg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return Sg()?DC().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield y1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return kC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return kC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function LC(t){return ya(JSON.stringify({version:2,heartbeats:t})).length}function w1(t){gr(new Ft("platform-logger",e=>new kg(e),"PRIVATE")),gr(new Ft("heartbeat",e=>new Ug(e),"PRIVATE")),je(Fg,PC,t),je(Fg,PC,"esm2017"),je("fire-js","")}w1("");var E1="firebase",D1="10.13.1";je(E1,D1,"app");var ci=new En("ANGULARFIRE2_VERSION");function Il(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Ea=(t,e)=>{let n=e?[e]:vl(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},As=class{constructor(){return Ea(C1)}},C1="app-check";function Ss(){}var _l=class{zone;delegate;constructor(e,n=Nh){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Hg=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ss,{},Ss,Ss)),n.pipe(Ve({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Rs=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new _l(Zone.current)),this.insideAngular=n.run(()=>new _l(Zone.current,Mh)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(te(ve))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function wl(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function b1(t){return wl().ngZone.runOutsideAngular(()=>t())}function ai(t){return wl().ngZone.run(()=>t())}function T1(t){return S1(wl())(t)}function S1(t){return function(n){return n=n.lift(new Hg(t.ngZone)),n.pipe(Zn(t.outsideAngular),Yn(t.insideAngular))}}var A1=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ai(()=>t.apply(void 0,r))},sn=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=ai(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ss,{},Ss,Ss))),r[s]=A1(r[s],n));let i=b1(()=>t.apply(this,r));if(!e)if(i instanceof le){let s=wl();return i.pipe(Zn(s.outsideAngular),Yn(s.insideAngular))}else return ai(()=>i);return i instanceof le?i.pipe(T1):i instanceof Promise?ai(()=>new Promise((s,o)=>i.then(c=>ai(()=>s(c)),c=>ai(()=>o(c))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:ai(()=>i)};var Pn=class{constructor(e){return e}},ui=class{constructor(){return vl()}};function R1(t){return t&&t.length===1?t[0]:new Pn(Ts())}var qg=new B("angularfire2._apps"),M1={provide:Pn,useFactory:R1,deps:[[new dt,qg]]},N1={provide:ui,deps:[[new dt,qg]]};function x1(t){return(e,n)=>{let r=n.get(ur);je("angularfire",ci.full,"core"),je("angularfire",ci.full,"app"),je("angular",tD.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Pn(i)}}function UC(t,...e){return tn([M1,N1,{provide:qg,useFactory:x1(t),multi:!0,deps:[ve,lt,Rs,...e]}])}var BC=sn($g,!0);function ib(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var sb=ib,ob=new Nn("auth","Firebase",ib());var Sl=new fr("@firebase/auth");function P1(t,...e){Sl.logLevel<=ae.WARN&&Sl.warn(`Auth (${mr}): ${t}`,...e)}function Dl(t,...e){Sl.logLevel<=ae.ERROR&&Sl.error(`Auth (${mr}): ${t}`,...e)}function an(t,...e){throw fm(t,...e)}function li(t,...e){return fm(t,...e)}function ab(t,e,n){let r=Object.assign(Object.assign({},sb()),{[e]:n});return new Nn("auth","Firebase",r).create(e,{appName:t.name})}function Fn(t){return ab(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fm(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ob.create(t,...e)}function z(t,e,...n){if(!t)throw fm(e,...n)}function On(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Dl(e),new Error(e)}function vr(t,e){t||On(e)}function Kg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function O1(){return $C()==="http:"||$C()==="https:"}function $C(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function k1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(O1()||_C()||"connection"in navigator)?navigator.onLine:!0}function F1(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var di=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,vr(n>e,"Short delay should be less than long delay!"),this.isMobile=vC()||IC()}get(){return k1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function pm(t,e){vr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Al=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;On("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;On("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;On("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var L1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var V1=new di(3e4,6e4);function _r(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Ir(s,o,c,u){return w(this,arguments,function*(t,e,n,r,i={}){return cb(t,i,()=>w(this,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let g=va(Object.assign({key:t.config.apiKey},f)).slice(1),_=yield t._getAdditionalHeaders();return _["Content-Type"]="application/json",t.languageCode&&(_["X-Firebase-Locale"]=t.languageCode),Al.fetch()(ub(t,t.config.apiHost,n,g),Object.assign({method:e,headers:_,referrerPolicy:"no-referrer"},l))}))})}function cb(t,e,n){return w(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},L1),e);try{let i=new Qg(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw El(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw El(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw El(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw El(t,"user-disabled",o);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw ab(t,f,l);an(t,f)}}catch(i){if(i instanceof Ct)throw i;an(t,"network-request-failed",{message:String(i)})}})}function Ma(s,o,c,u){return w(this,arguments,function*(t,e,n,r,i={}){let l=yield Ir(t,e,n,r,i);return"mfaPendingCredential"in l&&an(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function ub(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?pm(t.config,i):`${t.config.apiScheme}://${i}`}function j1(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Qg=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(li(this.auth,"network-request-failed")),V1.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function El(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=li(t,e,r);return i.customData._tokenResponse=n,i}function HC(t){return t!==void 0&&t.enterprise!==void 0}var Yg=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return j1(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function U1(t,e){return w(this,null,function*(){return Ir(t,"GET","/v2/recaptchaConfig",_r(t,e))})}function B1(t,e){return w(this,null,function*(){return Ir(t,"POST","/v1/accounts:delete",e)})}function lb(t,e){return w(this,null,function*(){return Ir(t,"POST","/v1/accounts:lookup",e)})}function Da(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function gm(t,e=!1){return w(this,null,function*(){let n=gt(t),r=yield n.getIdToken(e),i=mm(r);z(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Da(zg(i.auth_time)),issuedAtTime:Da(zg(i.iat)),expirationTime:Da(zg(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function zg(t){return Number(t)*1e3}function mm(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Dl("JWT malformed, contained fewer than 3 sections"),null;try{let i=Dg(n);return i?JSON.parse(i):(Dl("Failed to decode base64 JWT payload"),null)}catch(i){return Dl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function qC(t){let e=mm(t);return z(e,"internal-error"),z(typeof e.exp<"u","internal-error"),z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ba(t,e,n=!1){return w(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Ct&&$1(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function $1({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Zg=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),n)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ta=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Da(this.lastLoginAt),this.creationTime=Da(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Rl(t){return w(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield ba(t,lb(n,{idToken:r}));z(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?db(s.providerUserInfo):[],c=H1(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!c?.length,f=u?l:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Ta(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,g)})}function ym(t){return w(this,null,function*(){let e=gt(t);yield Rl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function H1(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function db(t){return t.map(e=>{var{providerId:n}=e,r=xh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function q1(t,e){return w(this,null,function*(){let n=yield cb(t,{},()=>w(this,null,function*(){let r=va({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=ub(t,i,"/v1/token",`key=${s}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Al.fetch()(o,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function z1(t,e){return w(this,null,function*(){return Ir(t,"POST","/v2/accounts:revokeToken",_r(t,e))})}var Ca=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){z(e.idToken,"internal-error"),z(typeof e.idToken<"u","internal-error"),z(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){z(e.length!==0,"internal-error");let n=qC(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return w(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield q1(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(z(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(z(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(z(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return On("not implemented")}};function yr(t,e){z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ms=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=xh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ta(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let n=yield ba(this,this.stsTokenManager.getToken(this.auth,e));return z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return gm(this,e)}reload(){return ym(this)}_assign(e){this!==e&&(z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Rl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(Gt(this.auth.app))return Promise.reject(Fn(this.auth));let e=yield this.getIdToken();return yield ba(this,B1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,c,u,l,f;let g=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(i=n.email)!==null&&i!==void 0?i:void 0,I=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,A=(o=n.photoURL)!==null&&o!==void 0?o:void 0,M=(c=n.tenantId)!==null&&c!==void 0?c:void 0,x=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,j=(l=n.createdAt)!==null&&l!==void 0?l:void 0,W=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:J,emailVerified:ge,isAnonymous:Ge,providerData:fe,stsTokenManager:D}=n;z(J&&D,e,"internal-error");let m=Ca.fromJSON(this.name,D);z(typeof J=="string",e,"internal-error"),yr(g,e.name),yr(_,e.name),z(typeof ge=="boolean",e,"internal-error"),z(typeof Ge=="boolean",e,"internal-error"),yr(I,e.name),yr(A,e.name),yr(M,e.name),yr(x,e.name),yr(j,e.name),yr(W,e.name);let y=new t({uid:J,auth:e,email:_,emailVerified:ge,displayName:g,isAnonymous:Ge,photoURL:A,phoneNumber:I,tenantId:M,stsTokenManager:m,createdAt:j,lastLoginAt:W});return fe&&Array.isArray(fe)&&(y.providerData=fe.map(E=>Object.assign({},E))),x&&(y._redirectEventId=x),y}static _fromIdTokenResponse(e,n,r=!1){return w(this,null,function*(){let i=new Ca;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Rl(s),s})}static _fromGetAccountInfoResponse(e,n,r){return w(this,null,function*(){let i=n.users[0];z(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?db(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new Ca;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ta(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var zC=new Map;function kn(t){vr(t instanceof Function,"Expected a class definition");let e=zC.get(t);return e?(vr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,zC.set(t,e),e)}var G1=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(n,r){return w(this,null,function*(){this.storage[n]=r})}_get(n){return w(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return w(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Jg=G1;function Cl(t,e,n){return`firebase:${t}:${e}:${n}`}var Ml=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Cl(this.userKey,i.apiKey,s),this.fullPersistenceKey=Cl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ms._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(this,null,function*(){if(!n.length)return new t(kn(Jg),e,r);let i=(yield Promise.all(n.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||kn(Jg),o=Cl(r,e.config.apiKey,e.name),c=null;for(let l of n)try{let f=yield l._get(o);if(f){let g=Ms._fromJSON(e,f);l!==s&&(c=g),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(n.map(l=>w(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function GC(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yb(e))return"Blackberry";if(vb(e))return"Webos";if(fb(e))return"Safari";if((e.includes("chrome/")||pb(e))&&!e.includes("edge/"))return"Chrome";if(mb(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function hb(t=He()){return/firefox\//i.test(t)}function fb(t=He()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pb(t=He()){return/crios\//i.test(t)}function gb(t=He()){return/iemobile/i.test(t)}function mb(t=He()){return/android/i.test(t)}function yb(t=He()){return/blackberry/i.test(t)}function vb(t=He()){return/webos/i.test(t)}function vm(t=He()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function W1(t=He()){var e;return vm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function K1(){return wC()&&document.documentMode===10}function _b(t=He()){return vm(t)||mb(t)||vb(t)||yb(t)||/windows phone/i.test(t)||gb(t)}function Ib(t,e=[]){let n;switch(t){case"Browser":n=GC(He());break;case"Worker":n=`${GC(He())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mr}/${r}`}var Xg=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,c)=>{try{let u=e(s);o(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Q1(n){return w(this,arguments,function*(t,e={}){return Ir(t,"GET","/v2/passwordPolicy",_r(t,e))})}var Y1=6,em=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Y1,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var tm=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nl(this),this.idTokenSubscription=new Nl(this),this.beforeStateQueue=new Xg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ob,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=kn(n)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Ml.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let n=yield lb(this,{idToken:e}),r=yield Ms._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var n;if(Gt(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===c)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return z(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield Rl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=F1()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(Gt(this.app))return Promise.reject(Fn(this));let n=e?gt(e):null;return n&&z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return w(this,null,function*(){if(!this._deleted)return e&&z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return Gt(this.app)?Promise.reject(Fn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Gt(this.app)?Promise.reject(Fn(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(kn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield Q1(this),n=new em(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Nn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield z1(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&kn(e)||this._popupRedirectResolver;z(n,this,"argument-error"),this.redirectPersistenceManager=yield Ml.create(this,[kn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(z(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ib(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return w(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&P1(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function fi(t){return gt(t)}var Nl=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=bC(n=>this.observer=n)}get next(){return z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Vl={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Z1(t){Vl=t}function wb(t){return Vl.loadJS(t)}function J1(){return Vl.recaptchaEnterpriseScript}function X1(){return Vl.gapiScript}function Eb(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var eF="recaptcha-enterprise",tF="NO_RECAPTCHA",nm=class{constructor(e){this.type=eF,this.auth=fi(e)}verify(e="verify",n=!1){return w(this,null,function*(){function r(s){return w(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,c)=>w(this,null,function*(){U1(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let l=new Yg(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{c(u)})}))})}function i(s,o,c){let u=window.grecaptcha;HC(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(tF)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(c=>{if(!n&&HC(window.grecaptcha))i(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=J1();u.length!==0&&(u+=c),wb(u).then(()=>{i(c,s,o)}).catch(l=>{o(l)})}}).catch(c=>{o(c)})})})}};function WC(t,e,n,r=!1){return w(this,null,function*(){let i=new nm(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function rm(t,e,n,r){return w(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield WC(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>w(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield WC(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function _m(t,e){let n=wa(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(si(s,e??{}))return i;an(i,"already-initialized")}return n.initialize({options:e})}function nF(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(kn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Im(t,e,n){let r=fi(t);z(r._canInitEmulator,r,"emulator-config-failed"),z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=Db(e),{host:o,port:c}=rF(e),u=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||iF()}function Db(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function rF(t){let e=Db(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:KC(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:KC(o)}}}function KC(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function iF(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Sa=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return On("not implemented")}_getIdTokenResponse(e){return On("not implemented")}_linkToIdToken(e,n){return On("not implemented")}_getReauthenticationResolver(e){return On("not implemented")}};function sF(t,e){return w(this,null,function*(){return Ir(t,"POST","/v1/accounts:signUp",e)})}function oF(t,e){return w(this,null,function*(){return Ma(t,"POST","/v1/accounts:signInWithPassword",_r(t,e))})}function aF(t,e){return w(this,null,function*(){return Ma(t,"POST","/v1/accounts:signInWithEmailLink",_r(t,e))})}function cF(t,e){return w(this,null,function*(){return Ma(t,"POST","/v1/accounts:signInWithEmailLink",_r(t,e))})}var Aa=class t extends Sa{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return w(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rm(e,n,"signInWithPassword",oF);case"emailLink":return aF(e,{email:this._email,oobCode:this._password});default:an(e,"internal-error")}})}_linkToIdToken(e,n){return w(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rm(e,r,"signUpPassword",sF);case"emailLink":return cF(e,{idToken:n,email:this._email,oobCode:this._password});default:an(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Gg(t,e){return w(this,null,function*(){return Ma(t,"POST","/v1/accounts:signInWithIdp",_r(t,e))})}function uF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lF(t){let e=Cs(bs(t)).link,n=e?Cs(bs(e)).deep_link_id:null,r=Cs(bs(t)).deep_link_id;return(r?Cs(bs(r)).link:null)||r||n||e||t}var xl=class t{constructor(e){var n,r,i,s,o,c;let u=Cs(bs(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(r=u.oobCode)!==null&&r!==void 0?r:null,g=uF((i=u.mode)!==null&&i!==void 0?i:null);z(l&&f&&g,"argument-error"),this.apiKey=l,this.operation=g,this.code=f,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){let n=lF(e);try{return new t(n)}catch{return null}}};var Cb=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Aa._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=xl.parseLink(r);return z(i,"argument-error"),Aa._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Pl=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var im=class extends Pl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function dF(t,e){return w(this,null,function*(){return Ma(t,"POST","/v1/accounts:signUp",_r(t,e))})}var Ns=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return w(this,null,function*(){let s=yield Ms._fromIdTokenResponse(e,r,i),o=QC(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=QC(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function QC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var sm=class t extends Ct{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function bb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?sm._fromErrorAndOperation(t,s,e,r):s})}function hF(t,e,n=!1){return w(this,null,function*(){let r=yield ba(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ns._forOperation(t,"link",r)})}function fF(t,e,n=!1){return w(this,null,function*(){let{auth:r}=t;if(Gt(r.app))return Promise.reject(Fn(r));let i="reauthenticate";try{let s=yield ba(t,bb(r,i,e,t),n);z(s.idToken,r,"internal-error");let o=mm(s.idToken);z(o,r,"internal-error");let{sub:c}=o;return z(t.uid===c,r,"user-mismatch"),Ns._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&an(r,"user-mismatch"),s}})}function Tb(t,e,n=!1){return w(this,null,function*(){if(Gt(t.app))return Promise.reject(Fn(t));let r="signIn",i=yield bb(t,r,e),s=yield Ns._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function wm(t,e){return w(this,null,function*(){return Tb(fi(t),e)})}function Sb(t){return w(this,null,function*(){let e=fi(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Em(t,e,n){return w(this,null,function*(){if(Gt(t.app))return Promise.reject(Fn(t));let r=fi(t),o=yield rm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dF).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&Sb(t),u}),c=yield Ns._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(c.user),c})}function Dm(t,e,n){return Gt(t.app)?Promise.reject(Fn(t)):wm(gt(t),Cb.credential(e,n)).catch(r=>w(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&Sb(t),r}))}function Cm(t,e,n,r){return gt(t).onIdTokenChanged(e,n,r)}function bm(t,e,n){return gt(t).beforeAuthStateChanged(e,n)}var Ol="__sak";var kl=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ol,"1"),this.storage.removeItem(Ol),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var pF=1e3,gF=10,mF=(()=>{class t extends kl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_b(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((c,u,l)=>{this.notifyListeners(c,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);K1()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,gF):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},pF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return w(this,null,function*(){yield Kn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return w(this,null,function*(){let r=yield Kn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return w(this,null,function*(){yield Kn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),Ab=mF;var yF=(()=>{class t extends kl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Tm=yF;function vF(t){return Promise.all(t.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var _F=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return w(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,c=this.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(c).map(f=>w(this,null,function*(){return f(r.origin,o)})),l=yield vF(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Rb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var om=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,u)=>{let l=Rb("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){let _=g;if(_.data.eventId===l)switch(_.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(_.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function on(){return window}function IF(t){on().location.href=t}function Mb(){return typeof on().WorkerGlobalScope<"u"&&typeof on().importScripts=="function"}function wF(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function EF(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function DF(){return Mb()?self:null}var Nb="firebaseLocalStorageDb",CF=1,Fl="firebaseLocalStorage",xb="fbase_key",hi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function jl(t,e){return t.transaction([Fl],e?"readwrite":"readonly").objectStore(Fl)}function bF(){let t=indexedDB.deleteDatabase(Nb);return new hi(t).toPromise()}function am(){let t=indexedDB.open(Nb,CF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Fl,{keyPath:xb})}catch(i){n(i)}}),t.addEventListener("success",()=>w(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Fl)?e(r):(r.close(),yield bF(),e(yield am()))}))})}function YC(t,e,n){return w(this,null,function*(){let r=jl(t,!0).put({[xb]:e,value:n});return new hi(r).toPromise()})}function TF(t,e){return w(this,null,function*(){let n=jl(t,!1).get(e),r=yield new hi(n).toPromise();return r===void 0?null:r.value})}function ZC(t,e){let n=jl(t,!0).delete(e);return new hi(n).toPromise()}var SF=800,AF=3,RF=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield am(),this.db)})}_withRetries(n){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>AF)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return Mb()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=_F._getInstance(DF()),this.receiver._subscribe("keyChanged",(n,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var n,r;if(this.activeServiceWorker=yield wF(),!this.activeServiceWorker)return;this.sender=new om(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||EF()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let n=yield am();return yield YC(n,Ol,"1"),yield ZC(n,Ol),!0}catch{}return!1})}_withPendingWrite(n){return w(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>YC(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return w(this,null,function*(){let r=yield this._withRetries(i=>TF(i,n));return this.localCache[n]=r,r})}_remove(n){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>ZC(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return w(this,null,function*(){let n=yield this._withRetries(s=>{let o=jl(s,!1).getAll();return new hi(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),SF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),Pb=RF;var l3=Eb("rcb"),d3=new di(3e4,6e4);function MF(t,e){return e?kn(e):(z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Ra=class extends Sa{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Gg(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Gg(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Gg(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function NF(t){return Tb(t.auth,new Ra(t),t.bypassAuthState)}function xF(t){let{auth:e,user:n}=t;return z(n,e,"internal-error"),fF(n,new Ra(t),t.bypassAuthState)}function PF(t){return w(this,null,function*(){let{auth:e,user:n}=t;return z(n,e,"internal-error"),hF(n,new Ra(t),t.bypassAuthState)})}var cm=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return NF;case"linkViaPopup":case"linkViaRedirect":return PF;case"reauthViaPopup":case"reauthViaRedirect":return xF;default:an(this.auth,"internal-error")}}resolve(e){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var h3=new di(2e3,1e4);var OF="pendingRedirect",bl=new Map,um=class t extends cm{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=bl.get(this.auth._key());if(!e){try{let r=(yield kF(this.resolver,this.auth))?yield Kn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}bl.set(this.auth._key(),e)}return this.bypassAuthState||bl.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return Kn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Kn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function kF(t,e){return w(this,null,function*(){let n=VF(e),r=LF(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function FF(t,e){bl.set(t._key(),e)}function LF(t){return kn(t._redirectPersistence)}function VF(t){return Cl(OF,t.config.apiKey,t.name)}function jF(t,e,n=!1){return w(this,null,function*(){if(Gt(t.app))return Promise.reject(Fn(t));let r=fi(t),i=MF(r,e),o=yield new um(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var UF=10*60*1e3,lm=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!BF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Ob(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(li(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=UF&&this.cachedEventUids.clear(),this.cachedEventUids.has(JC(e))}saveEventToCache(e){this.cachedEventUids.add(JC(e)),this.lastProcessedEventTime=Date.now()}};function JC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Ob({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function BF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ob(t);default:return!1}}function $F(n){return w(this,arguments,function*(t,e={}){return Ir(t,"GET","/v1/projects",e)})}var HF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qF=/^https?/;function zF(t){return w(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield $F(t);for(let n of e)try{if(GF(n))return}catch{}an(t,"unauthorized-domain")})}function GF(t){let e=Kg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!qF.test(n))return!1;if(HF.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var WF=new di(3e4,6e4);function XC(){let t=on().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function KF(t){return new Promise((e,n)=>{var r,i,s;function o(){XC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{XC(),n(li(t,"network-request-failed"))},timeout:WF.get()})}if(!((i=(r=on().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=on().gapi)===null||s===void 0)&&s.load)o();else{let c=Eb("iframefcb");return on()[c]=()=>{gapi.load?o():n(li(t,"network-request-failed"))},wb(`${X1()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw Tl=null,e})}var Tl=null;function QF(t){return Tl=Tl||KF(t),Tl}var YF=new di(5e3,15e3),ZF="__/auth/iframe",JF="emulator/auth/iframe",XF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tL(t){let e=t.config;z(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?pm(e,JF):`https://${t.config.authDomain}/${ZF}`,r={apiKey:e.apiKey,appName:t.name,v:mr},i=eL.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${va(r).slice(1)}`}function nL(t){return w(this,null,function*(){let e=yield QF(t),n=on().gapi;return z(n,t,"internal-error"),e.open({where:document.body,url:tL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XF,dontclear:!0},r=>new Promise((i,s)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=li(t,"network-request-failed"),c=on().setTimeout(()=>{s(o)},YF.get());function u(){on().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var rL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iL=500,sL=600,oL="_blank",aL="http://localhost",Ll=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function cL(t,e,n,r=iL,i=sL){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=Object.assign(Object.assign({},rL),{width:r.toString(),height:i.toString(),top:s,left:o}),l=He().toLowerCase();n&&(c=pb(l)?oL:n),hb(l)&&(e=e||aL,u.scrollbars="yes");let f=Object.entries(u).reduce((_,[I,A])=>`${_}${I}=${A},`,"");if(W1(l)&&c!=="_self")return uL(e||"",c),new Ll(null);let g=window.open(e||"",c,f);z(g,t,"popup-blocked");try{g.focus()}catch{}return new Ll(g)}function uL(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var lL="__/auth/handler",dL="emulator/auth/handler",hL=encodeURIComponent("fac");function eb(t,e,n,r,i,s){return w(this,null,function*(){z(t.config.authDomain,t,"auth-domain-config-required"),z(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:mr,eventId:i};if(e instanceof Pl){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",CC(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,g]of Object.entries(s||{}))o[f]=g}if(e instanceof im){let f=e.getScopes().filter(g=>g!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);let c=o;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let u=yield t._getAppCheckToken(),l=u?`#${hL}=${encodeURIComponent(u)}`:"";return`${fL(t)}?${va(c).slice(1)}${l}`})}function fL({config:t}){return t.emulator?pm(t,dL):`https://${t.authDomain}/${lL}`}var Wg="webStorageSupport",dm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Tm,this._completeRedirectFn=jF,this._overrideRedirectResult=FF}_openPopup(e,n,r,i){return w(this,null,function*(){var s;vr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield eb(e,n,r,Kg(),i);return cL(e,o,Rb())})}_openRedirect(e,n,r,i){return w(this,null,function*(){yield this._originValidation(e);let s=yield eb(e,n,r,Kg(),i);return IF(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(vr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return w(this,null,function*(){let n=yield nL(e),r=new lm(e);return n.register("authEvent",i=>(z(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Wg,{type:Wg},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Wg];o!==void 0&&n(!!o),an(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=zF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _b()||fb()||vm()}},kb=dm;var tb="@firebase/auth",nb="1.7.8";var hm=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function pL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gL(t){gr(new Ft("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;z(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ib(t)},l=new tm(r,i,s,u);return nF(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),gr(new Ft("auth-internal",e=>{let n=fi(e.getProvider("auth").getImmediate());return(r=>new hm(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),je(tb,nb,pL(t)),je(tb,nb,"esm2017")}var mL=5*60,yL=Tg("authIdTokenMaxAge")||mL,rb=null,vL=t=>e=>w(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>yL)return;let i=n?.token;rb!==i&&(rb=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Sm(t=Ts()){let e=wa(t,"auth");if(e.isInitialized())return e.getImmediate();let n=_m(t,{popupRedirectResolver:kb,persistence:[Pb,Ab,Tm]}),r=Tg("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=vL(s.toString());bm(n,o,()=>o(n.currentUser)),Cm(n,c=>o(c))}}let i=Cg("auth");return i&&Im(n,`http://${i}`),n}function _L(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Z1({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=li("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",_L().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gL("Browser");var Fb="auth",Ln=class{constructor(e){return e}},Na=class{constructor(){return Ea(Fb)}};var Am=new B("angularfire2.auth-instances");function lV(t,e){let n=Il(Fb,t,e);return n&&new Ln(n)}function dV(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ln(r)}}var hV={provide:Na,deps:[[new dt,Am]]},fV={provide:Ln,useFactory:lV,deps:[[new dt,Am],Pn]};function Lb(t,...e){return je("angularfire",ci.full,"auth"),tn([fV,hV,{provide:Am,useFactory:dV(t),multi:!0,deps:[ve,lt,Rs,ui,[new dt,As],...e]}])}var Vb=sn(Em,!0);var jb=sn(Sm,!0);var Ub=sn(Dm,!0);var $b=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Hb={};var Rm,qb;(function(){var t;function e(D,m){function y(){}y.prototype=m.prototype,D.D=m.prototype,D.prototype=new y,D.prototype.constructor=D,D.C=function(E,C,T){for(var v=Array(arguments.length-2),pn=2;pn<arguments.length;pn++)v[pn-2]=arguments[pn];return m.prototype[C].apply(E,v)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,m,y){y||(y=0);var E=Array(16);if(typeof m=="string")for(var C=0;16>C;++C)E[C]=m.charCodeAt(y++)|m.charCodeAt(y++)<<8|m.charCodeAt(y++)<<16|m.charCodeAt(y++)<<24;else for(C=0;16>C;++C)E[C]=m[y++]|m[y++]<<8|m[y++]<<16|m[y++]<<24;m=D.g[0],y=D.g[1],C=D.g[2];var T=D.g[3],v=m+(T^y&(C^T))+E[0]+3614090360&4294967295;m=y+(v<<7&4294967295|v>>>25),v=T+(C^m&(y^C))+E[1]+3905402710&4294967295,T=m+(v<<12&4294967295|v>>>20),v=C+(y^T&(m^y))+E[2]+606105819&4294967295,C=T+(v<<17&4294967295|v>>>15),v=y+(m^C&(T^m))+E[3]+3250441966&4294967295,y=C+(v<<22&4294967295|v>>>10),v=m+(T^y&(C^T))+E[4]+4118548399&4294967295,m=y+(v<<7&4294967295|v>>>25),v=T+(C^m&(y^C))+E[5]+1200080426&4294967295,T=m+(v<<12&4294967295|v>>>20),v=C+(y^T&(m^y))+E[6]+2821735955&4294967295,C=T+(v<<17&4294967295|v>>>15),v=y+(m^C&(T^m))+E[7]+4249261313&4294967295,y=C+(v<<22&4294967295|v>>>10),v=m+(T^y&(C^T))+E[8]+1770035416&4294967295,m=y+(v<<7&4294967295|v>>>25),v=T+(C^m&(y^C))+E[9]+2336552879&4294967295,T=m+(v<<12&4294967295|v>>>20),v=C+(y^T&(m^y))+E[10]+4294925233&4294967295,C=T+(v<<17&4294967295|v>>>15),v=y+(m^C&(T^m))+E[11]+2304563134&4294967295,y=C+(v<<22&4294967295|v>>>10),v=m+(T^y&(C^T))+E[12]+1804603682&4294967295,m=y+(v<<7&4294967295|v>>>25),v=T+(C^m&(y^C))+E[13]+4254626195&4294967295,T=m+(v<<12&4294967295|v>>>20),v=C+(y^T&(m^y))+E[14]+2792965006&4294967295,C=T+(v<<17&4294967295|v>>>15),v=y+(m^C&(T^m))+E[15]+1236535329&4294967295,y=C+(v<<22&4294967295|v>>>10),v=m+(C^T&(y^C))+E[1]+4129170786&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^C&(m^y))+E[6]+3225465664&4294967295,T=m+(v<<9&4294967295|v>>>23),v=C+(m^y&(T^m))+E[11]+643717713&4294967295,C=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(C^T))+E[0]+3921069994&4294967295,y=C+(v<<20&4294967295|v>>>12),v=m+(C^T&(y^C))+E[5]+3593408605&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^C&(m^y))+E[10]+38016083&4294967295,T=m+(v<<9&4294967295|v>>>23),v=C+(m^y&(T^m))+E[15]+3634488961&4294967295,C=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(C^T))+E[4]+3889429448&4294967295,y=C+(v<<20&4294967295|v>>>12),v=m+(C^T&(y^C))+E[9]+568446438&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^C&(m^y))+E[14]+3275163606&4294967295,T=m+(v<<9&4294967295|v>>>23),v=C+(m^y&(T^m))+E[3]+4107603335&4294967295,C=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(C^T))+E[8]+1163531501&4294967295,y=C+(v<<20&4294967295|v>>>12),v=m+(C^T&(y^C))+E[13]+2850285829&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^C&(m^y))+E[2]+4243563512&4294967295,T=m+(v<<9&4294967295|v>>>23),v=C+(m^y&(T^m))+E[7]+1735328473&4294967295,C=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(C^T))+E[12]+2368359562&4294967295,y=C+(v<<20&4294967295|v>>>12),v=m+(y^C^T)+E[5]+4294588738&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^C)+E[8]+2272392833&4294967295,T=m+(v<<11&4294967295|v>>>21),v=C+(T^m^y)+E[11]+1839030562&4294967295,C=T+(v<<16&4294967295|v>>>16),v=y+(C^T^m)+E[14]+4259657740&4294967295,y=C+(v<<23&4294967295|v>>>9),v=m+(y^C^T)+E[1]+2763975236&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^C)+E[4]+1272893353&4294967295,T=m+(v<<11&4294967295|v>>>21),v=C+(T^m^y)+E[7]+4139469664&4294967295,C=T+(v<<16&4294967295|v>>>16),v=y+(C^T^m)+E[10]+3200236656&4294967295,y=C+(v<<23&4294967295|v>>>9),v=m+(y^C^T)+E[13]+681279174&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^C)+E[0]+3936430074&4294967295,T=m+(v<<11&4294967295|v>>>21),v=C+(T^m^y)+E[3]+3572445317&4294967295,C=T+(v<<16&4294967295|v>>>16),v=y+(C^T^m)+E[6]+76029189&4294967295,y=C+(v<<23&4294967295|v>>>9),v=m+(y^C^T)+E[9]+3654602809&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^C)+E[12]+3873151461&4294967295,T=m+(v<<11&4294967295|v>>>21),v=C+(T^m^y)+E[15]+530742520&4294967295,C=T+(v<<16&4294967295|v>>>16),v=y+(C^T^m)+E[2]+3299628645&4294967295,y=C+(v<<23&4294967295|v>>>9),v=m+(C^(y|~T))+E[0]+4096336452&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~C))+E[7]+1126891415&4294967295,T=m+(v<<10&4294967295|v>>>22),v=C+(m^(T|~y))+E[14]+2878612391&4294967295,C=T+(v<<15&4294967295|v>>>17),v=y+(T^(C|~m))+E[5]+4237533241&4294967295,y=C+(v<<21&4294967295|v>>>11),v=m+(C^(y|~T))+E[12]+1700485571&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~C))+E[3]+2399980690&4294967295,T=m+(v<<10&4294967295|v>>>22),v=C+(m^(T|~y))+E[10]+4293915773&4294967295,C=T+(v<<15&4294967295|v>>>17),v=y+(T^(C|~m))+E[1]+2240044497&4294967295,y=C+(v<<21&4294967295|v>>>11),v=m+(C^(y|~T))+E[8]+1873313359&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~C))+E[15]+4264355552&4294967295,T=m+(v<<10&4294967295|v>>>22),v=C+(m^(T|~y))+E[6]+2734768916&4294967295,C=T+(v<<15&4294967295|v>>>17),v=y+(T^(C|~m))+E[13]+1309151649&4294967295,y=C+(v<<21&4294967295|v>>>11),v=m+(C^(y|~T))+E[4]+4149444226&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~C))+E[11]+3174756917&4294967295,T=m+(v<<10&4294967295|v>>>22),v=C+(m^(T|~y))+E[2]+718787259&4294967295,C=T+(v<<15&4294967295|v>>>17),v=y+(T^(C|~m))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+m&4294967295,D.g[1]=D.g[1]+(C+(v<<21&4294967295|v>>>11))&4294967295,D.g[2]=D.g[2]+C&4294967295,D.g[3]=D.g[3]+T&4294967295}r.prototype.u=function(D,m){m===void 0&&(m=D.length);for(var y=m-this.blockSize,E=this.B,C=this.h,T=0;T<m;){if(C==0)for(;T<=y;)i(this,D,T),T+=this.blockSize;if(typeof D=="string"){for(;T<m;)if(E[C++]=D.charCodeAt(T++),C==this.blockSize){i(this,E),C=0;break}}else for(;T<m;)if(E[C++]=D[T++],C==this.blockSize){i(this,E),C=0;break}}this.h=C,this.o+=m},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var m=1;m<D.length-8;++m)D[m]=0;var y=8*this.o;for(m=D.length-8;m<D.length;++m)D[m]=y&255,y/=256;for(this.u(D),D=Array(16),m=y=0;4>m;++m)for(var E=0;32>E;E+=8)D[y++]=this.g[m]>>>E&255;return D};function s(D,m){var y=c;return Object.prototype.hasOwnProperty.call(y,D)?y[D]:y[D]=m(D)}function o(D,m){this.h=m;for(var y=[],E=!0,C=D.length-1;0<=C;C--){var T=D[C]|0;E&&T==m||(y[C]=T,E=!1)}this.g=y}var c={};function u(D){return-128<=D&&128>D?s(D,function(m){return new o([m|0],0>m?-1:0)}):new o([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return g;if(0>D)return x(l(-D));for(var m=[],y=1,E=0;D>=y;E++)m[E]=D/y|0,y*=4294967296;return new o(m,0)}function f(D,m){if(D.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(D.charAt(0)=="-")return x(f(D.substring(1),m));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=l(Math.pow(m,8)),E=g,C=0;C<D.length;C+=8){var T=Math.min(8,D.length-C),v=parseInt(D.substring(C,C+T),m);8>T?(T=l(Math.pow(m,T)),E=E.j(T).add(l(v))):(E=E.j(y),E=E.add(l(v)))}return E}var g=u(0),_=u(1),I=u(16777216);t=o.prototype,t.m=function(){if(M(this))return-x(this).m();for(var D=0,m=1,y=0;y<this.g.length;y++){var E=this.i(y);D+=(0<=E?E:4294967296+E)*m,m*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(A(this))return"0";if(M(this))return"-"+x(this).toString(D);for(var m=l(Math.pow(D,6)),y=this,E="";;){var C=ge(y,m).g;y=j(y,C.j(m));var T=((0<y.g.length?y.g[0]:y.h)>>>0).toString(D);if(y=C,A(y))return T+E;for(;6>T.length;)T="0"+T;E=T+E}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function A(D){if(D.h!=0)return!1;for(var m=0;m<D.g.length;m++)if(D.g[m]!=0)return!1;return!0}function M(D){return D.h==-1}t.l=function(D){return D=j(this,D),M(D)?-1:A(D)?0:1};function x(D){for(var m=D.g.length,y=[],E=0;E<m;E++)y[E]=~D.g[E];return new o(y,~D.h).add(_)}t.abs=function(){return M(this)?x(this):this},t.add=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],E=0,C=0;C<=m;C++){var T=E+(this.i(C)&65535)+(D.i(C)&65535),v=(T>>>16)+(this.i(C)>>>16)+(D.i(C)>>>16);E=v>>>16,T&=65535,v&=65535,y[C]=v<<16|T}return new o(y,y[y.length-1]&-2147483648?-1:0)};function j(D,m){return D.add(x(m))}t.j=function(D){if(A(this)||A(D))return g;if(M(this))return M(D)?x(this).j(x(D)):x(x(this).j(D));if(M(D))return x(this.j(x(D)));if(0>this.l(I)&&0>D.l(I))return l(this.m()*D.m());for(var m=this.g.length+D.g.length,y=[],E=0;E<2*m;E++)y[E]=0;for(E=0;E<this.g.length;E++)for(var C=0;C<D.g.length;C++){var T=this.i(E)>>>16,v=this.i(E)&65535,pn=D.i(C)>>>16,ro=D.i(C)&65535;y[2*E+2*C]+=v*ro,W(y,2*E+2*C),y[2*E+2*C+1]+=T*ro,W(y,2*E+2*C+1),y[2*E+2*C+1]+=v*pn,W(y,2*E+2*C+1),y[2*E+2*C+2]+=T*pn,W(y,2*E+2*C+2)}for(E=0;E<m;E++)y[E]=y[2*E+1]<<16|y[2*E];for(E=m;E<2*m;E++)y[E]=0;return new o(y,0)};function W(D,m){for(;(D[m]&65535)!=D[m];)D[m+1]+=D[m]>>>16,D[m]&=65535,m++}function J(D,m){this.g=D,this.h=m}function ge(D,m){if(A(m))throw Error("division by zero");if(A(D))return new J(g,g);if(M(D))return m=ge(x(D),m),new J(x(m.g),x(m.h));if(M(m))return m=ge(D,x(m)),new J(x(m.g),m.h);if(30<D.g.length){if(M(D)||M(m))throw Error("slowDivide_ only works with positive integers.");for(var y=_,E=m;0>=E.l(D);)y=Ge(y),E=Ge(E);var C=fe(y,1),T=fe(E,1);for(E=fe(E,2),y=fe(y,2);!A(E);){var v=T.add(E);0>=v.l(D)&&(C=C.add(y),T=v),E=fe(E,1),y=fe(y,1)}return m=j(D,C.j(m)),new J(C,m)}for(C=g;0<=D.l(m);){for(y=Math.max(1,Math.floor(D.m()/m.m())),E=Math.ceil(Math.log(y)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),T=l(y),v=T.j(m);M(v)||0<v.l(D);)y-=E,T=l(y),v=T.j(m);A(T)&&(T=_),C=C.add(T),D=j(D,v)}return new J(C,D)}t.A=function(D){return ge(this,D).h},t.and=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],E=0;E<m;E++)y[E]=this.i(E)&D.i(E);return new o(y,this.h&D.h)},t.or=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],E=0;E<m;E++)y[E]=this.i(E)|D.i(E);return new o(y,this.h|D.h)},t.xor=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],E=0;E<m;E++)y[E]=this.i(E)^D.i(E);return new o(y,this.h^D.h)};function Ge(D){for(var m=D.g.length+1,y=[],E=0;E<m;E++)y[E]=D.i(E)<<1|D.i(E-1)>>>31;return new o(y,D.h)}function fe(D,m){var y=m>>5;m%=32;for(var E=D.g.length-y,C=[],T=0;T<E;T++)C[T]=0<m?D.i(T+y)>>>m|D.i(T+y+1)<<32-m:D.i(T+y);return new o(C,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,qb=Hb.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=f,Rm=Hb.Integer=o}).apply(typeof $b<"u"?$b:typeof self<"u"?self:typeof window<"u"?window:{});var Ul=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Vn={};var Mm,Nm,xs,xm,xa,Bl,Pm,Om,km;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ul=="object"&&Ul];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var p=0;p<a.length-1;p++){var b=a[p];if(!(b in h))break e;h=h[b]}a=a[a.length-1],p=h[a],d=d(p),d!=p&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var h=0,p=!1,b={next:function(){if(!p&&h<a.length){var S=h++;return{value:d(S,a[S]),done:!1}}return p=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(a){return a||function(){return s(this,function(d,h){return h})}});var o=o||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function g(a,d,h){if(!a)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,p),a.apply(d,b)}}return function(){return a.apply(d,arguments)}}function _(a,d,h){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,_.apply(null,arguments)}function I(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var p=h.slice();return p.push.apply(p,arguments),a.apply(this,p)}}function A(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(p,b,S){for(var P=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)P[_e-2]=arguments[_e];return d.prototype[b].apply(p,P)}}function M(a){let d=a.length;if(0<d){let h=Array(d);for(let p=0;p<d;p++)h[p]=a[p];return h}return[]}function x(a,d){for(let h=1;h<arguments.length;h++){let p=arguments[h];if(u(p)){let b=a.length||0,S=p.length||0;a.length=b+S;for(let P=0;P<S;P++)a[b+P]=p[P]}else a.push(p)}}class j{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function W(a){return/^[\s\xa0]*$/.test(a)}function J(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function ge(a){return ge[" "](a),a}ge[" "]=function(){};var Ge=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function fe(a,d,h){for(let p in a)d.call(h,a[p],p,a)}function D(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function m(a){let d={};for(let h in a)d[h]=a[h];return d}let y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(a,d){let h,p;for(let b=1;b<arguments.length;b++){p=arguments[b];for(h in p)a[h]=p[h];for(let S=0;S<y.length;S++)h=y[S],Object.prototype.hasOwnProperty.call(p,h)&&(a[h]=p[h])}}function C(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function T(a){c.setTimeout(()=>{throw a},0)}function v(){var a=Bd;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class pn{constructor(){this.h=this.g=null}add(d,h){let p=ro.get();p.set(d,h),this.h?this.h.next=p:this.g=p,this.h=p}}var ro=new j(()=>new kT,a=>a.reset());class kT{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let io,so=!1,Bd=new pn,Dv=()=>{let a=c.Promise.resolve(void 0);io=()=>{a.then(FT)}};var FT=()=>{for(var a;a=v();){try{a.h.call(a.g)}catch(h){T(h)}var d=ro;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}so=!1};function qn(){this.s=this.s,this.C=this.C}qn.prototype.s=!1,qn.prototype.ma=function(){this.s||(this.s=!0,this.N())},qn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Qe(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Qe.prototype.h=function(){this.defaultPrevented=!0};var LT=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a}();function oo(a,d){if(Qe.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,p=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(Ge){e:{try{ge(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:VT[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&oo.aa.h.call(this)}}A(oo,Qe);var VT={2:"touch",3:"pen",4:"mouse"};oo.prototype.h=function(){oo.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var ao="closure_listenable_"+(1e6*Math.random()|0),jT=0;function UT(a,d,h,p,b){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!p,this.ha=b,this.key=++jT,this.da=this.fa=!1}function nc(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function rc(a){this.src=a,this.g={},this.h=0}rc.prototype.add=function(a,d,h,p,b){var S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);var P=Hd(a,d,p,b);return-1<P?(d=a[P],h||(d.fa=!1)):(d=new UT(d,this.src,S,!!p,b),d.fa=h,a.push(d)),d};function $d(a,d){var h=d.type;if(h in a.g){var p=a.g[h],b=Array.prototype.indexOf.call(p,d,void 0),S;(S=0<=b)&&Array.prototype.splice.call(p,b,1),S&&(nc(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function Hd(a,d,h,p){for(var b=0;b<a.length;++b){var S=a[b];if(!S.da&&S.listener==d&&S.capture==!!h&&S.ha==p)return b}return-1}var qd="closure_lm_"+(1e6*Math.random()|0),zd={};function Cv(a,d,h,p,b){if(p&&p.once)return Tv(a,d,h,p,b);if(Array.isArray(d)){for(var S=0;S<d.length;S++)Cv(a,d[S],h,p,b);return null}return h=Qd(h),a&&a[ao]?a.K(d,h,l(p)?!!p.capture:!!p,b):bv(a,d,h,!1,p,b)}function bv(a,d,h,p,b,S){if(!d)throw Error("Invalid event type");var P=l(b)?!!b.capture:!!b,_e=Wd(a);if(_e||(a[qd]=_e=new rc(a)),h=_e.add(d,h,p,P,S),h.proxy)return h;if(p=BT(),h.proxy=p,p.src=a,p.listener=h,a.addEventListener)LT||(b=P),b===void 0&&(b=!1),a.addEventListener(d.toString(),p,b);else if(a.attachEvent)a.attachEvent(Av(d.toString()),p);else if(a.addListener&&a.removeListener)a.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return h}function BT(){function a(h){return d.call(a.src,a.listener,h)}let d=$T;return a}function Tv(a,d,h,p,b){if(Array.isArray(d)){for(var S=0;S<d.length;S++)Tv(a,d[S],h,p,b);return null}return h=Qd(h),a&&a[ao]?a.L(d,h,l(p)?!!p.capture:!!p,b):bv(a,d,h,!0,p,b)}function Sv(a,d,h,p,b){if(Array.isArray(d))for(var S=0;S<d.length;S++)Sv(a,d[S],h,p,b);else p=l(p)?!!p.capture:!!p,h=Qd(h),a&&a[ao]?(a=a.i,d=String(d).toString(),d in a.g&&(S=a.g[d],h=Hd(S,h,p,b),-1<h&&(nc(S[h]),Array.prototype.splice.call(S,h,1),S.length==0&&(delete a.g[d],a.h--)))):a&&(a=Wd(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Hd(d,h,p,b)),(h=-1<a?d[a]:null)&&Gd(h))}function Gd(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[ao])$d(d.i,a);else{var h=a.type,p=a.proxy;d.removeEventListener?d.removeEventListener(h,p,a.capture):d.detachEvent?d.detachEvent(Av(h),p):d.addListener&&d.removeListener&&d.removeListener(p),(h=Wd(d))?($d(h,a),h.h==0&&(h.src=null,d[qd]=null)):nc(a)}}}function Av(a){return a in zd?zd[a]:zd[a]="on"+a}function $T(a,d){if(a.da)a=!0;else{d=new oo(d,this);var h=a.listener,p=a.ha||a.src;a.fa&&Gd(a),a=h.call(p,d)}return a}function Wd(a){return a=a[qd],a instanceof rc?a:null}var Kd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qd(a){return typeof a=="function"?a:(a[Kd]||(a[Kd]=function(d){return a.handleEvent(d)}),a[Kd])}function Ye(){qn.call(this),this.i=new rc(this),this.M=this,this.F=null}A(Ye,qn),Ye.prototype[ao]=!0,Ye.prototype.removeEventListener=function(a,d,h,p){Sv(this,a,d,h,p)};function nt(a,d){var h,p=a.F;if(p)for(h=[];p;p=p.F)h.push(p);if(a=a.M,p=d.type||d,typeof d=="string")d=new Qe(d,a);else if(d instanceof Qe)d.target=d.target||a;else{var b=d;d=new Qe(p,a),E(d,b)}if(b=!0,h)for(var S=h.length-1;0<=S;S--){var P=d.g=h[S];b=ic(P,p,!0,d)&&b}if(P=d.g=a,b=ic(P,p,!0,d)&&b,b=ic(P,p,!1,d)&&b,h)for(S=0;S<h.length;S++)P=d.g=h[S],b=ic(P,p,!1,d)&&b}Ye.prototype.N=function(){if(Ye.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],p=0;p<h.length;p++)nc(h[p]);delete a.g[d],a.h--}}this.F=null},Ye.prototype.K=function(a,d,h,p){return this.i.add(String(a),d,!1,h,p)},Ye.prototype.L=function(a,d,h,p){return this.i.add(String(a),d,!0,h,p)};function ic(a,d,h,p){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,S=0;S<d.length;++S){var P=d[S];if(P&&!P.da&&P.capture==h){var _e=P.listener,We=P.ha||P.src;P.fa&&$d(a.i,P),b=_e.call(We,p)!==!1&&b}}return b&&!p.defaultPrevented}function Rv(a,d,h){if(typeof a=="function")h&&(a=_(a,h));else if(a&&typeof a.handleEvent=="function")a=_(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function Mv(a){a.g=Rv(()=>{a.g=null,a.i&&(a.i=!1,Mv(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class HT extends qn{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Mv(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function co(a){qn.call(this),this.h=a,this.g={}}A(co,qn);var Nv=[];function xv(a){fe(a.g,function(d,h){this.g.hasOwnProperty(h)&&Gd(d)},a),a.g={}}co.prototype.N=function(){co.aa.N.call(this),xv(this)},co.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yd=c.JSON.stringify,qT=c.JSON.parse,zT=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Zd(){}Zd.prototype.h=null;function Pv(a){return a.h||(a.h=a.i())}function Ov(){}var uo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Jd(){Qe.call(this,"d")}A(Jd,Qe);function Xd(){Qe.call(this,"c")}A(Xd,Qe);var Tr={},kv=null;function sc(){return kv=kv||new Ye}Tr.La="serverreachability";function Fv(a){Qe.call(this,Tr.La,a)}A(Fv,Qe);function lo(a){let d=sc();nt(d,new Fv(d))}Tr.STAT_EVENT="statevent";function Lv(a,d){Qe.call(this,Tr.STAT_EVENT,a),this.stat=d}A(Lv,Qe);function rt(a){let d=sc();nt(d,new Lv(d,a))}Tr.Ma="timingevent";function Vv(a,d){Qe.call(this,Tr.Ma,a),this.size=d}A(Vv,Qe);function ho(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function fo(){this.g=!0}fo.prototype.xa=function(){this.g=!1};function GT(a,d,h,p,b,S){a.info(function(){if(a.g)if(S)for(var P="",_e=S.split("&"),We=0;We<_e.length;We++){var pe=_e[We].split("=");if(1<pe.length){var Ze=pe[0];pe=pe[1];var Je=Ze.split("_");P=2<=Je.length&&Je[1]=="type"?P+(Ze+"="+pe+"&"):P+(Ze+"=redacted&")}}else P=null;else P=S;return"XMLHTTP REQ ("+p+") [attempt "+b+"]: "+d+`
`+h+`
`+P})}function WT(a,d,h,p,b,S,P){a.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+b+"]: "+d+`
`+h+`
`+S+" "+P})}function Di(a,d,h,p){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+QT(a,h)+(p?" "+p:"")})}function KT(a,d){a.info(function(){return"TIMEOUT: "+d})}fo.prototype.info=function(){};function QT(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var p=h[a];if(!(2>p.length)){var b=p[1];if(Array.isArray(b)&&!(1>b.length)){var S=b[0];if(S!="noop"&&S!="stop"&&S!="close")for(var P=1;P<b.length;P++)b[P]=""}}}}return Yd(h)}catch{return d}}var oc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},eh;function ac(){}A(ac,Zd),ac.prototype.g=function(){return new XMLHttpRequest},ac.prototype.i=function(){return{}},eh=new ac;function zn(a,d,h,p){this.j=a,this.i=d,this.l=h,this.R=p||1,this.U=new co(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Uv}function Uv(){this.i=null,this.g="",this.h=!1}var Bv={},th={};function nh(a,d,h){a.L=1,a.v=dc(gn(d)),a.m=h,a.P=!0,$v(a,null)}function $v(a,d){a.F=Date.now(),cc(a),a.A=gn(a.v);var h=a.A,p=a.R;Array.isArray(p)||(p=[String(p)]),n_(h.i,"t",p),a.C=0,h=a.j.J,a.h=new Uv,a.g=I_(a.j,h?d:null,!a.m),0<a.O&&(a.M=new HT(_(a.Y,a,a.g),a.O)),d=a.U,h=a.g,p=a.ca;var b="readystatechange";Array.isArray(b)||(b&&(Nv[0]=b.toString()),b=Nv);for(var S=0;S<b.length;S++){var P=Cv(h,b[S],p||d.handleEvent,!1,d.h||d);if(!P)break;d.g[P.key]=P}d=a.H?m(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),lo(),GT(a.i,a.u,a.A,a.l,a.R,a.m)}zn.prototype.ca=function(a){a=a.target;let d=this.M;d&&mn(a)==3?d.j():this.Y(a)},zn.prototype.Y=function(a){try{if(a==this.g)e:{let Je=mn(this.g);var d=this.g.Ba();let Ti=this.g.Z();if(!(3>Je)&&(Je!=3||this.g&&(this.h.h||this.g.oa()||u_(this.g)))){this.J||Je!=4||d==7||(d==8||0>=Ti?lo(3):lo(2)),rh(this);var h=this.g.Z();this.X=h;t:if(Hv(this)){var p=u_(this.g);a="";var b=p.length,S=mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Sr(this),po(this);var P="";break t}this.h.i=new c.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,a+=this.h.i.decode(p[d],{stream:!(S&&d==b-1)});p.length=0,this.h.g+=a,this.C=0,P=this.h.g}else P=this.g.oa();if(this.o=h==200,WT(this.i,this.u,this.A,this.l,this.R,Je,h),this.o){if(this.T&&!this.K){t:{if(this.g){var _e,We=this.g;if((_e=We.g?We.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(_e)){var pe=_e;break t}}pe=null}if(h=pe)Di(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ih(this,h);else{this.o=!1,this.s=3,rt(12),Sr(this),po(this);break e}}if(this.P){h=!0;let Lt;for(;!this.J&&this.C<P.length;)if(Lt=YT(this,P),Lt==th){Je==4&&(this.s=4,rt(14),h=!1),Di(this.i,this.l,null,"[Incomplete Response]");break}else if(Lt==Bv){this.s=4,rt(15),Di(this.i,this.l,P,"[Invalid Chunk]"),h=!1;break}else Di(this.i,this.l,Lt,null),ih(this,Lt);if(Hv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Je!=4||P.length!=0||this.h.h||(this.s=1,rt(16),h=!1),this.o=this.o&&h,!h)Di(this.i,this.l,P,"[Invalid Chunked Response]"),Sr(this),po(this);else if(0<P.length&&!this.W){this.W=!0;var Ze=this.j;Ze.g==this&&Ze.ba&&!Ze.M&&(Ze.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),lh(Ze),Ze.M=!0,rt(11))}}else Di(this.i,this.l,P,null),ih(this,P);Je==4&&Sr(this),this.o&&!this.J&&(Je==4?m_(this.j,this):(this.o=!1,cc(this)))}else fS(this.g),h==400&&0<P.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),Sr(this),po(this)}}}catch{}finally{}};function Hv(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function YT(a,d){var h=a.C,p=d.indexOf(`
`,h);return p==-1?th:(h=Number(d.substring(h,p)),isNaN(h)?Bv:(p+=1,p+h>d.length?th:(d=d.slice(p,p+h),a.C=p+h,d)))}zn.prototype.cancel=function(){this.J=!0,Sr(this)};function cc(a){a.S=Date.now()+a.I,qv(a,a.I)}function qv(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=ho(_(a.ba,a),d)}function rh(a){a.B&&(c.clearTimeout(a.B),a.B=null)}zn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(KT(this.i,this.A),this.L!=2&&(lo(),rt(17)),Sr(this),this.s=2,po(this)):qv(this,this.S-a)};function po(a){a.j.G==0||a.J||m_(a.j,a)}function Sr(a){rh(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,xv(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function ih(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||sh(h.h,a))){if(!a.K&&sh(h.h,a)&&h.G==3){try{var p=h.Da.g.parse(d)}catch{p=null}if(Array.isArray(p)&&p.length==3){var b=p;if(b[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)mc(h),pc(h);else break e;uh(h),rt(18)}}else h.za=b[1],0<h.za-h.T&&37500>b[2]&&h.F&&h.v==0&&!h.C&&(h.C=ho(_(h.Za,h),6e3));if(1>=Wv(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Rr(h,11)}else if((a.K||h.g==a)&&mc(h),!W(d))for(b=h.Da.g.parse(d),d=0;d<b.length;d++){let pe=b[d];if(h.T=pe[0],pe=pe[1],h.G==2)if(pe[0]=="c"){h.K=pe[1],h.ia=pe[2];let Ze=pe[3];Ze!=null&&(h.la=Ze,h.j.info("VER="+h.la));let Je=pe[4];Je!=null&&(h.Aa=Je,h.j.info("SVER="+h.Aa));let Ti=pe[5];Ti!=null&&typeof Ti=="number"&&0<Ti&&(p=1.5*Ti,h.L=p,h.j.info("backChannelRequestTimeoutMs_="+p)),p=h;let Lt=a.g;if(Lt){let vc=Lt.g?Lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vc){var S=p.h;S.g||vc.indexOf("spdy")==-1&&vc.indexOf("quic")==-1&&vc.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(oh(S,S.h),S.h=null))}if(p.D){let dh=Lt.g?Lt.g.getResponseHeader("X-HTTP-Session-Id"):null;dh&&(p.ya=dh,De(p.I,p.D,dh))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),p=h;var P=a;if(p.qa=__(p,p.J?p.ia:null,p.W),P.K){Kv(p.h,P);var _e=P,We=p.L;We&&(_e.I=We),_e.B&&(rh(_e),cc(_e)),p.g=P}else p_(p);0<h.i.length&&gc(h)}else pe[0]!="stop"&&pe[0]!="close"||Rr(h,7);else h.G==3&&(pe[0]=="stop"||pe[0]=="close"?pe[0]=="stop"?Rr(h,7):ch(h):pe[0]!="noop"&&h.l&&h.l.ta(pe),h.v=0)}}lo(4)}catch{}}var ZT=class{constructor(a,d){this.g=a,this.map=d}};function zv(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gv(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Wv(a){return a.h?1:a.g?a.g.size:0}function sh(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function oh(a,d){a.g?a.g.add(d):a.h=d}function Kv(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}zv.prototype.cancel=function(){if(this.i=Qv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function Qv(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return M(a.i)}function JT(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],h=a.length,p=0;p<h;p++)d.push(a[p]);return d}d=[],h=0;for(p in a)d[h++]=a[p];return d}function XT(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let p in a)d[h++]=p;return d}}}function Yv(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=XT(a),p=JT(a),b=p.length,S=0;S<b;S++)d.call(void 0,p[S],h&&h[S],a)}var Zv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eS(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var p=a[h].indexOf("="),b=null;if(0<=p){var S=a[h].substring(0,p);b=a[h].substring(p+1)}else S=a[h];d(S,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function Ar(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Ar){this.h=a.h,uc(this,a.j),this.o=a.o,this.g=a.g,lc(this,a.s),this.l=a.l;var d=a.i,h=new yo;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),Jv(this,h),this.m=a.m}else a&&(d=String(a).match(Zv))?(this.h=!1,uc(this,d[1]||"",!0),this.o=go(d[2]||""),this.g=go(d[3]||"",!0),lc(this,d[4]),this.l=go(d[5]||"",!0),Jv(this,d[6]||"",!0),this.m=go(d[7]||"")):(this.h=!1,this.i=new yo(null,this.h))}Ar.prototype.toString=function(){var a=[],d=this.j;d&&a.push(mo(d,Xv,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(mo(d,Xv,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(mo(h,h.charAt(0)=="/"?rS:nS,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",mo(h,sS)),a.join("")};function gn(a){return new Ar(a)}function uc(a,d,h){a.j=h?go(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function lc(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function Jv(a,d,h){d instanceof yo?(a.i=d,oS(a.i,a.h)):(h||(d=mo(d,iS)),a.i=new yo(d,a.h))}function De(a,d,h){a.i.set(d,h)}function dc(a){return De(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function go(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function mo(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,tS),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function tS(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Xv=/[#\/\?@]/g,nS=/[#\?:]/g,rS=/[#\?]/g,iS=/[#\?@]/g,sS=/#/g;function yo(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Gn(a){a.g||(a.g=new Map,a.h=0,a.i&&eS(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=yo.prototype,t.add=function(a,d){Gn(this),this.i=null,a=Ci(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function e_(a,d){Gn(a),d=Ci(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function t_(a,d){return Gn(a),d=Ci(a,d),a.g.has(d)}t.forEach=function(a,d){Gn(this),this.g.forEach(function(h,p){h.forEach(function(b){a.call(d,b,p,this)},this)},this)},t.na=function(){Gn(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let p=0;p<d.length;p++){let b=a[p];for(let S=0;S<b.length;S++)h.push(d[p])}return h},t.V=function(a){Gn(this);let d=[];if(typeof a=="string")t_(this,a)&&(d=d.concat(this.g.get(Ci(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},t.set=function(a,d){return Gn(this),this.i=null,a=Ci(this,a),t_(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function n_(a,d,h){e_(a,d),0<h.length&&(a.i=null,a.g.set(Ci(a,d),M(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var p=d[h];let S=encodeURIComponent(String(p)),P=this.V(p);for(p=0;p<P.length;p++){var b=S;P[p]!==""&&(b+="="+encodeURIComponent(String(P[p]))),a.push(b)}}return this.i=a.join("&")};function Ci(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function oS(a,d){d&&!a.j&&(Gn(a),a.i=null,a.g.forEach(function(h,p){var b=p.toLowerCase();p!=b&&(e_(this,p),n_(this,b,h))},a)),a.j=d}function aS(a,d){let h=new fo;if(c.Image){let p=new Image;p.onload=I(Wn,h,"TestLoadImage: loaded",!0,d,p),p.onerror=I(Wn,h,"TestLoadImage: error",!1,d,p),p.onabort=I(Wn,h,"TestLoadImage: abort",!1,d,p),p.ontimeout=I(Wn,h,"TestLoadImage: timeout",!1,d,p),c.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=a}else d(!1)}function cS(a,d){let h=new fo,p=new AbortController,b=setTimeout(()=>{p.abort(),Wn(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:p.signal}).then(S=>{clearTimeout(b),S.ok?Wn(h,"TestPingServer: ok",!0,d):Wn(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),Wn(h,"TestPingServer: error",!1,d)})}function Wn(a,d,h,p,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),p(h)}catch{}}function uS(){this.g=new zT}function lS(a,d,h){let p=h||"";try{Yv(a,function(b,S){let P=b;l(b)&&(P=Yd(b)),d.push(p+S+"="+encodeURIComponent(P))})}catch(b){throw d.push(p+"type="+encodeURIComponent("_badmap")),b}}function vo(a){this.l=a.Ub||null,this.j=a.eb||!1}A(vo,Zd),vo.prototype.g=function(){return new hc(this.l,this.j)},vo.prototype.i=function(a){return function(){return a}}({});function hc(a,d){Ye.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(hc,Ye),t=hc.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,Io(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_o(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Io(this)),this.g&&(this.readyState=3,Io(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;r_(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function r_(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?_o(this):Io(this),this.readyState==3&&r_(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,_o(this))},t.Qa=function(a){this.g&&(this.response=a,_o(this))},t.ga=function(){this.g&&_o(this)};function _o(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Io(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function Io(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(hc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function i_(a){let d="";return fe(a,function(h,p){d+=p,d+=":",d+=h,d+=`\r
`}),d}function ah(a,d,h){e:{for(p in h){var p=!1;break e}p=!0}p||(h=i_(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):De(a,d,h))}function be(a){Ye.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(be,Ye);var dS=/^https?$/i,hS=["POST","PUT"];t=be.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,h,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():eh.g(),this.v=this.o?Pv(this.o):Pv(eh),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(S){s_(this,S);return}if(a=h||"",h=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var b in p)h.set(b,p[b]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(let S of p.keys())h.set(S,p.get(S));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(h.keys()).find(S=>S.toLowerCase()=="content-type"),b=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(hS,d,void 0))||p||b||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,P]of h)this.g.setRequestHeader(S,P);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{c_(this),this.u=!0,this.g.send(a),this.u=!1}catch(S){s_(this,S)}};function s_(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,o_(a),fc(a)}function o_(a){a.A||(a.A=!0,nt(a,"complete"),nt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,nt(this,"complete"),nt(this,"abort"),fc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fc(this,!0)),be.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?a_(this):this.bb())},t.bb=function(){a_(this)};function a_(a){if(a.h&&typeof o<"u"&&(!a.v[1]||mn(a)!=4||a.Z()!=2)){if(a.u&&mn(a)==4)Rv(a.Ea,0,a);else if(nt(a,"readystatechange"),mn(a)==4){a.h=!1;try{let P=a.Z();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var p;if(p=P===0){var b=String(a.D).match(Zv)[1]||null;!b&&c.self&&c.self.location&&(b=c.self.location.protocol.slice(0,-1)),p=!dS.test(b?b.toLowerCase():"")}h=p}if(h)nt(a,"complete"),nt(a,"success");else{a.m=6;try{var S=2<mn(a)?a.g.statusText:""}catch{S=""}a.l=S+" ["+a.Z()+"]",o_(a)}}finally{fc(a)}}}}function fc(a,d){if(a.g){c_(a);let h=a.g,p=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||nt(a,"ready");try{h.onreadystatechange=p}catch{}}}function c_(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function mn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<mn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),qT(d)}};function u_(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function fS(a){let d={};a=(a.g&&2<=mn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<a.length;p++){if(W(a[p]))continue;var h=C(a[p]);let b=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let S=d[b]||[];d[b]=S,S.push(h)}D(d,function(p){return p.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wo(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function l_(a){this.Aa=0,this.i=[],this.j=new fo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wo("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wo("baseRetryDelayMs",5e3,a),this.cb=wo("retryDelaySeedMs",1e4,a),this.Wa=wo("forwardChannelMaxRetries",2,a),this.wa=wo("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new zv(a&&a.concurrentRequestLimit),this.Da=new uS,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=l_.prototype,t.la=8,t.G=1,t.connect=function(a,d,h,p){rt(0),this.W=a,this.H=d||{},h&&p!==void 0&&(this.H.OSID=h,this.H.OAID=p),this.F=this.X,this.I=__(this,null,this.W),gc(this)};function ch(a){if(d_(a),a.G==3){var d=a.U++,h=gn(a.I);if(De(h,"SID",a.K),De(h,"RID",d),De(h,"TYPE","terminate"),Eo(a,h),d=new zn(a,a.j,d),d.L=2,d.v=dc(gn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=I_(d.j,null),d.g.ea(d.v)),d.F=Date.now(),cc(d)}v_(a)}function pc(a){a.g&&(lh(a),a.g.cancel(),a.g=null)}function d_(a){pc(a),a.u&&(c.clearTimeout(a.u),a.u=null),mc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function gc(a){if(!Gv(a.h)&&!a.s){a.s=!0;var d=a.Ga;io||Dv(),so||(io(),so=!0),Bd.add(d,a),a.B=0}}function pS(a,d){return Wv(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=ho(_(a.Ga,a,d),y_(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let b=new zn(this,this.j,a),S=this.o;if(this.S&&(S?(S=m(S),E(S,this.S)):S=this.S),this.m!==null||this.O||(b.H=S,S=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var p=this.i[h];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(d+=p,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=f_(this,b,d),h=gn(this.I),De(h,"RID",a),De(h,"CVER",22),this.D&&De(h,"X-HTTP-Session-Id",this.D),Eo(this,h),S&&(this.O?d="headers="+encodeURIComponent(String(i_(S)))+"&"+d:this.m&&ah(h,this.m,S)),oh(this.h,b),this.Ua&&De(h,"TYPE","init"),this.P?(De(h,"$req",d),De(h,"SID","null"),b.T=!0,nh(b,h,null)):nh(b,h,d),this.G=2}}else this.G==3&&(a?h_(this,a):this.i.length==0||Gv(this.h)||h_(this))};function h_(a,d){var h;d?h=d.l:h=a.U++;let p=gn(a.I);De(p,"SID",a.K),De(p,"RID",h),De(p,"AID",a.T),Eo(a,p),a.m&&a.o&&ah(p,a.m,a.o),h=new zn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=f_(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),oh(a.h,h),nh(h,p,d)}function Eo(a,d){a.H&&fe(a.H,function(h,p){De(d,p,h)}),a.l&&Yv({},function(h,p){De(d,p,h)})}function f_(a,d,h){h=Math.min(a.i.length,h);var p=a.l?_(a.l.Na,a.l,a):null;e:{var b=a.i;let S=-1;for(;;){let P=["count="+h];S==-1?0<h?(S=b[0].g,P.push("ofs="+S)):S=0:P.push("ofs="+S);let _e=!0;for(let We=0;We<h;We++){let pe=b[We].g,Ze=b[We].map;if(pe-=S,0>pe)S=Math.max(0,b[We].g-100),_e=!1;else try{lS(Ze,P,"req"+pe+"_")}catch{p&&p(Ze)}}if(_e){p=P.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,p}function p_(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;io||Dv(),so||(io(),so=!0),Bd.add(d,a),a.v=0}}function uh(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=ho(_(a.Fa,a),y_(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,g_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=ho(_(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),pc(this),g_(this))};function lh(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function g_(a){a.g=new zn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=gn(a.qa);De(d,"RID","rpc"),De(d,"SID",a.K),De(d,"AID",a.T),De(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&De(d,"TO",a.ja),De(d,"TYPE","xmlhttp"),Eo(a,d),a.m&&a.o&&ah(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=dc(gn(d)),h.m=null,h.P=!0,$v(h,a)}t.Za=function(){this.C!=null&&(this.C=null,pc(this),uh(this),rt(19))};function mc(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function m_(a,d){var h=null;if(a.g==d){mc(a),lh(a),a.g=null;var p=2}else if(sh(a.h,d))h=d.D,Kv(a.h,d),p=1;else return;if(a.G!=0){if(d.o)if(p==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var b=a.B;p=sc(),nt(p,new Vv(p,h)),gc(a)}else p_(a);else if(b=d.s,b==3||b==0&&0<d.X||!(p==1&&pS(a,d)||p==2&&uh(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),b){case 1:Rr(a,5);break;case 4:Rr(a,10);break;case 3:Rr(a,6);break;default:Rr(a,2)}}}function y_(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function Rr(a,d){if(a.j.info("Error code "+d),d==2){var h=_(a.fb,a),p=a.Xa;let b=!p;p=new Ar(p||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||uc(p,"https"),dc(p),b?aS(p.toString(),h):cS(p.toString(),h)}else rt(2);a.G=0,a.l&&a.l.sa(d),v_(a),d_(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function v_(a){if(a.G=0,a.ka=[],a.l){let d=Qv(a.h);(d.length!=0||a.i.length!=0)&&(x(a.ka,d),x(a.ka,a.i),a.h.i.length=0,M(a.i),a.i.length=0),a.l.ra()}}function __(a,d,h){var p=h instanceof Ar?gn(h):new Ar(h);if(p.g!="")d&&(p.g=d+"."+p.g),lc(p,p.s);else{var b=c.location;p=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var S=new Ar(null);p&&uc(S,p),d&&(S.g=d),b&&lc(S,b),h&&(S.l=h),p=S}return h=a.D,d=a.ya,h&&d&&De(p,h,d),De(p,"VER",a.la),Eo(a,p),p}function I_(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new be(new vo({eb:h})):new be(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function w_(){}t=w_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function yc(){}yc.prototype.g=function(a,d){return new mt(a,d)};function mt(a,d){Ye.call(this),this.g=new l_(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!W(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!W(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new bi(this)}A(mt,Ye),mt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mt.prototype.close=function(){ch(this.g)},mt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=Yd(a),a=h);d.i.push(new ZT(d.Ya++,a)),d.G==3&&gc(d)},mt.prototype.N=function(){this.g.l=null,delete this.j,ch(this.g),delete this.g,mt.aa.N.call(this)};function E_(a){Jd.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}A(E_,Jd);function D_(){Xd.call(this),this.status=1}A(D_,Xd);function bi(a){this.g=a}A(bi,w_),bi.prototype.ua=function(){nt(this.g,"a")},bi.prototype.ta=function(a){nt(this.g,new E_(a))},bi.prototype.sa=function(a){nt(this.g,new D_)},bi.prototype.ra=function(){nt(this.g,"b")},yc.prototype.createWebChannel=yc.prototype.g,mt.prototype.send=mt.prototype.o,mt.prototype.open=mt.prototype.m,mt.prototype.close=mt.prototype.close,km=Vn.createWebChannelTransport=function(){return new yc},Om=Vn.getStatEventTarget=function(){return sc()},Pm=Vn.Event=Tr,Bl=Vn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},oc.NO_ERROR=0,oc.TIMEOUT=8,oc.HTTP_ERROR=6,xa=Vn.ErrorCode=oc,jv.COMPLETE="complete",xm=Vn.EventType=jv,Ov.EventType=uo,uo.OPEN="a",uo.CLOSE="b",uo.ERROR="c",uo.MESSAGE="d",Ye.prototype.listen=Ye.prototype.K,xs=Vn.WebChannel=Ov,Nm=Vn.FetchXmlHttpFactory=vo,be.prototype.listenOnce=be.prototype.L,be.prototype.getLastError=be.prototype.Ka,be.prototype.getLastErrorCode=be.prototype.Ba,be.prototype.getStatus=be.prototype.Z,be.prototype.getResponseJson=be.prototype.Oa,be.prototype.getResponseText=be.prototype.oa,be.prototype.send=be.prototype.ea,be.prototype.setWithCredentials=be.prototype.Ha,Mm=Vn.XhrIo=be}).apply(typeof Ul<"u"?Ul:typeof self<"u"?self:typeof window<"u"?window:{});var zb="@firebase/firestore";var qe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};qe.UNAUTHENTICATED=new qe(null),qe.GOOGLE_CREDENTIALS=new qe("google-credentials-uid"),qe.FIRST_PARTY=new qe("first-party-uid"),qe.MOCK_USER=new qe("mock-user");var Ys="10.13.1";var yi=new fr("@firebase/firestore");function Pa(){return yi.logLevel}function U(t,...e){if(yi.logLevel<=ae.DEBUG){let n=e.map(rv);yi.debug(`Firestore (${Ys}): ${t}`,...n)}}function vi(t,...e){if(yi.logLevel<=ae.ERROR){let n=e.map(rv);yi.error(`Firestore (${Ys}): ${t}`,...n)}}function Wl(t,...e){if(yi.logLevel<=ae.WARN){let n=e.map(rv);yi.warn(`Firestore (${Ys}): ${t}`,...n)}}function rv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ce(t="Unexpected state"){let e=`FIRESTORE (${Ys}) INTERNAL ASSERTION FAILED: `+t;throw vi(e),new Error(e)}function Ue(t,e){t||ce()}function Ee(t,e){return t}var R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=class extends Ct{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var jn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Kl=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},jm=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(qe.UNAUTHENTICATED))}shutdown(){}},Um=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Bm=class{constructor(e){this.t=e,this.currentUser=qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new jn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new jn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new jn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ue(typeof r.accessToken=="string"),new Kl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string"),new qe(e)}},$m=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=qe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Hm=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new $m(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},qm=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},zm=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,U("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ue(typeof n.token=="string"),this.R=n.token,new qm(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function pV(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Ql=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=pV(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function we(t,e){return t<e?-1:t>e?1:0}function Fs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var tt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new H(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Re=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new tt(0,0))}static max(){return new t(new tt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Yl=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&ce(),r===void 0?r=e.length-n:r>e.length-n&&ce(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Oe=class t extends Yl{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new H(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},gV=/^[_a-zA-Z][_a-zA-Z0-9]*$/,bt=class t extends Yl{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return gV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new H(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new H(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new H(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new H(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var ne=class t{constructor(e){this.path=e}static fromPath(e){return new t(Oe.fromString(e))}static fromName(e){return new t(Oe.fromString(e).popFirst(5))}static empty(){return new t(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Oe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Oe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Oe(e.slice()))}};var Gm=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Gm.UNKNOWN_ID=-1;function mV(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Re.fromTimestamp(r===1e9?new tt(n+1,0):new tt(n,r));return new _i(i,ne.empty(),e)}function yV(t){return new _i(t.readTime,t.key,-1)}var _i=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Re.min(),ne.empty(),-1)}static max(){return new t(Re.max(),ne.empty(),-1)}};function vV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:we(t.largestBatchId,e.largestBatchId))}var _V="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Wm=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function f0(t){return w(this,null,function*(){if(t.code!==R.FAILED_PRECONDITION||t.message!==_V)throw t;U("LocalStore","Unexpectedly lost primary lease")})}var N=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),c=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(f=>{o[l]=f,++c,c===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function IV(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function gd(t){return t.name==="IndexedDbTransactionError"}var wV=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function iv(t){return t==null}function ja(t){return t===0&&1/t==-1/0}function EV(t){return typeof t=="number"&&Number.isInteger(t)&&!ja(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var DV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],a9=[...DV,"documentOverlays"],CV=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],bV=CV,TV=[...bV,"indexConfiguration","indexState","indexEntries"];var c9=[...TV,"globals"];function Gb(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ha(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function p0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Tt=class t{constructor(e,n){this.comparator=e,this.root=n||dn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Os(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Os(this.root,e,this.comparator,!1)}getReverseIterator(){return new Os(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Os(this.root,e,this.comparator,!0)}},Os=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},dn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ce();let e=this.left.check();if(e!==this.right.check())throw ce();return e+(this.isRed()?0:1)}};dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw ce()}get value(){throw ce()}get color(){throw ce()}get left(){throw ce()}get right(){throw ce()}copy(e,n,r,i,s){return this}insert(e,n,r){return new dn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var at=class t{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Zl(this.data.getIterator())}getIteratorFrom(e){return new Zl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Zl=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var ln=class t{constructor(e){this.fields=e,e.sort(bt.comparator)}static empty(){return new t([])}unionWith(e){let n=new at(bt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Km=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Bn=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Km("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Bn.EMPTY_BYTE_STRING=new Bn("");var SV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Er(t){if(Ue(!!t),typeof t=="string"){let e=0,n=SV.exec(t);if(Ue(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pe(t.seconds),nanos:Pe(t.nanos)}}function Pe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ls(t){return typeof t=="string"?Bn.fromBase64String(t):Bn.fromUint8Array(t)}function sv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function g0(t){let e=t.mapValue.fields.__previous_value__;return sv(e)?g0(e):e}function Jl(t){let e=Er(t.mapValue.fields.__local_write_time__.timestampValue);return new tt(e.seconds,e.nanos)}var Qm=class{constructor(e,n,r,i,s,o,c,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l}},Ym=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var $l={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Vs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?sv(t)?4:y0(t)?9007199254740991:m0(t)?10:11:ce()}function hn(t,e){if(t===e)return!0;let n=Vs(t);if(n!==Vs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jl(t).isEqual(Jl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Er(i.timestampValue),c=Er(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ls(i.bytesValue).isEqual(Ls(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Pe(i.geoPointValue.latitude)===Pe(s.geoPointValue.latitude)&&Pe(i.geoPointValue.longitude)===Pe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Pe(i.integerValue)===Pe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Pe(i.doubleValue),c=Pe(s.doubleValue);return o===c?ja(o)===ja(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return Fs(t.arrayValue.values||[],e.arrayValue.values||[],hn);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(Gb(o)!==Gb(c))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!hn(o[u],c[u])))return!1;return!0}(t,e);default:return ce()}}function Ua(t,e){return(t.values||[]).find(n=>hn(n,e))!==void 0}function js(t,e){if(t===e)return 0;let n=Vs(t),r=Vs(e);if(n!==r)return we(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return we(t.booleanValue,e.booleanValue);case 2:return function(s,o){let c=Pe(s.integerValue||s.doubleValue),u=Pe(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return Wb(t.timestampValue,e.timestampValue);case 4:return Wb(Jl(t),Jl(e));case 5:return we(t.stringValue,e.stringValue);case 6:return function(s,o){let c=Ls(s),u=Ls(o);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let c=s.split("/"),u=o.split("/");for(let l=0;l<c.length&&l<u.length;l++){let f=we(c[l],u[l]);if(f!==0)return f}return we(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let c=we(Pe(s.latitude),Pe(o.latitude));return c!==0?c:we(Pe(s.longitude),Pe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Kb(t.arrayValue,e.arrayValue);case 10:return function(s,o){var c,u,l,f;let g=s.fields||{},_=o.fields||{},I=(c=g.value)===null||c===void 0?void 0:c.arrayValue,A=(u=_.value)===null||u===void 0?void 0:u.arrayValue,M=we(((l=I?.values)===null||l===void 0?void 0:l.length)||0,((f=A?.values)===null||f===void 0?void 0:f.length)||0);return M!==0?M:Kb(I,A)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===$l.mapValue&&o===$l.mapValue)return 0;if(s===$l.mapValue)return 1;if(o===$l.mapValue)return-1;let c=s.fields||{},u=Object.keys(c),l=o.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){let _=we(u[g],f[g]);if(_!==0)return _;let I=js(c[u[g]],l[f[g]]);if(I!==0)return I}return we(u.length,f.length)}(t.mapValue,e.mapValue);default:throw ce()}}function Wb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return we(t,e);let n=Er(t),r=Er(e),i=we(n.seconds,r.seconds);return i!==0?i:we(n.nanos,r.nanos)}function Kb(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=js(n[i],r[i]);if(s)return s}return we(n.length,r.length)}function Us(t){return Zm(t)}function Zm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Er(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ls(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Zm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Zm(n.fields[o])}`;return i+"}"}(t.mapValue):ce()}function Jm(t){return!!t&&"integerValue"in t}function ov(t){return!!t&&"arrayValue"in t}function zl(t){return!!t&&"mapValue"in t}function m0(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ka(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ha(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ka(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ka(t.arrayValue.values[n]);return e}return Object.assign({},t)}function y0(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var un=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!zl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ka(n)}setAll(e){let n=bt.emptyPath(),r={},i=[];e.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}o?r[c.lastSegment()]=ka(o):i.push(c.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());zl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];zl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ha(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(ka(this.value))}};function v0(t){let e=[];return Ha(t.fields,(n,r)=>{let i=new bt([n]);if(zl(r)){let s=v0(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new ln(e)}var Bs=class t{constructor(e,n,r,i,s,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new t(e,0,Re.min(),Re.min(),Re.min(),un.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Re.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Re.min(),Re.min(),un.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Re.min(),Re.min(),un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var $s=class{constructor(e,n){this.position=e,this.inclusive=n}};function Qb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ne.comparator(ne.fromName(o.referenceValue),n.key):r=js(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Yb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!hn(t.position[n],e.position[n]))return!1;return!0}var Hs=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function AV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Xl=class{},ze=class t extends Xl{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ey(e,n,r):n==="array-contains"?new ry(e,r):n==="in"?new iy(e,r):n==="not-in"?new sy(e,r):n==="array-contains-any"?new oy(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ty(e,r):new ny(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(js(n,this.value)):n!==null&&Vs(this.value)===Vs(n)&&this.matchesComparison(js(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Dr=class t extends Xl{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return _0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function _0(t){return t.op==="and"}function I0(t){return RV(t)&&_0(t)}function RV(t){for(let e of t.filters)if(e instanceof Dr)return!1;return!0}function Xm(t){if(t instanceof ze)return t.field.canonicalString()+t.op.toString()+Us(t.value);if(I0(t))return t.filters.map(e=>Xm(e)).join(",");{let e=t.filters.map(n=>Xm(n)).join(",");return`${t.op}(${e})`}}function w0(t,e){return t instanceof ze?function(r,i){return i instanceof ze&&r.op===i.op&&r.field.isEqual(i.field)&&hn(r.value,i.value)}(t,e):t instanceof Dr?function(r,i){return i instanceof Dr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,c)=>s&&w0(o,i.filters[c]),!0):!1}(t,e):void ce()}function E0(t){return t instanceof ze?function(n){return`${n.field.canonicalString()} ${n.op} ${Us(n.value)}`}(t):t instanceof Dr?function(n){return n.op.toString()+" {"+n.getFilters().map(E0).join(" ,")+"}"}(t):"Filter"}var ey=class extends ze{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){let n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}},ty=class extends ze{constructor(e,n){super(e,"in",n),this.keys=D0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},ny=class extends ze{constructor(e,n){super(e,"not-in",n),this.keys=D0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function D0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}var ry=class extends ze{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return ov(n)&&Ua(n.arrayValue,this.value)}},iy=class extends ze{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Ua(this.value.arrayValue,n)}},sy=class extends ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ua(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Ua(this.value.arrayValue,n)}},oy=class extends ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!ov(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ua(this.value.arrayValue,r))}};var ay=class{constructor(e,n=null,r=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.ue=null}};function Zb(t,e=null,n=[],r=[],i=null,s=null,o=null){return new ay(t,e,n,r,i,s,o)}function av(t){let e=Ee(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Xm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),iv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Us(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Us(r)).join(",")),e.ue=n}return e.ue}function cv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!AV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!w0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Yb(t.startAt,e.startAt)&&Yb(t.endAt,e.endAt)}var qs=class{constructor(e,n=null,r=[],i=[],s=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function MV(t,e,n,r,i,s,o,c){return new qs(t,e,n,r,i,s,o,c)}function NV(t){return new qs(t)}function Jb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function xV(t){return t.collectionGroup!==null}function Fa(t){let e=Ee(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new at(bt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Hs(s,r))}),n.has(bt.keyField().canonicalString())||e.ce.push(new Hs(bt.keyField(),r))}return e.ce}function gi(t){let e=Ee(t);return e.le||(e.le=PV(e,Fa(t))),e.le}function PV(t,e){if(t.limitType==="F")return Zb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Hs(i.field,s)});let n=t.endAt?new $s(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new $s(t.startAt.position,t.startAt.inclusive):null;return Zb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function cy(t,e,n){return new qs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function C0(t,e){return cv(gi(t),gi(e))&&t.limitType===e.limitType}function b0(t){return`${av(gi(t))}|lt:${t.limitType}`}function Oa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>E0(i)).join(", ")}]`),iv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Us(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Us(i)).join(",")),`Target(${r})`}(gi(t))}; limitType=${t.limitType})`}function uv(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ne.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Fa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,c,u){let l=Qb(o,c,u);return o.inclusive?l<=0:l<0}(r.startAt,Fa(r),i)||r.endAt&&!function(o,c,u){let l=Qb(o,c,u);return o.inclusive?l>=0:l>0}(r.endAt,Fa(r),i))}(t,e)}function OV(t){return(e,n)=>{let r=!1;for(let i of Fa(t)){let s=kV(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function kV(t,e,n){let r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(s,o,c){let u=o.data.field(s),l=c.data.field(s);return u!==null&&l!==null?js(u,l):ce()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ce()}}var Cr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ha(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return p0(this.inner)}size(){return this.innerSize}};var FV=new Tt(ne.comparator);function ed(){return FV}var T0=new Tt(ne.comparator);function Hl(...t){let e=T0;for(let n of t)e=e.insert(n.key,n);return e}function S0(t){let e=T0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function pi(){return La()}function A0(){return La()}function La(){return new Cr(t=>t.toString(),(t,e)=>t.isEqual(e))}var LV=new Tt(ne.comparator),VV=new at(ne.comparator);function et(...t){let e=VV;for(let n of t)e=e.add(n);return e}var jV=new at(we);function UV(){return jV}function lv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ja(e)?"-0":e}}function R0(t){return{integerValue:""+t}}function BV(t,e){return EV(e)?R0(e):lv(t,e)}var zs=class{constructor(){this._=void 0}};function $V(t,e,n){return t instanceof Gs?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&sv(s)&&(s=g0(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ii?N0(t,e):t instanceof wi?x0(t,e):function(i,s){let o=M0(i,s),c=Xb(o)+Xb(i.Pe);return Jm(o)&&Jm(i.Pe)?R0(c):lv(i.serializer,c)}(t,e)}function HV(t,e,n){return t instanceof Ii?N0(t,e):t instanceof wi?x0(t,e):n}function M0(t,e){return t instanceof Ws?function(r){return Jm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Gs=class extends zs{},Ii=class extends zs{constructor(e){super(),this.elements=e}};function N0(t,e){let n=P0(e);for(let r of t.elements)n.some(i=>hn(i,r))||n.push(r);return{arrayValue:{values:n}}}var wi=class extends zs{constructor(e){super(),this.elements=e}};function x0(t,e){let n=P0(e);for(let r of t.elements)n=n.filter(i=>!hn(i,r));return{arrayValue:{values:n}}}var Ws=class extends zs{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function Xb(t){return Pe(t.integerValue||t.doubleValue)}function P0(t){return ov(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function qV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ii&&i instanceof Ii||r instanceof wi&&i instanceof wi?Fs(r.elements,i.elements,hn):r instanceof Ws&&i instanceof Ws?hn(r.Pe,i.Pe):r instanceof Gs&&i instanceof Gs}(t.transform,e.transform)}var uy=class{constructor(e,n){this.version=e,this.transformResults=n}},mi=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Gl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Ks=class{};function O0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new td(t.key,mi.none()):new Ei(t.key,t.data,mi.none());{let n=t.data,r=un.empty(),i=new at(bt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new $n(t.key,r,new ln(i.toArray()),mi.none())}}function zV(t,e,n){t instanceof Ei?function(i,s,o){let c=i.value.clone(),u=t0(i.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):t instanceof $n?function(i,s,o){if(!Gl(i.precondition,s))return void s.convertToUnknownDocument(o.version);let c=t0(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(k0(i)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Va(t,e,n,r){return t instanceof Ei?function(s,o,c,u){if(!Gl(s.precondition,o))return c;let l=s.value.clone(),f=n0(s.fieldTransforms,u,o);return l.setAll(f),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof $n?function(s,o,c,u){if(!Gl(s.precondition,o))return c;let l=n0(s.fieldTransforms,u,o),f=o.data;return f.setAll(k0(s)),f.setAll(l),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,o,c){return Gl(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,n)}function GV(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=M0(r.transform,i||null);s!=null&&(n===null&&(n=un.empty()),n.set(r.field,s))}return n||null}function e0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Fs(r,i,(s,o)=>qV(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ei=class extends Ks{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},$n=class extends Ks{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function k0(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function t0(t,e,n){let r=new Map;Ue(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,c=e.data.field(s.field);r.set(s.field,HV(o,c,n[i]))}return r}function n0(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,$V(s,o,e))}return r}var td=class extends Ks{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},ly=class extends Ks{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var dy=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&zV(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Va(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Va(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=A0();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,c=this.applyToLocalView(o,s.mutatedFields);c=n.has(i.key)?null:c;let u=O0(o,c);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),et())}isEqual(e){return this.batchId===e.batchId&&Fs(this.mutations,e.mutations,(n,r)=>e0(n,r))&&Fs(this.baseMutations,e.baseMutations,(n,r)=>e0(n,r))}},hy=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ue(e.mutations.length===r.length);let i=function(){return LV}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var fy=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Ne,he;function WV(t){switch(t){default:return ce();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}function KV(t){if(t===void 0)return vi("GRPC error has no .code"),R.UNKNOWN;switch(t){case Ne.OK:return R.OK;case Ne.CANCELLED:return R.CANCELLED;case Ne.UNKNOWN:return R.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return R.INTERNAL;case Ne.UNAVAILABLE:return R.UNAVAILABLE;case Ne.UNAUTHENTICATED:return R.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case Ne.NOT_FOUND:return R.NOT_FOUND;case Ne.ALREADY_EXISTS:return R.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return R.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case Ne.ABORTED:return R.ABORTED;case Ne.OUT_OF_RANGE:return R.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return R.UNIMPLEMENTED;case Ne.DATA_LOSS:return R.DATA_LOSS;default:return ce()}}(he=Ne||(Ne={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";var l9=new Rm([4294967295,4294967295],0);var py=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function gy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QV(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function YV(t,e){return gy(t,e.toTimestamp())}function ks(t){return Ue(!!t),Re.fromTimestamp(function(n){let r=Er(n);return new tt(r.seconds,r.nanos)}(t))}function F0(t,e){return my(t,e).canonicalString()}function my(t,e){let n=function(i){return new Oe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ZV(t){let e=Oe.fromString(t);return Ue(sj(e)),e}function yy(t,e){return F0(t.databaseId,e.path)}function JV(t){let e=ZV(t);return e.length===4?Oe.emptyPath():ej(e)}function XV(t){return new Oe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ej(t){return Ue(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function r0(t,e,n){return{name:yy(t,e),fields:n.value.mapValue.fields}}function tj(t,e){let n;if(e instanceof Ei)n={update:r0(t,e.key,e.value)};else if(e instanceof td)n={delete:yy(t,e.key)};else if(e instanceof $n)n={update:r0(t,e.key,e.data),updateMask:ij(e.fieldMask)};else{if(!(e instanceof ly))return ce();n={verify:yy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let c=o.transform;if(c instanceof Gs)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ii)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof wi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Ws)return{fieldPath:o.field.canonicalString(),increment:c.Pe};throw ce()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:YV(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ce()}(t,e.precondition)),n}function nj(t,e){return t&&t.length>0?(Ue(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?ks(i.updateTime):ks(s);return o.isEqual(Re.min())&&(o=ks(s)),new uy(o,i.transformResults||[])}(n,e))):[]}function rj(t){let e=JV(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ue(r===1);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(g){let _=L0(g);return _ instanceof Dr&&I0(_)?_.getFilters():[_]}(n.where));let o=[];n.orderBy&&(o=function(g){return g.map(_=>function(A){return new Hs(Ps(A.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(_))}(n.orderBy));let c=null;n.limit&&(c=function(g){let _;return _=typeof g=="object"?g.value:g,iv(_)?null:_}(n.limit));let u=null;n.startAt&&(u=function(g){let _=!!g.before,I=g.values||[];return new $s(I,_)}(n.startAt));let l=null;return n.endAt&&(l=function(g){let _=!g.before,I=g.values||[];return new $s(I,_)}(n.endAt)),MV(e,i,o,s,c,"F",u,l)}function L0(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Ps(n.unaryFilter.field);return ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ps(n.unaryFilter.field);return ze.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Ps(n.unaryFilter.field);return ze.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Ps(n.unaryFilter.field);return ze.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ce()}}(t):t.fieldFilter!==void 0?function(n){return ze.create(Ps(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Dr.create(n.compositeFilter.filters.map(r=>L0(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ce()}}(n.compositeFilter.op))}(t):ce()}function Ps(t){return bt.fromServerFormat(t.fieldPath)}function ij(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function sj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var vy=class{constructor(e){this.ct=e}};function oj(t){let e=rj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?cy(e,e.limit,"L"):e}var nd=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Pe(e.integerValue));else if("doubleValue"in e){let r=Pe(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),ja(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Er(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Ls(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?y0(e)?this.dt(n,Number.MAX_SAFE_INTEGER):m0(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):ce()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",c=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Pe(c)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),ne.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};nd.vt=new nd;var _y=class{constructor(){this.un=new Iy}addToCollectionParentIndex(e,n){return this.un.add(n),N.resolve()}getCollectionParents(e,n){return N.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return N.resolve()}deleteFieldIndex(e,n){return N.resolve()}deleteAllFieldIndexes(e){return N.resolve()}createTargetIndexes(e,n){return N.resolve()}getDocumentsMatchingTarget(e,n){return N.resolve(null)}getIndexType(e,n){return N.resolve(0)}getFieldIndexes(e,n){return N.resolve([])}getNextCollectionGroupToUpdate(e){return N.resolve(null)}getMinOffset(e,n){return N.resolve(_i.min())}getMinOffsetFromCollectionGroup(e,n){return N.resolve(_i.min())}updateCollectionGroup(e,n,r){return N.resolve()}updateIndexEntries(e,n){return N.resolve()}},Iy=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new at(Oe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new at(Oe.comparator)).toArray()}};var d9=new Uint8Array(0);var cn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(41943040,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);var Ba=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var wy=class{constructor(){this.changes=new Cr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bs.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?N.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Ey=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Dy=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Va(r.mutation,i,ln.empty(),tt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,et()).next(()=>r))}getLocalViewOfDocuments(e,n,r=et()){let i=pi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Hl();return s.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=pi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,et()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,c)=>{n.set(o,c)})})}computeViews(e,n,r,i){let s=ed(),o=La(),c=function(){return La()}();return n.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof $n)?s=s.insert(l.key,l):f!==void 0?(o.set(l.key,f.mutation.getFieldMask()),Va(f.mutation,l,f.mutation.getFieldMask(),tt.now())):o.set(l.key,ln.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,f)=>o.set(l,f)),n.forEach((l,f)=>{var g;return c.set(l,new Ey(f,(g=o.get(l))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,n){let r=La(),i=new Tt((o,c)=>o-c),s=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let c of o)c.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let f=r.get(u)||ln.empty();f=c.applyToLocalView(l,f),r.set(u,f);let g=(i.get(c.batchId)||et()).add(u);i=i.insert(c.batchId,g)})}).next(()=>{let o=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,f=u.value,g=A0();f.forEach(_=>{if(!s.has(_)){let I=O0(n.get(_),r.get(_));I!==null&&g.set(_,I),s=s.add(_)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,g))}return N.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xV(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):N.resolve(pi()),c=-1,u=s;return o.next(l=>N.forEach(l,(f,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),s.get(f)?N.resolve():this.remoteDocumentCache.getEntry(e,f).next(_=>{u=u.insert(f,_)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,et())).next(f=>({batchId:c,changes:S0(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let i=Hl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Hl();return this.indexManager.getCollectionParents(e,s).next(c=>N.forEach(c,u=>{let l=function(g,_){return new qs(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((g,_)=>{o=o.insert(g,_)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let f=l.getKey();o.get(f)===null&&(o=o.insert(f,Bs.newInvalidDocument(f)))});let c=Hl();return o.forEach((u,l)=>{let f=s.get(u);f!==void 0&&Va(f.mutation,l,ln.empty(),tt.now()),uv(n,l)&&(c=c.insert(u,l))}),c})}};var Cy=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return N.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ks(i.createTime)}}(n)),N.resolve()}getNamedQuery(e,n){return N.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:oj(i.bundledQuery),readTime:ks(i.readTime)}}(n)),N.resolve()}};var by=class{constructor(){this.overlays=new Tt(ne.comparator),this.Ir=new Map}getOverlay(e,n){return N.resolve(this.overlays.get(n))}getOverlays(e,n){let r=pi();return N.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),N.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),N.resolve()}getOverlaysForCollection(e,n,r){let i=pi(),s=n.length+1,o=new ne(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return N.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Tt((l,f)=>l-f),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let f=s.get(l.largestBatchId);f===null&&(f=pi(),s=s.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let c=pi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>c.set(l,f)),!(c.size()>=i)););return N.resolve(c)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new fy(n,r));let s=this.Ir.get(n);s===void 0&&(s=et(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var Ty=class{constructor(){this.sessionToken=Bn.EMPTY_BYTE_STRING}getSessionToken(e){return N.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,N.resolve()}};var $a=class{constructor(){this.Tr=new at(xe.Er),this.dr=new at(xe.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new xe(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new xe(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new ne(new Oe([])),r=new xe(n,e),i=new xe(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new ne(new Oe([])),r=new xe(n,e),i=new xe(n,e+1),s=et();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new xe(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},xe=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ne.comparator(e.key,n.key)||we(e.wr,n.wr)}static Ar(e,n){return we(e.wr,n.wr)||ne.comparator(e.key,n.key)}};var Sy=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new at(xe.Er)}checkEmpty(e){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new dy(s,n,r,i);this.mutationQueue.push(o);for(let c of i)this.br=this.br.add(new xe(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return N.resolve(o)}lookupMutationBatch(e,n){return N.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return N.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new xe(n,0),i=new xe(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let c=this.Dr(o.wr);s.push(c)}),N.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new at(we);return n.forEach(i=>{let s=new xe(i,0),o=new xe(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],c=>{r=r.add(c.wr)})}),N.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;ne.isDocumentKey(s)||(s=s.child(""));let o=new xe(new ne(s),0),c=new at(we);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.wr)),!0)},o),N.resolve(this.Cr(c))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ue(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return N.forEach(n.mutations,i=>{let s=new xe(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new xe(n,0),i=this.br.firstAfterOrEqual(r);return N.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,N.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Ay=class{constructor(e){this.Mr=e,this.docs=function(){return new Tt(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return N.resolve(r?r.document.mutableCopy():Bs.newInvalidDocument(n))}getEntries(e,n){let r=ed();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Bs.newInvalidDocument(i))}),N.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ed(),o=n.path,c=new ne(o.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||vV(yV(f),r)<=0||(i.has(f.key)||uv(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return N.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ce()}Or(e,n){return N.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Ry(this)}getSize(e){return N.resolve(this.size)}},Ry=class extends wy{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),N.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var My=class{constructor(e){this.persistence=e,this.Nr=new Cr(n=>av(n),cv),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.Lr=0,this.Br=new $a,this.targetCount=0,this.kr=Ba.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),N.resolve()}getLastRemoteSnapshotVersion(e){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return N.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),N.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Ba(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,N.resolve()}updateTargetData(e,n){return this.Kn(n),N.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,N.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),N.waitFor(s).next(()=>i)}getTargetCount(e){return N.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return N.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),N.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),N.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),N.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return N.resolve(r)}containsKey(e,n){return N.resolve(this.Br.containsKey(n))}};var Ny=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new wV(0),this.Kr=!1,this.Kr=!0,this.$r=new Ty,this.referenceDelegate=e(this),this.Ur=new My(this),this.indexManager=new _y,this.remoteDocumentCache=function(i){return new Ay(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new vy(n),this.Gr=new Cy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new by,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Sy(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){U("MemoryPersistence","Starting transaction:",e);let i=new xy(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return N.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},xy=class extends Wm{constructor(e){super(),this.currentSequenceNumber=e}},Py=class t{constructor(e){this.persistence=e,this.Jr=new $a,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw ce()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),N.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),N.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),N.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.Xr,r=>{let i=ne.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Re.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return N.or([()=>N.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var Oy=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=et(),i=et();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var ky=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Fy=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return EC()?8:IV(He())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new ky;return this.Xi(e,n,o).next(c=>{if(s.result=c,this.zi)return this.es(e,n,o,c.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Pa()<=ae.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",Oa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),N.resolve()):(Pa()<=ae.DEBUG&&U("QueryEngine","Query:",Oa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Pa()<=ae.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",Oa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gi(n))):N.resolve())}Yi(e,n){if(Jb(n))return N.resolve(null);let r=gi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=cy(n,null,"F"),r=gi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=et(...s);return this.Ji.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,c);return this.ns(n,l,o,u.readTime)?this.Yi(e,cy(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return Jb(n)||i.isEqual(Re.min())?N.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?N.resolve(null):(Pa()<=ae.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Oa(n)),this.rs(e,o,n,mV(i,-1)).next(c=>c))})}ts(e,n){let r=new at(OV(e));return n.forEach((i,s)=>{uv(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Pa()<=ae.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",Oa(n)),this.Ji.getDocumentsMatchingQuery(e,n,_i.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Ly=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Tt(we),this._s=new Cr(s=>av(s),cv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Dy(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function aj(t,e,n,r){return new Ly(t,e,n,r)}function V0(t,e){return w(this,null,function*(){let n=Ee(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],c=[],u=et();for(let l of i){o.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of s){c.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:c}))})})})}function cj(t,e){let n=Ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(c,u,l,f){let g=l.batch,_=g.keys(),I=N.resolve();return _.forEach(A=>{I=I.next(()=>f.getEntry(u,A)).next(M=>{let x=l.docVersions.get(A);Ue(x!==null),M.version.compareTo(x)<0&&(g.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),f.addEntry(M)))})}),I.next(()=>c.mutationQueue.removeMutationBatch(u,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=et();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function uj(t){let e=Ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function lj(t,e){let n=Ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var rd=class{constructor(){this.activeTargetIds=UV()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Vy=class{constructor(){this.so=new rd,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new rd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var jy=class{_o(e){}shutdown(){}};var id=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var ql=null;function Fm(){return ql===null?ql=function(){return 268435456+Math.round(2147483648*Math.random())}():ql++,"0x"+ql.toString(16)}var dj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Uy=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Xe="WebChannelConnection",By=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let c=Fm(),u=this.xo(n,r.toUriEncodedString());U("RestConnection",`Sending RPC '${n}' ${c}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(f=>(U("RestConnection",`Received RPC '${n}' ${c}: `,f),f),f=>{throw Wl("RestConnection",`RPC '${n}' ${c} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,s,o,c){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ys}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=dj[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=Fm();return new Promise((o,c)=>{let u=new Mm;u.setWithCredentials(!0),u.listenOnce(xm.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case xa.NO_ERROR:let f=u.getResponseJson();U(Xe,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case xa.TIMEOUT:U(Xe,`RPC '${e}' ${s} timed out`),c(new H(R.DEADLINE_EXCEEDED,"Request time out"));break;case xa.HTTP_ERROR:let g=u.getStatus();if(U(Xe,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let _=u.getResponseJson();Array.isArray(_)&&(_=_[0]);let I=_?.error;if(I&&I.status&&I.message){let A=function(x){let j=x.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(j)>=0?j:R.UNKNOWN}(I.status);c(new H(A,I.message))}else c(new H(R.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new H(R.UNAVAILABLE,"Connection failed."));break;default:ce()}}finally{U(Xe,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);U(Xe,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=Fm(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=km(),c=Om(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new Nm({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=s.join("");U(Xe,`Creating RPC '${e}' stream ${i}: ${f}`,u);let g=o.createWebChannel(f,u),_=!1,I=!1,A=new Uy({Io:x=>{I?U(Xe,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(_||(U(Xe,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),U(Xe,`RPC '${e}' stream ${i} sending:`,x),g.send(x))},To:()=>g.close()}),M=(x,j,W)=>{x.listen(j,J=>{try{W(J)}catch(ge){setTimeout(()=>{throw ge},0)}})};return M(g,xs.EventType.OPEN,()=>{I||(U(Xe,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),M(g,xs.EventType.CLOSE,()=>{I||(I=!0,U(Xe,`RPC '${e}' stream ${i} transport closed`),A.So())}),M(g,xs.EventType.ERROR,x=>{I||(I=!0,Wl(Xe,`RPC '${e}' stream ${i} transport errored:`,x),A.So(new H(R.UNAVAILABLE,"The operation could not be completed")))}),M(g,xs.EventType.MESSAGE,x=>{var j;if(!I){let W=x.data[0];Ue(!!W);let J=W,ge=J.error||((j=J[0])===null||j===void 0?void 0:j.error);if(ge){U(Xe,`RPC '${e}' stream ${i} received error:`,ge);let Ge=ge.status,fe=function(y){let E=Ne[y];if(E!==void 0)return KV(E)}(Ge),D=ge.message;fe===void 0&&(fe=R.INTERNAL,D="Unknown error status: "+Ge+" with message "+ge.message),I=!0,A.So(new H(fe,D)),g.close()}else U(Xe,`RPC '${e}' stream ${i} received:`,W),A.bo(W)}}),M(c,Pm.STAT_EVENT,x=>{x.stat===Bl.PROXY?U(Xe,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Bl.NOPROXY&&U(Xe,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function Lm(){return typeof document<"u"?document:null}function md(t){return new py(t,!0)}var sd=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var $y=class{constructor(e,n,r,i,s,o,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new sd(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return w(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return w(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return w(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(vi(n.toString()),vi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new H(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>w(this,null,function*(){this.state=0,this.start()}))}I_(e){return U("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var Hy=class extends $y{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,Ue(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=nj(e.writeResults,e.commitTime),r=ks(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=XV(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>tj(this.serializer,r))};this.a_(n)}};var qy=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new H(R.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,my(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(R.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Lo(e,my(n,r),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(R.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},zy=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(vi(n),this.D_=!1):U("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Gy=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>w(this,null,function*(){za(this)&&(U("RemoteStore","Restarting streams for network reachability change."),yield function(u){return w(this,null,function*(){let l=Ee(u);l.L_.add(4),yield qa(l),l.q_.set("Unknown"),l.L_.delete(4),yield yd(l)})}(this))}))}),this.q_=new zy(r,i)}};function yd(t){return w(this,null,function*(){if(za(t))for(let e of t.B_)yield e(!0)})}function qa(t){return w(this,null,function*(){for(let e of t.B_)yield e(!1)})}function za(t){return Ee(t).L_.size===0}function j0(t,e,n){return w(this,null,function*(){if(!gd(e))throw e;t.L_.add(1),yield qa(t),t.q_.set("Offline"),n||(n=()=>uj(t.localStore)),t.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){U("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield yd(t)}))})}function U0(t,e){return e().catch(n=>j0(t,n,e))}function vd(t){return w(this,null,function*(){let e=Ee(t),n=br(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;hj(e);)try{let i=yield lj(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,fj(e,i)}catch(i){yield j0(e,i)}B0(e)&&$0(e)})}function hj(t){return za(t)&&t.O_.length<10}function fj(t,e){t.O_.push(e);let n=br(t);n.r_()&&n.V_&&n.m_(e.mutations)}function B0(t){return za(t)&&!br(t).n_()&&t.O_.length>0}function $0(t){br(t).start()}function pj(t){return w(this,null,function*(){br(t).p_()})}function gj(t){return w(this,null,function*(){let e=br(t);for(let n of t.O_)e.m_(n.mutations)})}function mj(t,e,n){return w(this,null,function*(){let r=t.O_.shift(),i=hy.from(r,e,n);yield U0(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield vd(t)})}function yj(t,e){return w(this,null,function*(){e&&br(t).V_&&(yield function(r,i){return w(this,null,function*(){if(function(o){return WV(o)&&o!==R.ABORTED}(i.code)){let s=r.O_.shift();br(r).s_(),yield U0(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield vd(r)}})}(t,e)),B0(t)&&$0(t)})}function i0(t,e){return w(this,null,function*(){let n=Ee(t);n.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");let r=za(n);n.L_.add(3),yield qa(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield yd(n)})}function vj(t,e){return w(this,null,function*(){let n=Ee(t);e?(n.L_.delete(2),yield yd(n)):e||(n.L_.add(2),yield qa(n),n.q_.set("Unknown"))})}function br(t){return t.U_||(t.U_=function(n,r,i){let s=Ee(n);return s.w_(),new Hy(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:pj.bind(null,t),mo:yj.bind(null,t),f_:gj.bind(null,t),g_:mj.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.U_.s_(),yield vd(t)):(yield t.U_.stop(),t.O_.length>0&&(U("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var Wy=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new jn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,c=new t(e,n,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function H0(t,e){if(vi("AsyncQueue",`${e}: ${t}`),gd(t))return new H(R.UNAVAILABLE,`${e}: ${t}`);throw t}var Ky=class{constructor(){this.queries=s0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=Ee(n),s=i.queries;i.queries=s0(),s.forEach((o,c)=>{for(let u of c.j_)u.onError(r)})})(this,new H(R.ABORTED,"Firestore shutting down"))}};function s0(){return new Cr(t=>b0(t),C0)}function _j(t){t.Y_.forEach(e=>{e.next()})}var o0,a0;(a0=o0||(o0={})).ea="default",a0.Cache="cache";var Qy=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Cr(c=>b0(c),C0),this.Ma=new Map,this.xa=new Set,this.Oa=new Tt(ne.comparator),this.Na=new Map,this.La=new $a,this.Ba={},this.ka=new Map,this.qa=Ba.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function Ij(t,e,n){return w(this,null,function*(){let r=Cj(t);try{let i=yield function(o,c){let u=Ee(o),l=tt.now(),f=c.reduce((I,A)=>I.add(A.key),et()),g,_;return u.persistence.runTransaction("Locally write mutations","readwrite",I=>{let A=ed(),M=et();return u.cs.getEntries(I,f).next(x=>{A=x,A.forEach((j,W)=>{W.isValidDocument()||(M=M.add(j))})}).next(()=>u.localDocuments.getOverlayedDocuments(I,A)).next(x=>{g=x;let j=[];for(let W of c){let J=GV(W,g.get(W.key).overlayedDocument);J!=null&&j.push(new $n(W.key,J,v0(J.value.mapValue),mi.exists(!0)))}return u.mutationQueue.addMutationBatch(I,l,j,c)}).next(x=>{_=x;let j=x.applyToLocalDocumentSet(g,M);return u.documentOverlayCache.saveOverlays(I,x.batchId,j)})}).then(()=>({batchId:_.batchId,changes:S0(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,c,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new Tt(we)),l=l.insert(c,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield _d(r,i.changes),yield vd(r.remoteStore)}catch(i){let s=H0(i,"Failed to persist write");n.reject(s)}})}function c0(t,e,n){let r=Ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let c=o.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(o,c){let u=Ee(o);u.onlineState=c;let l=!1;u.queries.forEach((f,g)=>{for(let _ of g.j_)_.Z_(c)&&(l=!0)}),l&&_j(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function wj(t,e){return w(this,null,function*(){let n=Ee(t),r=e.batch.batchId;try{let i=yield cj(n.localStore,e);z0(n,r,null),q0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield _d(n,i)}catch(i){yield f0(i)}})}function Ej(t,e,n){return w(this,null,function*(){let r=Ee(t);try{let i=yield function(o,c){let u=Ee(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,c).next(g=>(Ue(g!==null),f=g.keys(),u.mutationQueue.removeMutationBatch(l,g))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})}(r.localStore,e);z0(r,e,n),q0(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield _d(r,i)}catch(i){yield f0(i)}})}function q0(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function z0(t,e,n){let r=Ee(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function _d(t,e,n){return w(this,null,function*(){let r=Ee(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{o.push(r.Ka(u,e,n).then(l=>{var f;if((l||n)&&r.isPrimaryClient){let g=l?!l.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(l){i.push(l);let g=Oy.Wi(u.targetId,l);s.push(g)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return w(this,null,function*(){let f=Ee(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>N.forEach(l,_=>N.forEach(_.$i,I=>f.persistence.referenceDelegate.addReference(g,_.targetId,I)).next(()=>N.forEach(_.Ui,I=>f.persistence.referenceDelegate.removeReference(g,_.targetId,I)))))}catch(g){if(!gd(g))throw g;U("LocalStore","Failed to update sequence numbers: "+g)}for(let g of l){let _=g.targetId;if(!g.fromCache){let I=f.os.get(_),A=I.snapshotVersion,M=I.withLastLimboFreeSnapshotVersion(A);f.os=f.os.insert(_,M)}}})}(r.localStore,s))})}function Dj(t,e){return w(this,null,function*(){let n=Ee(t);if(!n.currentUser.isEqual(e)){U("SyncEngine","User change. New user:",e.toKey());let r=yield V0(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(c=>{c.forEach(u=>{u.reject(new H(R.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield _d(n,r.hs)}})}function Cj(t){let e=Ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ej.bind(null,e),e}var od=class{constructor(){this.synchronizeTabs=!1}initialize(e){return w(this,null,function*(){this.serializer=md(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return aj(this.persistence,new Fy,e.initialUser,this.serializer)}createPersistence(e){return new Ny(Py.Zr,this.serializer)}createSharedClientState(e){return new Vy}terminate(){return w(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Yy=class{initialize(e,n){return w(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>c0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Dj.bind(null,this.syncEngine),yield vj(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Ky}()}createDatastore(e){let n=md(e.databaseInfo.databaseId),r=function(s){return new By(s)}(e.databaseInfo);return function(s,o,c,u){return new qy(s,o,c,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,c){return new Gy(r,i,s,o,c)}(this.localStore,this.datastore,e.asyncQueue,n=>c0(this.syncEngine,n,0),function(){return id.D()?new id:new jy}())}createSyncEngine(e,n){return function(i,s,o,c,u,l,f){let g=new Qy(i,s,o,c,u,l);return f&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return w(this,null,function*(){var e,n;yield function(i){return w(this,null,function*(){let s=Ee(i);U("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield qa(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var Zy=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=qe.UNAUTHENTICATED,this.clientId=Ql.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>w(this,null,function*(){U("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(U("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new H(R.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new jn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=H0(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Vm(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield V0(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function u0(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield Tj(t);U("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>i0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>i0(e.remoteStore,i)),t._onlineComponents=e})}function bj(t){return t.name==="FirebaseError"?t.code===R.FAILED_PRECONDITION||t.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function Tj(t){return w(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){U("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Vm(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!bj(n))throw n;Wl("Error using user provided cache. Falling back to memory cache: "+n),yield Vm(t,new od)}}else U("FirestoreClient","Using default OfflineComponentProvider"),yield Vm(t,new od);return t._offlineComponents})}function Sj(t){return w(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(U("FirestoreClient","Using user provided OnlineComponentProvider"),yield u0(t,t._uninitializedComponentsProvider._online)):(U("FirestoreClient","Using default OnlineComponentProvider"),yield u0(t,new Yy))),t._onlineComponents})}function Aj(t){return Sj(t).then(e=>e.syncEngine)}function G0(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var l0=new Map;function W0(t,e,n){if(!n)throw new H(R.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Rj(t,e,n,r){if(e===!0&&r===!0)throw new H(R.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function d0(t){if(!ne.isDocumentKey(t))throw new H(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function h0(t){if(ne.isDocumentKey(t))throw new H(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function dv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce()}function K0(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=dv(t);throw new H(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var ad=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Rj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=G0((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new H(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new H(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new H(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Qs=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ad({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new H(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new H(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ad(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new jm;switch(r.type){case"firstParty":return new Hm(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=l0.get(n);r&&(U("ComponentProvider","Removing Datastore"),l0.delete(n),r.terminate())}(this),Promise.resolve()}};function Q0(t,e,n,r={}){var i;let s=(t=K0(t,Qs))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Wl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=qe.MOCK_USER;else{c=yC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new H(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new qe(l)}t._authCredentials=new Um(new Kl(c,u))}}var Jy=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Un=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},wr=class t extends Jy{constructor(e,n,r){super(e,n,NV(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Un(this.firestore,null,new ne(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function Y0(t,e,...n){if(t=gt(t),W0("collection","path",e),t instanceof Qs){let r=Oe.fromString(e,...n);return h0(r),new wr(t,null,r)}{if(!(t instanceof Un||t instanceof wr))throw new H(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Oe.fromString(e,...n));return h0(r),new wr(t.firestore,null,r)}}function Z0(t,e,...n){if(t=gt(t),arguments.length===1&&(e=Ql.newId()),W0("doc","path",e),t instanceof Qs){let r=Oe.fromString(e,...n);return d0(r),new Un(t,null,new ne(r))}{if(!(t instanceof Un||t instanceof wr))throw new H(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Oe.fromString(e,...n));return d0(r),new Un(t.firestore,t instanceof wr?t.converter:null,new ne(r))}}var Xy=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new sd(this,"async_queue_retry"),this.Eu=()=>{let n=Lm();n&&U("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=Lm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=Lm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new jn;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return w(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!gd(e))throw e;U("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw vi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=Wy.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&ce()}verifyOperationInProgress(){}mu(){return w(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};var cd=class extends Qs{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Xy}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||X0(this),this._firestoreClient.terminate()}};function J0(t,e){let n=typeof t=="object"?t:Ts(),r=typeof t=="string"?t:e||"(default)",i=wa(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=mC("firestore");s&&Q0(i,...s)}return i}function Mj(t){return t._firestoreClient||X0(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function X0(t){var e,n,r;let i=t._freezeSettings(),s=function(c,u,l,f){return new Qm(c,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,G0(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Zy(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var ud=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Bn.fromBase64String(e))}catch(n){throw new H(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var ld=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var dd=class{constructor(e){this._methodName=e}};var hd=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}};var fd=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var Nj=/^__.*__$/,ev=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new $n(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ei(e,this.data,n,this.fieldTransforms)}};function eT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce()}}var tv=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return pd(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(eT(this.wu)&&Nj.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},nv=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||md(e)}Nu(e,n,r,i=!1){return new tv({wu:e,methodName:n,Ou:r,path:bt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function xj(t){let e=t._freezeSettings(),n=md(t._databaseId);return new nv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Pj(t,e,n,r,i,s={}){let o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);iT("Data must be an object, but it was:",o,r);let c=nT(r,o),u,l;if(s.merge)u=new ln(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let f=[];for(let g of s.mergeFields){let _=Oj(e,g,n);if(!o.contains(_))throw new H(R.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);Lj(f,_)||f.push(_)}u=new ln(f),l=o.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,l=o.fieldTransforms;return new ev(new un(c),u,l)}function tT(t,e){if(rT(t=gt(t)))return iT("Unsupported field value:",e,t),nT(t,e);if(t instanceof dd)return function(r,i){if(!eT(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let c of r){let u=tT(c,i.Fu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=gt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return BV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=tt.fromDate(r);return{timestampValue:gy(i.serializer,s)}}if(r instanceof tt){let s=new tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:gy(i.serializer,s)}}if(r instanceof hd)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ud)return{bytesValue:QV(i.serializer,r._byteString)};if(r instanceof Un){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:F0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof fd)return function(o,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw c.Mu("VectorValues must only contain numeric values.");return lv(c.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${dv(r)}`)}(t,e)}function nT(t,e){let n={};return p0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ha(t,(r,i)=>{let s=tT(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function rT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof tt||t instanceof hd||t instanceof ud||t instanceof Un||t instanceof dd||t instanceof fd)}function iT(t,e,n){if(!rT(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=dv(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function Oj(t,e,n){if((e=gt(e))instanceof ld)return e._internalPath;if(typeof e=="string")return Fj(t,e);throw pd("Field path arguments must be of type string or ",t,!1,void 0,n)}var kj=new RegExp("[~\\*/\\[\\]]");function Fj(t,e,n){if(e.search(kj)>=0)throw pd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ld(...e.split("."))._internalPath}catch{throw pd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function pd(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new H(R.INVALID_ARGUMENT,c+t+u)}function Lj(t,e){return t.some(n=>n.isEqual(e))}function Vj(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function sT(t,e){let n=K0(t.firestore,cd),r=Z0(t),i=Vj(t.converter,e);return jj(n,[Pj(xj(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,mi.exists(!1))]).then(()=>r)}function jj(t,e){return function(r,i){let s=new jn;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return Ij(yield Aj(r),i,s)})),s.promise}(Mj(t),e)}(function(e,n=!0){(function(i){Ys=i})(mr),gr(new Ft("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),c=new cd(new Bm(r.getProvider("auth-internal")),new zm(r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new H(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ym(l.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),je(zb,"4.7.1",e),je(zb,"4.7.1","esm2017")})();var Hn=class{constructor(e){return e}},oT="firestore",hv=class{constructor(){return Ea(oT)}};var fv=new B("angularfire2.firestore-instances");function Uj(t,e){let n=Il(oT,t,e);return n&&new Hn(n)}function Bj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Hn(r)}}var $j={provide:hv,deps:[[new dt,fv]]},Hj={provide:Hn,useFactory:Uj,deps:[[new dt,fv],Pn]};function aT(t,...e){return je("angularfire",ci.full,"fst"),tn([Hj,$j,{provide:fv,useFactory:Bj(t),multi:!0,deps:[ve,lt,Rs,ui,[new dt,Na],[new dt,As],...e]}])}var Id=sn(sT,!0);var wd=sn(Y0,!0);var cT=sn(J0,!0);var vT=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(Y(Gr),Y(cr))},e.\u0275dir=ot({type:e});let t=e;return t})(),qj=(()=>{let e=class e extends vT{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=us(e)))(s||e)}})(),e.\u0275dir=ot({type:e,features:[Tn]});let t=e;return t})(),_T=new B("");var zj={provide:_T,useExisting:qr(()=>to),multi:!0};function Gj(){let t=An()?An().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Wj=new B(""),to=(()=>{let e=class e extends vT{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Gj())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(Y(Gr),Y(cr),Y(Wj,8))},e.\u0275dir=ot({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&It("input",function(c){return s._handleInput(c.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(c){return s._compositionEnd(c.target.value)})},features:[Go([zj]),Tn]});let t=e;return t})();function Kj(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var gv=new B(""),IT=new B("");function Qj(t){return Kj(t.value)?{required:!0}:null}function lT(t){return null}function wT(t){return t!=null}function ET(t){return Qr(t)?Ae(t):t}function DT(t){let e={};return t.forEach(n=>{e=n!=null?k(k({},e),n):e}),Object.keys(e).length===0?null:e}function CT(t,e){return e.map(n=>n(t))}function Yj(t){return!t.validate}function bT(t){return t.map(e=>Yj(e)?e:n=>e.validate(n))}function Zj(t){if(!t)return null;let e=t.filter(wT);return e.length==0?null:function(n){return DT(CT(n,e))}}function mv(t){return t!=null?Zj(bT(t)):null}function Jj(t){if(!t)return null;let e=t.filter(wT);return e.length==0?null:function(n){let r=CT(n,e).map(ET);return kh(r).pipe(re(DT))}}function yv(t){return t!=null?Jj(bT(t)):null}function dT(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Xj(t){return t._rawValidators}function eU(t){return t._rawAsyncValidators}function pv(t){return t?Array.isArray(t)?t:[t]:[]}function Dd(t,e){return Array.isArray(t)?t.includes(e):t===e}function hT(t,e){let n=pv(e);return pv(t).forEach(i=>{Dd(n,i)||n.push(i)}),n}function fT(t,e){return pv(e).filter(n=>!Dd(t,n))}var Cd=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=mv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=yv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Xs=class extends Cd{get formDirective(){return null}get path(){return null}},Za=class extends Cd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},bd=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},tU={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},YW=ie(k({},tU),{"[class.ng-submitted]":"isSubmitted"}),Rd=(()=>{let e=class e extends bd{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(Y(Za,2))},e.\u0275dir=ot({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&zu("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Tn]});let t=e;return t})(),Md=(()=>{let e=class e extends bd{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(Y(Xs,10))},e.\u0275dir=ot({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&zu("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Tn]});let t=e;return t})();var Ga="VALID",Ed="INVALID",Zs="PENDING",Wa="DISABLED",eo=class{},Td=class extends eo{constructor(e,n){super(),this.value=e,this.source=n}},Qa=class extends eo{constructor(e,n){super(),this.pristine=e,this.source=n}},Ya=class extends eo{constructor(e,n){super(),this.touched=e,this.source=n}},Js=class extends eo{constructor(e,n){super(),this.status=e,this.source=n}};function TT(t){return(Nd(t)?t.validators:t)||null}function nU(t){return Array.isArray(t)?mv(t):t||null}function ST(t,e){return(Nd(e)?e.asyncValidators:t)||null}function rU(t){return Array.isArray(t)?yv(t):t||null}function Nd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function iU(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new $(1e3,"");if(!r[n])throw new $(1001,"")}function sU(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new $(1002,"")})}var Sd=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Wo(()=>this.statusReactive()),this.statusReactive=$o(void 0),this._pristine=Wo(()=>this.pristineReactive()),this.pristineReactive=$o(!0),this._touched=Wo(()=>this.touchedReactive()),this.touchedReactive=$o(!1),this._events=new Be,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Sn(this.statusReactive)}set status(e){Sn(()=>this.statusReactive.set(e))}get valid(){return this.status===Ga}get invalid(){return this.status===Ed}get pending(){return this.status==Zs}get disabled(){return this.status===Wa}get enabled(){return this.status!==Wa}get pristine(){return Sn(this.pristineReactive)}set pristine(e){Sn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Sn(this.touchedReactive)}set touched(e){Sn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(hT(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(hT(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(fT(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(fT(e,this._rawAsyncValidators))}hasValidator(e){return Dd(this._rawValidators,e)}hasAsyncValidator(e){return Dd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ie(k({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ya(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ya(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ie(k({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Qa(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Qa(!0,r))}markAsPending(e={}){this.status=Zs;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Js(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ie(k({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Wa,this.errors=null,this._forEachChild(i=>{i.disable(ie(k({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Td(this.value,r)),this._events.next(new Js(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ie(k({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ga,this._forEachChild(r=>{r.enable(ie(k({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ie(k({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ga||this.status===Zs)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Td(this.value,n)),this._events.next(new Js(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ie(k({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Wa:Ga}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Zs,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=ET(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Js(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Se,this.statusChanges=new Se}_calculateStatus(){return this._allControlsDisabled()?Wa:this.errors?Ed:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zs)?Zs:this._anyControlsHaveStatus(Ed)?Ed:Ga}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Qa(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Ya(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Nd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=nU(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=rU(this._rawAsyncValidators)}},Ad=class extends Sd{constructor(e,n,r){super(TT(n),ST(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){sU(this,!0,e),Object.keys(e).forEach(r=>{iU(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var vv=new B("CallSetDisabledState",{providedIn:"root",factory:()=>_v}),_v="always";function oU(t,e){return[...e.path,t]}function AT(t,e,n=_v){RT(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),cU(t,e),lU(t,e),uU(t,e),aU(t,e)}function pT(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function aU(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function RT(t,e){let n=Xj(t);e.validator!==null?t.setValidators(dT(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=eU(t);e.asyncValidator!==null?t.setAsyncValidators(dT(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();pT(e._rawValidators,i),pT(e._rawAsyncValidators,i)}function cU(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&MT(t,e)})}function uU(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&MT(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function MT(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function lU(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function dU(t,e){t==null,RT(t,e)}function hU(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function fU(t){return Object.getPrototypeOf(t.constructor)===qj}function pU(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function gU(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===to?n=s:fU(s)?r=s:i=s}),i||r||n||null}var mU={provide:Xs,useExisting:qr(()=>Ja)},Ka=Promise.resolve(),Ja=(()=>{let e=class e extends Xs{get submitted(){return Sn(this.submittedReactive)}constructor(r,i,s){super(),this.callSetDisabledState=s,this._submitted=Wo(()=>this.submittedReactive()),this.submittedReactive=$o(!1),this._directives=new Set,this.ngSubmit=new Se,this.form=new Ad({},mv(r),yv(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Ka.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),AT(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Ka.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Ka.then(()=>{let i=this._findContainer(r.path),s=new Ad({});dU(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Ka.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Ka.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submittedReactive.set(!0),pU(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(Y(gv,10),Y(IT,10),Y(vv,8))},e.\u0275dir=ot({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&It("submit",function(c){return s.onSubmit(c)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Go([mU]),Tn]});let t=e;return t})();function gT(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function mT(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var yU=class extends Sd{constructor(e=null,n,r){super(TT(n),ST(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Nd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(mT(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){gT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){gT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){mT(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var vU={provide:Za,useExisting:qr(()=>Xa)},yT=Promise.resolve(),Xa=(()=>{let e=class e extends Za{constructor(r,i,s,o,c,u){super(),this._changeDetectorRef=c,this.callSetDisabledState=u,this.control=new yU,this._registered=!1,this.name="",this.update=new Se,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=gU(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),hU(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){AT(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){yT.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&lr(i);yT.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?oU(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(Y(Xs,9),Y(gv,10),Y(IT,10),Y(_T,10),Y(Zr,8),Y(vv,8))},e.\u0275dir=ot({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Go([vU]),Tn,or]});let t=e;return t})(),xd=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ot({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var _U=(()=>{let e=class e{constructor(){this._validator=lT}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):lT,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ot({type:e,features:[or]});let t=e;return t})();var IU={provide:gv,useExisting:qr(()=>ec),multi:!0};var ec=(()=>{let e=class e extends _U{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=lr,this.createValidator=r=>Qj}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=us(e)))(s||e)}})(),e.\u0275dir=ot({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,s){i&2&&zo("required",s._enabled?"":null)},inputs:{required:"required"},features:[Go([IU]),Tn]});let t=e;return t})();var wU=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=os({type:e}),e.\u0275inj=ss({});let t=e;return t})();var no=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:vv,useValue:r.callSetDisabledState??_v}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=os({type:e}),e.\u0275inj=ss({imports:[wU]});let t=e;return t})();var wv=A_(Iv());var fn=class t{usuarioLogueadoSource=new Fe(null);usuarioLogueado$=this.usuarioLogueadoSource.asObservable();constructor(){}setUsuarioLogueado(e){this.usuarioLogueadoSource.next(e)}logout(){this.usuarioLogueadoSource.next(null)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})};var kd=class t{constructor(e,n,r,i){this.auth=e;this.router=n;this.firestore=r;this.authService=i}nuevoUsername="";nuevaPass="";usuarioLogeado="";mensajeError="";registrarUsuario(){Vb(this.auth,this.nuevoUsername,this.nuevaPass).then(e=>{this.mensajeError="",e.user.email!==null&&(this.usuarioLogeado=e.user.email,(0,wv.default)({text:`Bienvenido, ${this.usuarioLogeado}!`,backgroundColor:"linear-gradient(to right, #00b09b, #96c93d)",duration:3e3}).showToast()),this.authService.setUsuarioLogueado(e.user.email);let n=wd(this.firestore,"logins"),r={fecha:new Date,user:e.user.email};Id(n,r),setTimeout(()=>{this.router.navigate(["/home"])},3e3)}).catch(e=>{switch(e.code){case"auth/invalid-email":this.mensajeError="Email invalido";break;case"auth/email-already-in-use":this.mensajeError="Email ya en uso";break;case"auth/missing-password":this.mensajeError="Falta la contrase\xF1a";break;case"auth/weak-password":this.mensajeError="La contrase\xF1a es debil";break;default:this.mensajeError=e.code;break}(0,wv.default)({text:this.mensajeError,backgroundColor:"linear-gradient(to right, #ff5f6d, #ffc371)",duration:3e3}).showToast()})}static \u0275fac=function(n){return new(n||t)(Y(Ln),Y(ii),Y(Hn),Y(fn))};static \u0275cmp=ht({type:t,selectors:[["app-registro"]],standalone:!0,features:[pt],decls:21,vars:2,consts:[[1,"banner"],[1,"main-ingresar"],[1,"registro-principal"],[1,"registro"],["id","registro-form"],["for","username"],["type","text","id","username","name","username","required","",3,"ngModelChange","ngModel"],["for","password"],["type","text","id","password","name","password","required","",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-danger",3,"click"],[1,"imagen-ingresar"],["src","assets/img/terminator.jpg","alt","terminator login"]],template:function(n,r){n&1&&(O(0,"section")(1,"div",0)(2,"h2"),V(3,"REGISTRO"),F()()(),O(4,"section")(5,"div",1)(6,"div",2)(7,"div",3)(8,"h3"),V(9,"Registra tu nueva cuenta"),F(),O(10,"form",4)(11,"label",5),V(12,"USUARIO"),F(),O(13,"input",6),Kr("ngModelChange",function(s){return hs(r.nuevoUsername,s)||(r.nuevoUsername=s),s}),F(),O(14,"label",7),V(15,"CONTRASE\xD1A"),F(),O(16,"input",8),Kr("ngModelChange",function(s){return hs(r.nuevaPass,s)||(r.nuevaPass=s),s}),F(),O(17,"button",9),It("click",function(){return r.registrarUsuario()}),V(18,"REGISTRAR"),F()()()(),O(19,"div",10),me(20,"img",11),F()()()),n&2&&(qt(13),Wr("ngModel",r.nuevoUsername),qt(3),Wr("ngModel",r.nuevaPass))},dependencies:[no,xd,to,Rd,Md,ec,Xa,Ja],styles:[".main-ingresar[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;align-items:center}.registro-principal[_ngcontent-%COMP%]{flex:65%;display:flex;flex-direction:column;padding:30px;margin-left:40px}.registro[_ngcontent-%COMP%]{display:flex;flex-direction:column}.registro[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .registro[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;width:100%}.registro[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:30px;margin-bottom:15px}.registro[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:ubuntu;color:#fff}.registro[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px;width:40%}.imagen-ingresar[_ngcontent-%COMP%]{flex:35%;display:flex;justify-content:center;align-items:center}.imagen-ingresar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto}"]})};function EU(t,e){t&1&&(O(0,"div",8)(1,"div",9)(2,"div",10),me(3,"img",11),O(4,"div",12)(5,"h5",13),V(6,"AHORCADO"),F()()()(),O(7,"div",9)(8,"div",10),me(9,"img",14),O(10,"div",12)(11,"h5",13),V(12,"MAYOR O MENOR"),F()()()(),O(13,"div",9)(14,"div",10),me(15,"img",15),O(16,"div",12)(17,"h5",13),V(18,"PREGUNTADOS"),F()()()(),O(19,"div",9)(20,"div",10),me(21,"img",16),O(22,"div",12)(23,"h5",13),V(24,"NAME THE SONG"),F()()()()())}function DU(t,e){t&1&&(O(0,"div",8)(1,"div",9)(2,"div",10),me(3,"img",17),O(4,"div",12)(5,"h5",13),V(6,"AHORCADO"),F()()()(),O(7,"div",9)(8,"div",10),me(9,"img",17),O(10,"div",12)(11,"h5",13),V(12,"MAYOR O MENOR"),F()()()(),O(13,"div",9)(14,"div",10),me(15,"img",17),O(16,"div",12)(17,"h5",13),V(18,"PREGUNTADOS"),F()()()(),O(19,"div",9)(20,"div",10),me(21,"img",17),O(22,"div",12)(23,"h5",13),V(24,"NAME THE SONG"),F()()()()())}var Fd=class t{constructor(e){this.authService=e}usuarioLogueadoGeneral=null;ngOnInit(){this.authService.usuarioLogueado$.subscribe(e=>{this.usuarioLogueadoGeneral=e})}static \u0275fac=function(n){return new(n||t)(Y(fn))};static \u0275cmp=ht({type:t,selectors:[["app-home-component"]],standalone:!0,features:[pt],decls:26,vars:1,consts:[["href","#top"],[1,"fas","fa-angle-double-up"],[1,"container-principal-home"],[1,"container-mayor-izquierda"],["src","assets/img/joystick2.png","alt","home gaming fever"],[1,"container-menor-derecha"],["routerLink","/quien-soy",1,"btn","btn-danger","mt-4"],[1,"banner"],[1,"grid-inicio","row","gy-3","mt-3","mb-3"],[1,"col-md-3"],[1,"card"],["src","assets/img/ahorcado.png",1,"card-img-top"],[1,"card-body","cuerpo-card"],[1,"card-title","text-center"],["src","assets/img/mayor-menor.png",1,"card-img-top"],["src","assets/img/preguntados.png",1,"card-img-top"],["src","assets/img/name-song.png",1,"card-img-top"],["src","assets/img/login.jpg",1,"card-img-top"]],template:function(n,r){n&1&&(O(0,"a",0),me(1,"i",1),F(),O(2,"section")(3,"div",2)(4,"div",3),me(5,"img",4),F(),O(6,"div",5)(7,"h3"),V(8,"Bienvenidos a "),me(9,"br"),V(10," Gaming Fever!"),F(),O(11,"p"),V(12," Esta pagina se dise\xF1\xF3 para el trabajo practico correspondiente a la materia Laboratorio IV de la Universidad Tecnol\xF3gica Nacional de Argentina (UTN). "),F(),O(13,"p"),V(14," En este sitio web podr\xE1s encontrar los 4 juegos que program\xE9. Te invito a scrollear en esta pagina para poder encontrar los mismos. "),F(),O(15,"p"),V(16," Espero te diviertas jugando con los juegos que cree usando Angular! "),F(),O(17,"button",6),V(18,"CONOCEME"),F()()()(),O(19,"section")(20,"div",7)(21,"h2"),V(22,"JUEGOS"),F()()(),O(23,"section"),qo(24,EU,25,0,"div",8)(25,DU,25,0,"div",8),F()),n&2&&(qt(24),Gu(r.usuarioLogueadoGeneral?24:25))},dependencies:[Ds,no],styles:['.container-principal-home[_ngcontent-%COMP%]{display:flex;flex-direction:row}.container-mayor-izquierda[_ngcontent-%COMP%]{flex:60%;display:flex}.container-mayor-izquierda[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.container-menor-derecha[_ngcontent-%COMP%]{flex:40%;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:10px 20px;text-align:center}.container-menor-derecha[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.8rem;margin-top:30px;margin-bottom:30px}.cuerpo-card[_ngcontent-%COMP%], .cuerpo-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-image:url("./media/card-bg-HME2GQNT.jpg");color:#fff;font-family:ubuntu;text-decoration:none}.card[_ngcontent-%COMP%]{transition:transform .3s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}']})};var Ev=A_(Iv());var Ld=class t{constructor(e,n,r,i){this.auth=e;this.router=n;this.firestore=r;this.authService=i}usernameLogin="";passLogin="";usuarioLogeado="";mensajeError="";onEnviarUserLogueado=new Se;autocompletar(){this.usernameLogin="marianaquino@hotmail.com",this.passLogin="124Fasfdh!"}login(){Ub(this.auth,this.usernameLogin,this.passLogin).then(e=>{this.mensajeError="",e.user.email!==null&&(this.usuarioLogeado=e.user.email,(0,Ev.default)({text:`Bienvenido, ${this.usuarioLogeado}!`,backgroundColor:"linear-gradient(to right, #00b09b, #96c93d)",duration:3e3}).showToast()),this.authService.setUsuarioLogueado(e.user.email);let n=wd(this.firestore,"logins"),r={fecha:new Date,user:e.user.email};Id(n,r),setTimeout(()=>{this.router.navigate(["/home"])},3e3)}).catch(e=>{switch(e.code){case"auth/invalid-email":this.mensajeError="Email inv\xE1lido";break;case"auth/user-not-found":this.mensajeError="Usuario no encontrado";break;case"auth/wrong-password":this.mensajeError="Contrase\xF1a incorrecta";break;case"auth/network-request-failed":this.mensajeError="Error de red. Intenta nuevamente.";break;default:this.mensajeError="Error desconocido: "+e.message;break}(0,Ev.default)({text:this.mensajeError,backgroundColor:"linear-gradient(to right, #ff5f6d, #ffc371)",duration:3e3}).showToast()})}static \u0275fac=function(n){return new(n||t)(Y(Ln),Y(ii),Y(Hn),Y(fn))};static \u0275cmp=ht({type:t,selectors:[["app-login-component"]],outputs:{onEnviarUserLogueado:"onEnviarUserLogueado"},standalone:!0,features:[pt],decls:29,vars:2,consts:[[1,"banner"],[1,"main-ingresar"],[1,"login-principal"],[1,"login"],["id","login-form"],["for","username"],["type","text","id","username","name","username","required","",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","required","",3,"ngModelChange","ngModel"],[1,"button-group"],["type","submit",1,"btn","btn-danger",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"registro"],["routerLink","/registro",1,"btn","btn-danger","mt-3"],[1,"imagen-ingresar"],["src","assets/img/terminator.jpg","alt","terminator login"]],template:function(n,r){n&1&&(O(0,"section")(1,"div",0)(2,"h2"),V(3,"INGRESAR"),F()()(),O(4,"section")(5,"div",1)(6,"div",2)(7,"div",3)(8,"h3"),V(9,"Ingresa a tu cuenta"),F(),O(10,"form",4)(11,"label",5),V(12,"USUARIO"),F(),O(13,"input",6),Kr("ngModelChange",function(s){return hs(r.usernameLogin,s)||(r.usernameLogin=s),s}),F(),O(14,"label",7),V(15,"CONTRASE\xD1A"),F(),O(16,"input",8),Kr("ngModelChange",function(s){return hs(r.passLogin,s)||(r.passLogin=s),s}),F(),O(17,"div",9)(18,"button",10),It("click",function(){return r.login()}),V(19,"INGRESAR"),F(),O(20,"button",11),It("click",function(){return r.autocompletar()}),V(21,"AUTOCOMPLETAR"),F()()()(),O(22,"div",12)(23,"h3"),V(24,"No tenes cuenta?"),F(),O(25,"button",13),V(26,"REGISTRARSE"),F()()(),O(27,"div",14),me(28,"img",15),F()()()),n&2&&(qt(13),Wr("ngModel",r.usernameLogin),qt(3),Wr("ngModel",r.passLogin))},dependencies:[Ds,no,xd,to,Rd,Md,ec,Xa,Ja],styles:[".main-ingresar[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;align-items:center}.login-principal[_ngcontent-%COMP%]{flex:65%;display:flex;flex-direction:column;padding:30px;margin-left:40px}.login[_ngcontent-%COMP%], .registro[_ngcontent-%COMP%]{display:flex;flex-direction:column}.login[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;width:100%}.login[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:10px}.registro[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:30px}.login[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:ubuntu;color:#fff}.login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px;width:40%}.login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:red}.imagen-ingresar[_ngcontent-%COMP%]{flex:35%;display:flex;justify-content:center;align-items:center}.imagen-ingresar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto}.login[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:space-between;width:100%;max-width:400px}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:48%;padding:10px;margin:0}"]})};var Vd=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ht({type:t,selectors:[["app-quien-soy-component"]],standalone:!0,features:[pt],decls:58,vars:0,consts:[[1,"banner"],[1,"acerca-de"],[1,"contenedor-izq-img"],["src","assets/img/perfil2.jpg"],[1,"contenedor-derecho-info"],[1,"fas","fa-gamepad"]],template:function(n,r){n&1&&(O(0,"section")(1,"div",0)(2,"h2"),V(3,"ACERCA DE"),F()()(),O(4,"section")(5,"div",1)(6,"div",2),me(7,"img",3),F(),O(8,"div",4)(9,"h3"),V(10," Marian N Aquino S "),F(),O(11,"ul")(12,"li"),me(13,"i",5),O(14,"p")(15,"b"),V(16,"Nombre Completo:"),F(),V(17," Mariano Nicolas Aquino"),F()(),O(18,"li"),me(19,"i",5),O(20,"p")(21,"b"),V(22,"Numero de Legajo:"),F(),V(23," 114392"),F()(),O(24,"li"),me(25,"i",5),O(26,"p")(27,"b"),V(28,"Edad:"),F(),V(29," 27 a\xF1os"),F()(),O(30,"li"),me(31,"i",5),O(32,"p")(33,"b"),V(34,"Carrera:"),F(),V(35," Tecnicatura Universitaria en Programacion (UTN)"),F()(),O(36,"li"),me(37,"i",5),O(38,"p")(39,"b"),V(40,"Materia:"),F(),V(41," Laboratorio IV"),F()(),O(42,"li"),me(43,"i",5),O(44,"p")(45,"b"),V(46,"Tecnolog\xEDa utilizada:"),F(),V(47," Angular"),F()(),O(48,"li"),me(49,"i",5),O(50,"p")(51,"b"),V(52,"Ubicacion:"),F(),V(53," Buenos Aires, Argentina"),F()()(),O(54,"h3"),V(55," NAME THE SONG "),F(),O(56,"p"),V(57," Lorem ipsum dolor sit amet, consectetur adipisicing elit. Praesentium expedita sint laborum commodi. Delectus magni labore consequuntur. Non, quis magnam. Corporis natus in quia nulla hic deserunt a! Non, voluptatum? Excepturi pariatur dicta architecto totam. Iste quidem odit neque animi iure dignissimos aut expedita earum et est eos, voluptates veritatis, ipsam aperiam ullam distinctio iusto fugit esse maiores sequi officia. Corporis quos eius quasi quidem illo in tenetur aspernatur velit, inventore sed vero incidunt sequi dolores sit odit at, distinctio fuga? Optio pariatur cupiditate sapiente autem, illo amet ad minus. Doloremque reprehenderit pariatur sunt dolor aperiam tempore incidunt velit hic saepe nemo quia qui, adipisci tenetur quisquam, harum, deserunt corporis ipsum. Velit, debitis perspiciatis quibusdam iusto eius tempora ut esse. Commodi, id aspernatur odit hic maiores repudiandae laudantium in impedit praesentium deleniti. Magni fugit ipsa officia repellendus voluptatum! Vero laudantium aliquam nemo hic. Magnam est laboriosam, fugit rerum ipsam amet. Voluptatum ad modi odio blanditiis fugiat quasi aliquam provident, omnis nostrum illo voluptatem quas facilis eveniet nulla unde sed rem repellat, beatae tenetur obcaecati! Totam vel ratione numquam beatae incidunt? "),F()()()())},styles:[".acerca-de[_ngcontent-%COMP%]{display:flex;flex-direction:row}.contenedor-izq-img[_ngcontent-%COMP%]{flex:50%;display:flex}.contenedor-izq-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.contenedor-derecho-info[_ngcontent-%COMP%]{flex:50%;display:flex;flex-direction:column;padding:10px 20px}.contenedor-derecho-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:30px;margin-bottom:30px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;display:flex;align-items:center;margin-bottom:10px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:red;margin-right:10px}"]})};var jd=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ht({type:t,selectors:[["app-page-not-found"]],standalone:!0,features:[pt],decls:5,vars:0,consts:[[1,"not-found"]],template:function(n,r){n&1&&(O(0,"div",0)(1,"h1"),V(2,"404"),F(),O(3,"p"),V(4,"Lo sentimos, la p\xE1gina que buscas no existe."),F()())},styles:[".not-found[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:80vh;text-align:center;background-color:#000;padding:20px;box-shadow:0 0 20px #000c;border-radius:10px;margin:0 auto}h1[_ngcontent-%COMP%]{font-size:120px;color:#ff2e2e;margin:0}p[_ngcontent-%COMP%]{font-size:24px;color:#fff;margin:20px 0;font-family:Arial,sans-serif}"]})};var PT=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:Fd},{path:"login",component:Ld},{path:"quien-soy",component:Vd},{path:"registro",component:kd},{path:"**",component:jd}];var OT={providers:[aD({eventCoalescing:!0}),dC(PT),UC(()=>BC({projectId:"tp-labo-iv-marian-aquino",appId:"1:814389571342:web:fcc55f9f15bcfdcfb1f15f",storageBucket:"tp-labo-iv-marian-aquino.appspot.com",apiKey:"AIzaSyD7XRLaevOsCYqoW3WcRIZu6LJbxpYryHM",authDomain:"tp-labo-iv-marian-aquino.firebaseapp.com",messagingSenderId:"814389571342"})),Lb(()=>jb()),aT(()=>cT())]};function CU(t,e){if(t&1){let n=JE();O(0,"li",6),V(1),F(),O(2,"li",7),It("click",function(){Ow(n);let i=Ep();return kw(i.logout())}),V(3,"LOG OUT"),F()}if(t&2){let n=Ep();qt(),Dp("USER: ",n.usuarioLogueadoGeneral,"")}}function bU(t,e){t&1&&(O(0,"li",5),V(1,"INGRESAR"),F())}var Ud=class t{constructor(e){this.authService=e}title="tp-labo-iv";usuarioLogueadoGeneral=null;ngOnInit(){this.authService.usuarioLogueado$.subscribe(e=>{this.usuarioLogueadoGeneral=e})}logout(){this.authService.logout()}static \u0275fac=function(n){return new(n||t)(Y(fn))};static \u0275cmp=ht({type:t,selectors:[["app-root"]],standalone:!0,features:[pt],decls:15,vars:1,consts:[[1,"navbar"],[1,"navbar-izquierda"],["routerLink","home","alt","Logo",1,"logo"],[1,"nav-derecha"],["routerLink","quien-soy"],["routerLink","login"],[1,"username"],["routerLink","home",3,"click"]],template:function(n,r){n&1&&(O(0,"header")(1,"nav",0)(2,"div",1),me(3,"img",2),F(),O(4,"ul",3)(5,"li",4),V(6,"ACERCA DE"),F(),qo(7,CU,4,1)(8,bU,2,0,"li",5),F()()(),O(9,"main"),me(10,"router-outlet"),F(),O(11,"footer")(12,"div")(13,"p"),V(14,"\xA9 2024 Gaming Fever"),F()()()),n&2&&(qt(7),Gu(r.usuarioLogueadoGeneral?7:8))},dependencies:[pg,Ds],styles:['.navbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:#000;background-image:url("./media/black-paper-Q4KM4EFX.png");padding:10px 20px}.navbar-izquierda[_ngcontent-%COMP%]{display:flex;align-items:center}.logo[_ngcontent-%COMP%]{height:70px;margin-right:15px;content:url("./media/logo-white2-E6LUDGO2.png");cursor:pointer}.logo[_ngcontent-%COMP%]:hover{content:url("./media/logo-red2-S5HODTNX.png")}.nav-derecha[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex}.nav-derecha[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:20px;text-decoration:none;color:#fff;font-size:1.05rem;font-family:ubuntu;transition:color .3s ease;cursor:pointer}.nav-derecha[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.username):hover{color:red}.nav-derecha[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.username){cursor:pointer}.username[_ngcontent-%COMP%]{color:#fff;cursor:default;pointer-events:none}footer[_ngcontent-%COMP%]{background-color:#000;background-image:url("./media/black-paper-Q4KM4EFX.png");text-align:center;height:70px;padding:20px;width:100%}.copyright[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem}.active-route[_ngcontent-%COMP%]{color:red}']})};AD(Ud,OT).catch(t=>console.error(t));
